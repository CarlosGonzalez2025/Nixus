{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/page.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useUser } from '@/hooks/use-user';\nimport { useToast } from '@/hooks/use-toast';\nimport { createPermit, savePermitDraft } from '../actions';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport {\n  CheckCircle,\n  XCircle,\n  AlertTriangle,\n  FileText,\n  Users,\n  Shield,\n  Upload,\n  Camera,\n  Wand2,\n  Loader2,\n  X,\n  UserPlus,\n  Signature,\n  FileUp,\n  Edit,\n  Plus,\n  Trash2,\n  Clock,\n  Check,\n  ArrowRight,\n  ArrowLeft,\n  Copy,\n  Save,\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n} from '@/components/ui/dialog';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from \"@/components/ui/alert-dialog\";\nimport type { Permit, ExternalWorker, Tool, AnexoAltura, AnexoConfinado, AnexoIzaje, MedicionAtmosferica, AnexoEnergias, AnexoATS, PermitGeneralInfo, ValidacionDiaria, AutorizacionPersona, PruebaGasesPeriodica, JustificacionATS, EppEmergencias } from '@/types';\nimport { SignaturePad } from '@/components/ui/signature-pad';\nimport Image from 'next/image';\nimport { PermitFormProvider, usePermitForm } from './form-context';\nimport { GeneralInfoStep } from './components/GeneralInfoStep';\nimport { AtsStep } from './components/AtsStep';\nimport { AnexoAlturaStep } from './components/AnexoAlturaStep';\nimport { AnexoConfinadoStep } from './components/AnexoConfinadoStep';\nimport { AnexoEnergiaStep } from './components/AnexoEnergiaStep';\nimport { AnexoIzajeStep } from './components/AnexoIzajeStep';\nimport { AnexoExcavacionesStep } from './components/AnexoExcavacionesStep';\nimport { VerificacionPeligrosStep } from './components/VerificacionPeligrosStep';\nimport { EppEmergenciasStep, eppItems } from './components/EppEmergenciasStep';\nimport { WorkersStep } from './components/WorkersStep';\nimport { ReviewStep } from './components/ReviewStep';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '@/lib/firebase';\n\nconst workerRoles = [\n  \"Trabajador autorizado\",\n  \"Ayudante de seguridad\",\n  \"Coordinador de TA\",\n  \"Supervisor de EC\",\n  \"Soldador\",\n  \"Operador de equipo para elevación de personas\",\n  \"Vigía\",\n  \"Otro\"\n];\n\n// Listas de entidades colombianas\nconst epsEntidades = [\n  \"Salud Total\",\n  \"Sanitas\",\n  \"Compensar\",\n  \"Sura\",\n  \"Nueva EPS\",\n  \"Famisanar\",\n  \"Coomeva\",\n  \"Medimás\",\n  \"Capital Salud\",\n  \"SOS\",\n  \"Cruz Blanca\",\n  \"Aliansalud\",\n  \"Coosalud\",\n  \"Mutual Ser\",\n  \"Emssanar\",\n];\n\nconst arlEntidades = [\n  \"AXA Colpatria\",\n  \"Bolívar\",\n  \"Colmena\",\n  \"Sura\",\n  \"Positiva\",\n  \"Liberty\",\n  \"Equidad\",\n  \"Aurora\",\n];\n\nconst pensionEntidades = [\n  \"Protección\",\n  \"Porvenir\",\n  \"Colpensiones\",\n  \"Colfondos\",\n  \"Old Mutual\",\n  \"Skandia\",\n];\n\nfunction CreatePermitWizard() {\n  const { user } = useUser();\n  const { toast } = useToast();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n\n  const { state: formData, dispatch } = usePermitForm();\n  \n  const [draftId, setDraftId] = useState<string | undefined>(undefined);\n  const [isLoadingForm, setIsLoadingForm] = useState(true);\n\n  const [step, setStep] = useState(1);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isSavingDraft, setIsSavingDraft] = useState(false);\n  const [showSuccessDialog, setShowSuccessDialog] = useState(false);\n  const [newPermitInfo, setNewPermitInfo] = useState({ id: '', number: '' });\n\n  // Worker Dialog State\n  const [isWorkerDialogOpen, setIsWorkerDialogOpen] = useState(false);\n  const [currentWorker, setCurrentWorker] = useState<Partial<ExternalWorker> | null>(null);\n  const [editingWorkerIndex, setEditingWorkerIndex] = useState<number | null>(null);\n  \n  // Signature Pad State\n  const [isSignaturePadOpen, setIsSignaturePadOpen] = useState(false);\n  const [signatureTarget, setSignatureTarget] = useState<string | null>(null);\n  const [signatureContext, setSignatureContext] = useState<any>(null);\n  \n  // Scroll to top on step change\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [step]);\n\n  useEffect(() => {\n    const editId = searchParams.get('edit');\n    if (editId) {\n      setIsLoadingForm(true);\n      const fetchDraft = async () => {\n        try {\n          const docRef = doc(db, 'permits', editId);\n          const docSnap = await getDoc(docRef);\n          if (docSnap.exists() && (docSnap.data().status === 'borrador' || docSnap.data().status === 'pendiente_revision')) {\n            const draftData = docSnap.data() as Permit;\n            \n            dispatch({ type: 'SET_ENTIRE_STATE', payload: draftData });\n            \n            setDraftId(editId);\n          } else {\n            toast({ variant: \"destructive\", title: \"Permiso no encontrado o no editable\", description: \"El permiso que intenta editar no existe o ya no está en estado de borrador.\" });\n            router.push('/permits');\n          }\n        } catch (error) {\n          console.error(\"Error cargando borrador:\", error);\n          toast({ variant: \"destructive\", title: \"Error al Cargar\", description: \"No se pudo cargar la información del permiso.\" });\n        } finally {\n          setIsLoadingForm(false);\n        }\n      };\n      fetchDraft();\n    } else {\n      setIsLoadingForm(false);\n    }\n  }, [searchParams, dispatch, router, toast]);\n\n  useEffect(() => {\n    if (user && !formData.generalInfo.nombreSolicitante) {\n      dispatch({ type: 'UPDATE_GENERAL_INFO', payload: { nombreSolicitante: user.displayName || '' } });\n    }\n  }, [user, formData.generalInfo.nombreSolicitante, dispatch]);\n\n  const openNewWorkerDialog = () => {\n    setEditingWorkerIndex(null);\n    setCurrentWorker({\n      nombre: '',\n      cedula: '',\n      rol: '',\n      otroRol: '',\n      eps: '',\n      arl: '',\n      pensiones: '',\n      tsaTec: { tec: false, tsa: false },\n      entrenamiento: { tec: false, tsa: false, otro: false, otroCual: '' },\n      firmaApertura: '',\n      firmaCierre: ''\n    });\n    setIsWorkerDialogOpen(true);\n  };\n  \n  const openEditWorkerDialog = (worker: ExternalWorker, index: number) => {\n    setEditingWorkerIndex(index);\n    setCurrentWorker(worker);\n    setIsWorkerDialogOpen(true);\n  };\n\n  const handleSaveWorker = () => {\n    if (!currentWorker || !currentWorker.nombre || !currentWorker.cedula || !currentWorker.rol) {\n      toast({\n        variant: 'destructive',\n        title: 'Campos Incompletos',\n        description: 'Nombre, cédula y rol son requeridos.',\n      });\n      return;\n    }\n    \n    if (currentWorker.rol === 'Otro' && !currentWorker.otroRol?.trim()) {\n      toast({\n        variant: 'destructive',\n        title: 'Especificación Requerida',\n        description: 'Por favor, especifique el rol \"Otro\".',\n      });\n      return;\n    }\n\n    if (editingWorkerIndex !== null) {\n      const updatedWorkers = [...(formData.workers || [])];\n      updatedWorkers[editingWorkerIndex] = currentWorker as ExternalWorker;\n      dispatch({ type: 'SET_WORKERS', payload: updatedWorkers });\n      toast({ title: 'Trabajador Actualizado' });\n    } else {\n      dispatch({ type: 'ADD_WORKER', payload: currentWorker as ExternalWorker });\n      toast({ title: 'Trabajador Agregado' });\n    }\n\n    setIsWorkerDialogOpen(false);\n    setCurrentWorker(null);\n    setEditingWorkerIndex(null);\n  };\n  \n  const removeWorker = (index: number) => {\n    const updatedWorkers = (formData.workers || []).filter((_, i) => i !== index);\n    dispatch({ type: 'SET_WORKERS', payload: updatedWorkers });\n  };\n  \n  const handleWorkerInputChange = (field: keyof ExternalWorker, value: any) => {\n    setCurrentWorker(prev => prev ? { ...prev, [field]: value } : null);\n  };\n\n  const openSignaturePad = (target: string, context?: any) => {\n    setSignatureTarget(target);\n    setSignatureContext(context);\n    setIsSignaturePadOpen(true);\n  };\n\n  const handleSaveSignature = (signatureDataUrl: string) => {\n    if (!signatureTarget) return;\n\n    if (signatureTarget === 'worker.firmaApertura' || signatureTarget === 'worker.firmaCierre') {\n       setCurrentWorker(prev => prev ? { ...prev, [signatureTarget.split('.')[1]]: signatureDataUrl } : null);\n    } else {\n       dispatch({ type: 'UPDATE_SIGNATURE', payload: { target: signatureTarget, signature: signatureDataUrl, context: signatureContext }});\n    }\n\n    setIsSignaturePadOpen(false);\n    setSignatureTarget(null);\n    setSignatureContext(null);\n  };\n  \n  const handleSaveDraft = async () => {\n    if (!user) {\n      toast({ variant: 'destructive', title: 'Error de Autenticación' });\n      return;\n    }\n\n    setIsSavingDraft(true);\n    try {\n      const result = await savePermitDraft({\n          userId: user.uid, \n          userDisplayName: user.displayName || null, \n          userEmail: user.email || null,\n          userPhotoURL: user.photoURL || null,\n          draftId: draftId,\n          ...formData\n      });\n\n      if (result.success && result.permitId) {\n        if (!draftId) {\n          setDraftId(result.permitId);\n        }\n        toast({ title: \"Borrador Guardado\", description: \"Tu progreso ha sido guardado.\" });\n      } else {\n        throw new Error(result.error || 'No se pudo guardar el borrador.');\n      }\n    } catch (error: any) {\n      toast({ variant: 'destructive', title: 'Error al Guardar', description: error.message });\n    } finally {\n      setIsSavingDraft(false);\n    }\n  };\n\n  const colors = {\n    primary: 'hsl(var(--primary))',\n    dark: 'hsl(var(--primary))', \n    success: 'hsl(var(--accent))',\n  };\n  \n  const baseSteps = [\n    { label: \"Info General\", condition: true },\n    { label: \"ATS\", condition: true },\n    { label: \"Anexo Altura\", condition: formData.selectedWorkTypes.alturas},\n    { label: \"Anexo Confinado\", condition: formData.selectedWorkTypes.confinado},\n    { label: \"Anexo Energías\", condition: formData.selectedWorkTypes.energia},\n    { label: \"Anexo Izaje\", condition: formData.selectedWorkTypes.izaje},\n    { label: \"Anexo Excavaciones\", condition: formData.selectedWorkTypes.excavacion},\n    { label: \"Verificación Peligros\", condition: false },\n    { label: \"Emergencias\", condition: true },\n    { label: \"Trabajadores\", condition: true },\n    { label: \"Revisión\", condition: true }\n  ];\n\n  const steps = baseSteps.filter(s => s.condition);\n  const currentStepInfo = steps[step - 1];\n\n  const canProceed = () => {\n    const currentLabel = steps[step - 1]?.label;\n\n    if (currentLabel === 'Info General') {\n        const { areaEspecifica, planta, nombreSolicitante, validFrom, validUntil, workDescription, numTrabajadores, responsable } = formData.generalInfo;\n        const missingFields = [];\n        if (!areaEspecifica) missingFields.push(\"Área específica\");\n        if (!planta) missingFields.push(\"Planta\");\n        if (!nombreSolicitante) missingFields.push(\"Nombre solicitante\");\n        if (!validFrom) missingFields.push(\"Fecha de inicio\");\n        if (!validUntil) missingFields.push(\"Fecha de fin\");\n        if (!workDescription?.trim()) missingFields.push(\"Descripción de la Tarea\");\n        if (!numTrabajadores) missingFields.push(\"No. Trabajadores\");\n        if (!responsable?.nombre) missingFields.push(\"Nombre del Responsable\");\n        if (!responsable?.cargo) missingFields.push(\"Cargo del Responsable\");\n        if (!responsable?.compania) missingFields.push(\"Compañía del Responsable\");\n\n        if (!Object.values(formData.selectedWorkTypes).some(v => v)) {\n            missingFields.push(\"Tipo de Trabajo (al menos uno)\");\n        }\n\n        if (missingFields.length > 0) {\n            toast({\n                variant: \"destructive\",\n                title: \"Campos Incompletos en Información General\",\n                description: `Por favor, complete los siguientes campos obligatorios: ${missingFields.join(', ')}.`,\n                duration: 6000,\n            });\n            return false;\n        }\n    }\n\n    if (currentLabel === 'ATS') {\n        const { peligros, justificacion, epp, peligrosAdicionales } = formData.anexoATS || {};\n        \n        const hasPeligro = (peligros && Object.values(peligros).some(value => value === 'si')) || (peligrosAdicionales && peligrosAdicionales.length > 0);\n        if (!hasPeligro) {\n          toast({\n              variant: \"destructive\",\n              title: \"Validación Requerida en ATS\",\n              description: \"Debe seleccionar los peligros asociados e identificados para la actividad, para continuar.\",\n          });\n          return false;\n        }\n        \n        const hasEpp = epp && Object.values(epp).some(value => value === true || (typeof value === 'string' && value.trim() !== ''));\n        if (!hasEpp) {\n            toast({\n                variant: \"destructive\",\n                title: \"Validación Requerida en ATS\",\n                description: \"Debe seleccionar al menos un EPP requerido para continuar.\",\n            });\n            return false;\n        }\n\n        if (!justificacion || !Object.values(justificacion).some(value => value === true)) {\n            toast({\n                variant: \"destructive\",\n                title: \"Validación Requerida en ATS\",\n                description: \"Debe seleccionar al menos una 'Justificación para el uso del ATS' para continuar.\",\n            });\n            return false;\n        }\n    }\n    \n    if (currentLabel === 'Anexo Altura') {\n      const anexo = formData.anexoAltura;\n      if (anexo?.tipoEstructura?.otros && !anexo.tipoEstructura.otrosCual?.trim()) {\n        toast({ variant: \"destructive\", title: \"Campo Requerido\", description: \"Debe especificar el otro tipo de estructura en el Anexo de Alturas.\" });\n        return false;\n      }\n      if (!anexo?.afectaciones?.observaciones?.trim()) {\n        toast({ variant: \"destructive\", title: \"Campo Requerido\", description: \"Debe ingresar las observaciones en la sección de Afectaciones del Anexo de Alturas.\" });\n        return false;\n      }\n    }\n\n    if (currentLabel === 'Anexo Confinado') {\n      const anexo = formData.anexoConfinado;\n      if (anexo?.identificacionPeligros?.procedimientoComunicacion === 'si' && !anexo.procedimientoComunicacionCual?.trim()) {\n        toast({ variant: \"destructive\", title: \"Campo Requerido\", description: \"Debe especificar cuál es el procedimiento de comunicación en el Anexo de Espacios Confinados.\" });\n        return false;\n      }\n    }\n    \n    if (currentLabel === 'Anexo Energías') {\n      const anexo = formData.anexoEnergias;\n      const trabajosEnCaliente = anexo?.trabajosEnCaliente as any;\n      if (trabajosEnCaliente?.otro_check && !(trabajosEnCaliente?.otro || '').trim()) {\n        toast({ variant: \"destructive\", title: \"Campo Requerido\", description: \"Debe especificar el 'otro' aspecto en Trabajos en Caliente.\" });\n        return false;\n      }\n      const energiasPeligrosas = anexo?.energiasPeligrosas as any;\n      if (energiasPeligrosas?.otra_check && !(energiasPeligrosas?.otra || '').trim()) {\n          toast({ variant: \"destructive\", title: \"Campo Requerido\", description: \"Debe especificar el 'otro' tipo de energía peligrosa.\" });\n          return false;\n      }\n    }\n\n    if (currentLabel === 'Verificación Peligros') {\n        const { verificacionPeligros } = formData;\n        if (!verificacionPeligros || Object.values(verificacionPeligros).every(category => !Object.values(category).some(value => value === 'si'))) {\n            toast({\n                variant: \"destructive\",\n                title: \"Validación Requerida en Verificación de Peligros\",\n                description: \"Debe seleccionar 'SI' en al menos un peligro para poder continuar.\",\n            });\n            return false;\n        }\n    }\n\n    if (currentLabel === 'Emergencias') {\n        const { emergencias } = formData.eppEmergencias || {};\n        if (!emergencias || !Object.values(emergencias).some(value => value === 'si')) {\n            toast({\n                variant: \"destructive\",\n                title: \"Validación Requerida en Manejo de Emergencias\",\n                description: \"Debe seleccionar 'SI' en al menos una opción de 'Notificación y Manejo de Emergencias' para continuar.\",\n                duration: 6000,\n            });\n            return false;\n        }\n    }\n    \n    if (currentLabel === 'Trabajadores') {\n      const numTrabajadores = parseInt(formData.generalInfo.numTrabajadores || '0', 10);\n      const workers = formData.workers || [];\n\n      if (workers.length !== numTrabajadores) {\n        toast({\n          variant: \"destructive\",\n          title: \"Número de Trabajadores no Coincide\",\n          description: `Ha especificado ${numTrabajadores} trabajadores, pero ha registrado ${workers.length}. Por favor, ajuste la lista.`,\n          duration: 6000,\n        });\n        return false;\n      }\n      \n      const missingSignatures = workers.filter(w => !w.firmaApertura);\n      if(missingSignatures.length > 0) {\n        toast({\n          variant: \"destructive\",\n          title: \"Faltan Firmas de Trabajadores\",\n          description: `Todos los trabajadores deben registrar su firma de apertura para poder continuar. Faltan ${missingSignatures.length} firmas.`,\n          duration: 6000,\n        });\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  const handleSavePermit = async () => {\n    if (!user) {\n      toast({ variant: 'destructive', title: 'Error de Autenticación' });\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const result = await savePermitDraft({\n        userId: user.uid,\n        userDisplayName: user.displayName || null,\n        userEmail: user.email || null,\n        userPhotoURL: user.photoURL || null,\n        draftId: draftId,\n        ...formData,\n      });\n\n      if (result.success && result.permitId) {\n        toast({\n          title: 'Borrador Guardado',\n          description: 'Será redirigido para firmar y activar el permiso.',\n        });\n        router.push(`/permits/${result.permitId}`);\n      } else {\n        throw new Error(result.error || 'Hubo un error guardando el permiso.');\n      }\n    } catch (error: any) {\n      toast({\n        variant: 'destructive',\n        title: 'Falló el Envío',\n        description: error.message,\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  \n  const handleUpdateATS = useCallback((updates: Partial<AnexoATS>) => {\n    dispatch({ type: 'UPDATE_ATS', payload: updates });\n  }, [dispatch]);\n\n  const handleUpdateEppEmergencias = useCallback((updates: Partial<EppEmergencias>) => {\n    dispatch({ type: 'UPDATE_EPP_EMERGENCIAS', payload: updates });\n  }, [dispatch]);\n\n  const renderStepContent = () => {\n    if (isLoadingForm) {\n      return (\n        <div className=\"flex justify-center items-center h-64\">\n          <Loader2 className=\"h-8 w-8 animate-spin\" />\n        </div>\n      );\n    }\n\n    const currentStepLabel = steps[step - 1]?.label;\n    switch (currentStepLabel) {\n      case \"Info General\":\n        return <GeneralInfoStep />;\n      case \"ATS\":\n        return <AtsStep anexoATS={formData.anexoATS as AnexoATS} onUpdateATS={handleUpdateATS} />;\n      case \"Anexo Altura\":\n        return <AnexoAlturaStep />;\n      case \"Anexo Confinado\":\n        return <AnexoConfinadoStep />;\n      case \"Anexo Energías\":\n        return <AnexoEnergiaStep />;\n      case \"Anexo Izaje\":\n        return <AnexoIzajeStep />;\n      case \"Anexo Excavaciones\":\n        return <AnexoExcavacionesStep />;\n      case \"Verificación Peligros\":\n        return <VerificacionPeligrosStep />;\n      case \"Emergencias\":\n        return <EppEmergenciasStep eppEmergencias={formData.eppEmergencias as EppEmergencias} onUpdate={handleUpdateEppEmergencias} />;\n      case \"Trabajadores\":\n        return <WorkersStep \n                  workers={formData.workers || []}\n                  onAddWorker={openNewWorkerDialog}\n                  onEditWorker={openEditWorkerDialog}\n                  onRemoveWorker={removeWorker}\n               />;\n      case \"Revisión\":\n        return <ReviewStep />;\n      default:\n        return (\n          <div className=\"text-center p-8\">\n            <h3 className=\"text-xl font-bold\">Paso en Construcción</h3>\n            <p className=\"text-muted-foreground\">{currentStepLabel}</p>\n          </div>\n        );\n    }\n  };\n\n  return (\n    <>\n    <div className=\"flex flex-1 flex-col bg-gray-50 min-h-screen\">\n      <header className=\"text-white shadow-lg sticky top-0 z-20\" style={{ background: `linear-gradient(135deg, ${colors.primary} 0%, ${colors.dark} 100%)` }}>\n        <div className=\"max-w-7xl mx-auto px-4 py-3 md:py-4\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <div className=\"flex items-center gap-3\">\n                <Image \n                    src=\"https://i.postimg.cc/jShP2K6k/Whats-App-Image-2025-10-20-at-10-43-48-AM.jpg\"\n                    alt=\"Crear Permiso Icon\"\n                    width={48}\n                    height={48}\n                    className=\"rounded-full\"\n                />\n                <div className=\"hidden md:block border-l border-white border-opacity-30 pl-3\">\n                  <h1 className=\"text-xl font-bold\">Nuevo Permiso de Trabajo</h1>\n                  <p className=\"text-sm text-white text-opacity-80\">\n                    Paso {step} de {steps.length}: {currentStepInfo.label}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <Button\n              onClick={() => {\n                if (confirm('¿Está seguro de cancelar? Los cambios no guardados en el borrador actual se mantendrán.')) {\n                  router.push('/dashboard');\n                }\n              }}\n              variant=\"ghost\"\n              className=\"bg-white bg-opacity-20 hover:bg-opacity-30\"\n            >\n              <X size={18} className=\"mr-2\" />\n              <span className=\"hidden sm:inline\">Cancelar</span>\n            </Button>\n          </div>\n        </div>\n      </header>\n      \n      <div className=\"bg-white border-b shadow-sm sticky top-[68px] md:top-[80px] z-10\">\n        <div className=\"max-w-7xl mx-auto px-4 py-4 md:py-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            {steps.map((s_info, s_idx) => {\n              const s = s_idx + 1;\n              return(\n              <div key={s} className=\"flex items-center flex-1\">\n                <div className={`relative flex items-center justify-center w-8 h-8 md:w-10 md:h-10 rounded-full font-bold text-sm transition-all ${\n                  s === step ? 'ring-4 scale-110 shadow-lg text-white' :\n                  s < step ? 'text-white' :\n                  'bg-gray-200 text-gray-600'\n                }`}\n                style={s <= step ? { backgroundColor: s === step ? colors.primary : colors.success } : {}}>\n                  {s < step ? <CheckCircle size={20}/> : s_idx + 1}\n                </div>\n                {s < steps.length && (\n                  <div className=\"flex-1 h-1 mx-1 md:mx-2 rounded\" style={{ \n                    backgroundColor: s < step ? colors.success : '#E5E7EB' \n                  }} />\n                )}\n              </div>\n            )})}\n          </div>\n          <div className=\"grid\" style={{gridTemplateColumns: `repeat(${steps.length}, minmax(0, 1fr))`}}>\n            {steps.map((s_info, s_idx) => (\n              <span key={s_idx} className=\"text-[10px] md:text-xs text-center font-medium\" style={{ color: step === s_idx + 1 ? colors.primary : '#6B7280' }}>{s_info.label}</span>\n            ))}\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"max-w-5xl mx-auto p-4 pb-24 md:pb-24 w-full\">\n        <div key={step} className=\"bg-white rounded-xl shadow-xl p-6 md:p-8\">\n          {renderStepContent()}\n        </div>\n\n        {/* Navigation Buttons */}\n        <div className=\"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-sm border-t shadow-lg z-20\">\n          <div className=\"max-w-5xl mx-auto px-4 py-3 flex gap-2 sm:gap-4\">\n            <Button\n              onClick={() => setStep(step - 1)}\n              disabled={isSubmitting || step === 1}\n              variant=\"outline\"\n              className=\"px-4 py-3 h-auto md:px-6\"\n            >\n              <ArrowLeft className=\"mr-2 h-4 w-4\" />\n              Anterior\n            </Button>\n            \n            <Button\n                onClick={handleSaveDraft}\n                variant=\"secondary\"\n                disabled={isSavingDraft || isSubmitting}\n                className=\"px-4 py-3 h-auto md:px-6\"\n            >\n                {isSavingDraft ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\"/> : <Save className=\"mr-2 h-4 w-4\"/>}\n                Borrador\n            </Button>\n\n            {step < steps.length ? (\n              <Button\n                onClick={() => {\n                  if (canProceed()) {\n                    setStep(step + 1);\n                  }\n                }}\n                disabled={isSubmitting}\n                className=\"flex-1 py-3 h-auto\"\n              >\n                Siguiente\n                <ArrowRight className=\"ml-2 h-4 w-4\" />\n              </Button>\n            ) : (\n                <AlertDialog>\n                    <AlertDialogTrigger asChild>\n                         <Button\n                            disabled={isSubmitting}\n                            className=\"flex-1 py-3 h-auto bg-green-600 hover:bg-green-700 text-lg\"\n                        >\n                            {isSubmitting ? (\n                            <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                            ) : (\n                            <Save size={22} className=\"mr-2\" />\n                            )}\n                            <span>Guardar Permiso</span>\n                        </Button>\n                    </AlertDialogTrigger>\n                    <AlertDialogContent>\n                        <AlertDialogHeader>\n                            <AlertDialogTitle>¿Está seguro de guardar el permiso?</AlertDialogTitle>\n                            <AlertDialogDescription>\n                                Se creará un borrador del permiso. Deberá ir a la página de detalles para firmar y activar el flujo de aprobación.\n                            </AlertDialogDescription>\n                        </AlertDialogHeader>\n                        <AlertDialogFooter>\n                            <AlertDialogCancel>Cancelar</AlertDialogCancel>\n                            <AlertDialogAction onClick={handleSavePermit} disabled={isSubmitting}>\n                                 {isSubmitting ? 'Guardando...' : 'Sí, guardar ahora'}\n                            </AlertDialogAction>\n                        </AlertDialogFooter>\n                    </AlertDialogContent>\n                </AlertDialog>\n            )}\n          </div>\n        </div>\n      </div>\n      \n      <Dialog open={showSuccessDialog} onOpenChange={setShowSuccessDialog}>\n          <DialogContent>\n              <DialogHeader>\n                  <DialogTitle className=\"flex items-center gap-2 text-green-600\">\n                      <CheckCircle />\n                      ¡Permiso Creado Exitosamente!\n                  </DialogTitle>\n                  <DialogDescription>\n                      El permiso N° <strong>{newPermitInfo.number}</strong> ha sido creado y enviado para revisión.\n                  </DialogDescription>\n              </DialogHeader>\n              <DialogFooter className=\"sm:justify-between gap-2\">\n                  <Button variant=\"outline\" onClick={() => router.push('/dashboard')}>\n                      Ir al Dashboard\n                  </Button>\n                   <Button onClick={() => router.push(`/permits/${newPermitInfo.id}`)}>\n                      Ver Detalles del Permiso\n                   </Button>\n              </DialogFooter>\n          </DialogContent>\n      </Dialog>\n      \n        <Dialog open={isWorkerDialogOpen} onOpenChange={setIsWorkerDialogOpen}>\n            <DialogContent className=\"sm:max-w-2xl max-h-[90vh] overflow-hidden flex flex-col\">\n                <DialogHeader className=\"pb-4 border-b\">\n                    <DialogTitle className=\"flex items-center gap-2 text-xl\">\n                        <UserPlus className=\"h-5 w-5 text-primary\"/>\n                        {editingWorkerIndex !== null ? 'Editar' : 'Agregar'} Trabajador\n                    </DialogTitle>\n                    <p className=\"text-sm text-muted-foreground\">Complete la información del trabajador</p>\n                </DialogHeader>\n                \n                <div className=\"flex-1 overflow-y-auto px-1\">\n                    <div className=\"space-y-6 py-4\">\n                        {/* Información Personal */}\n                        <div className=\"bg-gray-50 p-4 rounded-lg space-y-4\">\n                            <h3 className=\"font-semibold text-sm text-primary flex items-center gap-2\">\n                                <Users className=\"h-4 w-4\"/>\n                                Información Personal\n                            </h3>\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div className=\"space-y-2\">\n                                    <Label htmlFor=\"worker-name\" className=\"text-sm font-medium\">\n                                        Nombres y Apellidos <span className=\"text-red-500\">*</span>\n                                    </Label>\n                                    <Input \n                                        id=\"worker-name\" \n                                        value={currentWorker?.nombre || ''} \n                                        onChange={(e) => handleWorkerInputChange('nombre', e.target.value)}\n                                        placeholder=\"Ingrese nombre completo\"\n                                        className=\"h-10\"\n                                    />\n                                </div>\n                                <div className=\"space-y-2\">\n                                    <Label htmlFor=\"worker-cedula\" className=\"text-sm font-medium\">\n                                        Cédula <span className=\"text-red-500\">*</span>\n                                    </Label>\n                                    <Input \n                                        id=\"worker-cedula\" \n                                        value={currentWorker?.cedula || ''} \n                                        onChange={(e) => handleWorkerInputChange('cedula', e.target.value)}\n                                        placeholder=\"Número de identificación\"\n                                        className=\"h-10\"\n                                    />\n                                </div>\n                            </div>\n                            \n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div className=\"space-y-2\">\n                                    <Label htmlFor=\"worker-rol\" className=\"text-sm font-medium\">\n                                        Cargo/Rol <span className=\"text-red-500\">*</span>\n                                    </Label>\n                                    <Select value={currentWorker?.rol || ''} onValueChange={(value) => handleWorkerInputChange('rol', value)}>\n                                        <SelectTrigger id=\"worker-rol\" className=\"h-10\">\n                                            <SelectValue placeholder=\"Seleccione un rol\"/>\n                                        </SelectTrigger>\n                                        <SelectContent>\n                                            {workerRoles.map(role => <SelectItem key={role} value={role}>{role}</SelectItem>)}\n                                        </SelectContent>\n                                    </Select>\n                                </div>\n                                {currentWorker?.rol === 'Otro' && (\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"worker-otro-rol\" className=\"text-sm font-medium\">\n                                            Especifique el rol <span className=\"text-red-500\">*</span>\n                                        </Label>\n                                        <Input \n                                            id=\"worker-otro-rol\" \n                                            value={currentWorker?.otroRol || ''} \n                                            onChange={(e) => handleWorkerInputChange('otroRol', e.target.value)}\n                                            placeholder=\"Describa el rol\"\n                                            className=\"h-10\"\n                                        />\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n\n                        {/* Certificaciones */}\n                        <div className=\"bg-blue-50 p-4 rounded-lg space-y-4\">\n                            <h3 className=\"font-semibold text-sm text-primary flex items-center gap-2\">\n                                <Shield className=\"h-4 w-4\"/>\n                                Certificaciones y Entrenamiento\n                            </h3>\n                            \n                            <div className=\"space-y-3\">\n                                <div>\n                                    <Label className=\"text-sm font-medium mb-2 block\">Certificado Aptitud Médica</Label>\n                                    <div className=\"flex gap-6\">\n                                        <div className=\"flex items-center gap-2\">\n                                            <Checkbox \n                                                id=\"cert-tec\" \n                                                checked={currentWorker?.tsaTec?.tec || false} \n                                                onCheckedChange={checked => handleWorkerInputChange('tsaTec', { ...currentWorker?.tsaTec, tec: !!checked })} \n                                            /> \n                                            <Label htmlFor=\"cert-tec\" className=\"font-normal cursor-pointer\">TEC</Label>\n                                        </div>\n                                        <div className=\"flex items-center gap-2\">\n                                            <Checkbox \n                                                id=\"cert-tsa\" \n                                                checked={currentWorker?.tsaTec?.tsa || false} \n                                                onCheckedChange={checked => handleWorkerInputChange('tsaTec', { ...currentWorker?.tsaTec, tsa: !!checked })} \n                                            /> \n                                            <Label htmlFor=\"cert-tsa\" className=\"font-normal cursor-pointer\">TSA</Label>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div>\n                                    <Label className=\"text-sm font-medium mb-2 block\">Entrenamiento / Capacitación</Label>\n                                    <div className=\"flex flex-wrap gap-6\">\n                                        <div className=\"flex items-center gap-2\">\n                                            <Checkbox \n                                                id=\"ent-tec\" \n                                                checked={currentWorker?.entrenamiento?.tec || false} \n                                                onCheckedChange={checked => handleWorkerInputChange('entrenamiento', { ...currentWorker?.entrenamiento, tec: !!checked })} \n                                            /> \n                                            <Label htmlFor=\"ent-tec\" className=\"font-normal cursor-pointer\">TEC</Label>\n                                        </div>\n                                        <div className=\"flex items-center gap-2\">\n                                            <Checkbox \n                                                id=\"ent-tsa\" \n                                                checked={currentWorker?.entrenamiento?.tsa || false} \n                                                onCheckedChange={checked => handleWorkerInputChange('entrenamiento', { ...currentWorker?.entrenamiento, tsa: !!checked })} \n                                            /> \n                                            <Label htmlFor=\"ent-tsa\" className=\"font-normal cursor-pointer\">TSA</Label>\n                                        </div>\n                                        <div className=\"flex items-center gap-2\">\n                                            <Checkbox \n                                                id=\"ent-otro\" \n                                                checked={currentWorker?.entrenamiento?.otro || false} \n                                                onCheckedChange={checked => handleWorkerInputChange('entrenamiento', { ...currentWorker?.entrenamiento, otro: !!checked })} \n                                            /> \n                                            <Label htmlFor=\"ent-otro\" className=\"font-normal cursor-pointer\">Otro</Label>\n                                        </div>\n                                    </div>\n                                    {currentWorker?.entrenamiento?.otro && (\n                                        <Input \n                                            placeholder=\"Especificar otro entrenamiento\" \n                                            value={currentWorker?.entrenamiento?.otroCual || ''} \n                                            onChange={e => handleWorkerInputChange('entrenamiento', { ...currentWorker?.entrenamiento, otroCual: e.target.value })}\n                                            className=\"mt-2 h-10\"\n                                        />\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Afiliaciones a Seguridad Social */}\n                        <div className=\"bg-green-50 p-4 rounded-lg space-y-4\">\n                            <h3 className=\"font-semibold text-sm text-primary flex items-center gap-2\">\n                                <FileText className=\"h-4 w-4\"/>\n                                Afiliación a Seguridad Social\n                            </h3>\n                            \n                            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                                <div className=\"space-y-2\">\n                                    <Label htmlFor=\"worker-eps\" className=\"text-sm font-medium\">EPS</Label>\n                                    <Select \n                                        value={currentWorker?.eps || ''} \n                                        onValueChange={(value) => handleWorkerInputChange('eps', value)}\n                                    >\n                                        <SelectTrigger id=\"worker-eps\" className=\"h-10\">\n                                            <SelectValue placeholder=\"Seleccione EPS\"/>\n                                        </SelectTrigger>\n                                        <SelectContent className=\"max-h-[200px]\">\n                                            {epsEntidades.map(eps => (\n                                                <SelectItem key={eps} value={eps}>{eps}</SelectItem>\n                                            ))}\n                                        </SelectContent>\n                                    </Select>\n                                </div>\n\n                                <div className=\"space-y-2\">\n                                    <Label htmlFor=\"worker-arl\" className=\"text-sm font-medium\">ARL</Label>\n                                    <Select \n                                        value={currentWorker?.arl || ''} \n                                        onValueChange={(value) => handleWorkerInputChange('arl', value)}\n                                    >\n                                        <SelectTrigger id=\"worker-arl\" className=\"h-10\">\n                                            <SelectValue placeholder=\"Seleccione ARL\"/>\n                                        </SelectTrigger>\n                                        <SelectContent className=\"max-h-[200px]\">\n                                            {arlEntidades.map(arl => (\n                                                <SelectItem key={arl} value={arl}>{arl}</SelectItem>\n                                            ))}\n                                        </SelectContent>\n                                    </Select>\n                                </div>\n\n                                <div className=\"space-y-2\">\n                                    <Label htmlFor=\"worker-pension\" className=\"text-sm font-medium\">Pensión</Label>\n                                    <Select \n                                        value={currentWorker?.pensiones || ''} \n                                        onValueChange={(value) => handleWorkerInputChange('pensiones', value)}\n                                    >\n                                        <SelectTrigger id=\"worker-pension\" className=\"h-10\">\n                                            <SelectValue placeholder=\"Seleccione Pensión\"/>\n                                        </SelectTrigger>\n                                        <SelectContent className=\"max-h-[200px]\">\n                                            {pensionEntidades.map(pension => (\n                                                <SelectItem key={pension} value={pension}>{pension}</SelectItem>\n                                            ))}\n                                        </SelectContent>\n                                    </Select>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Firma */}\n                        <div className=\"bg-purple-50 p-4 rounded-lg space-y-3\">\n                            <h3 className=\"font-semibold text-sm text-primary flex items-center gap-2\">\n                                <Signature className=\"h-4 w-4\"/>\n                                Firma de Apertura\n                            </h3>\n                            <Button \n                                variant=\"outline\" \n                                className=\"w-full h-12 text-sm font-medium hover:bg-white\" \n                                onClick={() => openSignaturePad('worker.firmaApertura')}\n                            >\n                                <Signature className=\"mr-2 h-4 w-4\"/> \n                                {currentWorker?.firmaApertura ? 'Ver/Cambiar Firma' : 'Registrar Firma'}\n                            </Button>\n                            {currentWorker?.firmaApertura && (\n                                <div className=\"flex justify-center p-3 bg-white rounded-md border-2 border-dashed\">\n                                    <Image \n                                        src={currentWorker.firmaApertura} \n                                        alt=\"Firma Apertura\" \n                                        width={200} \n                                        height={100} \n                                        className=\"border rounded\"\n                                    />\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n\n                <DialogFooter className=\"pt-4 border-t mt-4\">\n                    <Button variant=\"outline\" onClick={() => setIsWorkerDialogOpen(false)} className=\"h-10\">\n                        Cancelar\n                    </Button>\n                    <Button onClick={handleSaveWorker} className=\"h-10\">\n                        <Check className=\"mr-2 h-4 w-4\"/>\n                        Guardar Trabajador\n                    </Button>\n                </DialogFooter>\n            </DialogContent>\n        </Dialog>\n\n       <Dialog open={isSignaturePadOpen} onOpenChange={setIsSignaturePadOpen}>\n        <DialogContent className=\"w-[90vw] max-w-lg\">\n          <DialogHeader>\n            <DialogTitle>Registrar Firma</DialogTitle>\n          </DialogHeader>\n          <SignaturePad onSave={handleSaveSignature} />\n        </DialogContent>\n      </Dialog>\n    </div>\n    </>\n  );\n}\n\nexport default function CreatePermitPage() {\n  return (\n    <PermitFormProvider>\n      <CreatePermitWizard />\n    </PermitFormProvider>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}