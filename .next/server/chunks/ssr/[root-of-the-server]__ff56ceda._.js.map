{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/errors.ts"],"sourcesContent":["\nexport type SecurityRuleContext = {\n  path: string;\n  operation: 'get' | 'list' | 'create' | 'update' | 'delete' | 'write';\n  requestResourceData?: any;\n};\n\nexport class FirestorePermissionError extends Error {\n  context: SecurityRuleContext;\n\n  constructor(context: SecurityRuleContext) {\n    const message = `FirestoreError: Missing or insufficient permissions. The following request was denied by Firestore Security Rules:\\n${JSON.stringify(\n      {\n        context,\n      },\n      null,\n      2\n    )}`;\n    super(message);\n    this.name = 'FirestorePermissionError';\n    this.context = context;\n\n    // This is to make the error message more readable in the console\n    Object.setPrototypeOf(this, FirestorePermissionError.prototype);\n  }\n}\n"],"names":[],"mappings":";;;AAOO,MAAM,iCAAiC;IAC5C,QAA6B;IAE7B,YAAY,OAA4B,CAAE;QACxC,MAAM,UAAU,CAAC,oHAAoH,EAAE,KAAK,SAAS,CACnJ;YACE;QACF,GACA,MACA,IACC;QACH,KAAK,CAAC;QACN,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,OAAO,GAAG;QAEf,iEAAiE;QACjE,OAAO,cAAc,CAAC,IAAI,EAAE,yBAAyB,SAAS;IAChE;AACF","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/logo.tsx"],"sourcesContent":["import { cn } from '@/lib/utils';\nimport { Shield } from 'lucide-react';\n\nexport function Logo({\n  className,\n  textOnly = false,\n}: {\n  className?: string;\n  textOnly?: boolean;\n}) {\n  if (textOnly) {\n    return (\n      <div className={cn('flex items-center gap-2', className)}>\n        <div className=\"bg-primary rounded-full p-2\">\n          <Shield className=\"text-white\" size={24} />\n        </div>\n        <span className=\"text-2xl font-bold text-primary\">SGPT Móvil</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn('flex flex-col items-center', className)}>\n      <div className=\"flex justify-center mb-4\">\n        <svg viewBox=\"0 0 200 100\" className=\"w-48 h-32\">\n          <defs>\n            <linearGradient\n              id=\"italcolGradient\"\n              x1=\"0%\"\n              y1=\"0%\"\n              x2=\"100%\"\n              y2=\"100%\"\n            >\n              <stop offset=\"0%\" style={{ stopColor: '#FFD400' }} />\n              <stop offset=\"50%\" style={{ stopColor: '#F47920' }} />\n              <stop offset=\"100%\" style={{ stopColor: '#E86610' }} />\n            </linearGradient>\n          </defs>\n          <ellipse cx=\"60\" cy=\"50\" rx=\"55\" ry=\"40\" fill=\"#FFD400\" opacity=\"0.8\" />\n          <ellipse cx=\"100\" cy=\"50\" rx=\"50\" ry=\"45\" fill=\"#F47920\" opacity=\"0.9\" />\n          <ellipse cx=\"140\" cy=\"50\" rx=\"45\" ry=\"38\" fill=\"#E86610\" opacity=\"0.8\" />\n          <text\n            x=\"100\"\n            y=\"60\"\n            fontFamily=\"Arial, sans-serif\"\n            fontSize=\"32\"\n            fontWeight=\"bold\"\n            fill=\"white\"\n            textAnchor=\"middle\"\n          >\n            italcol\n          </text>\n        </svg>\n      </div>\n      <h1 className=\"text-3xl font-bold text-gray-800 dark:text-gray-200\">\n        SGPT\n      </h1>\n      <p className=\"text-gray-600 dark:text-gray-400 mt-2\">\n        Sistema de Gestión de\n      </p>\n      <p className=\"text-gray-600 dark:text-gray-400\">Permisos de Trabajo</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEO,SAAS,KAAK,EACnB,SAAS,EACT,WAAW,KAAK,EAIjB;IACC,IAAI,UAAU;QACZ,qBACE,8OAAC;YAAI,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,2BAA2B;;8BAC5C,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,sMAAA,CAAA,SAAM;wBAAC,WAAU;wBAAa,MAAM;;;;;;;;;;;8BAEvC,8OAAC;oBAAK,WAAU;8BAAkC;;;;;;;;;;;;IAGxD;IAEA,qBACE,8OAAC;QAAI,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;;0BAC/C,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,SAAQ;oBAAc,WAAU;;sCACnC,8OAAC;sCACC,cAAA,8OAAC;gCACC,IAAG;gCACH,IAAG;gCACH,IAAG;gCACH,IAAG;gCACH,IAAG;;kDAEH,8OAAC;wCAAK,QAAO;wCAAK,OAAO;4CAAE,WAAW;wCAAU;;;;;;kDAChD,8OAAC;wCAAK,QAAO;wCAAM,OAAO;4CAAE,WAAW;wCAAU;;;;;;kDACjD,8OAAC;wCAAK,QAAO;wCAAO,OAAO;4CAAE,WAAW;wCAAU;;;;;;;;;;;;;;;;;sCAGtD,8OAAC;4BAAQ,IAAG;4BAAK,IAAG;4BAAK,IAAG;4BAAK,IAAG;4BAAK,MAAK;4BAAU,SAAQ;;;;;;sCAChE,8OAAC;4BAAQ,IAAG;4BAAM,IAAG;4BAAK,IAAG;4BAAK,IAAG;4BAAK,MAAK;4BAAU,SAAQ;;;;;;sCACjE,8OAAC;4BAAQ,IAAG;4BAAM,IAAG;4BAAK,IAAG;4BAAK,IAAG;4BAAK,MAAK;4BAAU,SAAQ;;;;;;sCACjE,8OAAC;4BACC,GAAE;4BACF,GAAE;4BACF,YAAW;4BACX,UAAS;4BACT,YAAW;4BACX,MAAK;4BACL,YAAW;sCACZ;;;;;;;;;;;;;;;;;0BAKL,8OAAC;gBAAG,WAAU;0BAAsD;;;;;;0BAGpE,8OAAC;gBAAE,WAAU;0BAAwC;;;;;;0BAGrD,8OAAC;gBAAE,WAAU;0BAAmC;;;;;;;;;;;;AAGtD","debugId":null}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,kKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,kKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,kKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,kKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,kKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,kKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,kKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,8OAAC,4LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,kKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,kKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,kKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 369, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/signature-pad.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useRef, useState } from 'react';\nimport { Button } from './button';\nimport { Eraser, Save } from 'lucide-react';\nimport { DialogClose, DialogFooter } from './dialog';\n\ninterface SignaturePadProps {\n  onSave: (signature: string) => void;\n}\n\nexport const SignaturePad: React.FC<SignaturePadProps> = ({ onSave }) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n\n  const getCanvasContext = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return null;\n    return canvas.getContext('2d');\n  };\n\n  React.useEffect(() => {\n    const ctx = getCanvasContext();\n    if (ctx) {\n      ctx.strokeStyle = '#000';\n      ctx.lineWidth = 2;\n    }\n  }, []);\n\n  const startDrawing = (event: React.MouseEvent<HTMLCanvasElement> | React.TouchEvent<HTMLCanvasElement>) => {\n    event.preventDefault();\n    const ctx = getCanvasContext();\n    if (!ctx) return;\n    \n    const pos = getMousePos(event);\n    ctx.beginPath();\n    ctx.moveTo(pos.x, pos.y);\n    setIsDrawing(true);\n  };\n\n  const draw = (event: React.MouseEvent<HTMLCanvasElement> | React.TouchEvent<HTMLCanvasElement>) => {\n    event.preventDefault();\n    if (!isDrawing) return;\n    const ctx = getCanvasContext();\n    if (!ctx) return;\n\n    const pos = getMousePos(event);\n    ctx.lineTo(pos.x, pos.y);\n    ctx.stroke();\n  };\n\n  const stopDrawing = () => {\n    const ctx = getCanvasContext();\n    if (!ctx) return;\n    ctx.closePath();\n    setIsDrawing(false);\n  };\n  \n  const getMousePos = (event: React.MouseEvent<HTMLCanvasElement> | React.TouchEvent<HTMLCanvasElement>) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return { x: 0, y: 0 };\n    const rect = canvas.getBoundingClientRect();\n\n    if ('touches' in event.nativeEvent) {\n      const touch = event.nativeEvent.touches[0];\n      return {\n        x: touch.clientX - rect.left,\n        y: touch.clientY - rect.top,\n      };\n    }\n    \n    return {\n      x: event.nativeEvent.offsetX,\n      y: event.nativeEvent.offsetY,\n    };\n  }\n\n  const clearPad = () => {\n    const canvas = canvasRef.current;\n    const ctx = getCanvasContext();\n    if (canvas && ctx) {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n    }\n  };\n\n  const handleSave = () => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      // Check if canvas is empty\n      const blank = document.createElement('canvas');\n      blank.width = canvas.width;\n      blank.height = canvas.height;\n      if(canvas.toDataURL() === blank.toDataURL()) {\n        alert(\"Por favor, provea una firma.\");\n        return;\n      }\n      \n      const dataUrl = canvas.toDataURL('image/png');\n      onSave(dataUrl);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center gap-4\">\n      <canvas\n        ref={canvasRef}\n        width={400}\n        height={200}\n        className=\"border border-gray-300 rounded-md bg-white cursor-crosshair touch-none\"\n        onMouseDown={startDrawing}\n        onMouseMove={draw}\n        onMouseUp={stopDrawing}\n        onMouseLeave={stopDrawing}\n        onTouchStart={startDrawing}\n        onTouchMove={draw}\n        onTouchEnd={stopDrawing}\n      />\n      <DialogFooter className=\"w-full\">\n         <Button variant=\"outline\" onClick={clearPad}>\n          <Eraser className=\"mr-2 h-4 w-4\" />\n          Limpiar\n        </Button>\n        <Button onClick={handleSave}>\n          <Save className=\"mr-2 h-4 w-4\" />\n          Guardar Firma\n        </Button>\n      </DialogFooter>\n    </div>\n  );\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 541, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { doc, onSnapshot, updateDoc } from 'firebase/firestore';\nimport { db } from '@/lib/firebase';\nimport type { Permit, Tool, Approval } from '@/types';\nimport { useToast } from '@/hooks/use-toast';\nimport { errorEmitter } from '@/lib/error-emitter';\nimport { FirestorePermissionError, type SecurityRuleContext } from '@/lib/errors';\nimport {\n  Loader2,\n  ArrowLeft,\n  CheckCircle,\n  XCircle,\n  Clock,\n  FileDown,\n  Signature as SignatureIcon,\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { useUser } from '@/hooks/use-user';\nimport { format } from 'date-fns';\nimport { Logo } from '@/components/logo';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '@/components/ui/dialog';\nimport { SignaturePad } from '@/components/ui/signature-pad';\nimport Image from 'next/image';\n\n// ✅ Helper function to handle different date formats\nconst parseFirestoreDate = (dateValue: any): Date | null => {\n  if (!dateValue) return null;\n  \n  if (typeof dateValue.toDate === 'function') {\n    return dateValue.toDate();\n  }\n  \n  if (dateValue instanceof Date) {\n    return dateValue;\n  }\n  \n  if (typeof dateValue === 'string') {\n    return new Date(dateValue);\n  }\n  \n  return null;\n};\n\nconst Section: React.FC<{ title: string, children: React.ReactNode, className?: string }> = ({ title, children, className }) => (\n    <div className={`${className} mb-4 page-break-inside-avoid`}>\n      <h3 className=\"text-sm font-bold uppercase bg-[#FF8C00] text-white p-2 mb-2\">{title}</h3>\n      <div className=\"text-sm px-2\">\n        {children}\n      </div>\n    </div>\n);\n\nconst Field: React.FC<{ label: string, value?: React.ReactNode, fullWidth?: boolean }> = ({label, value, fullWidth}) => (\n    <div className={`${fullWidth ? 'col-span-2' : ''} mb-2`}>\n        <p className=\"text-xs text-gray-600 font-semibold\">{label}</p>\n        <div className=\"text-sm text-gray-800 break-words border-b border-gray-300 min-h-[24px] py-1\">{value || ' '}</div>\n    </div>\n);\n\nconst RadioCheck: React.FC<{ label: string, value?: string }> = ({ label, value }) => (\n    <div className=\"flex justify-between items-center py-1 border-b border-gray-200\">\n        <span className=\"text-xs flex-1 pr-2\">{label}</span>\n        <div className=\"flex gap-2 items-center text-xs font-bold\">\n            <span className={`w-8 text-center py-0.5 ${value === 'si' ? 'bg-black text-white' : 'text-gray-400'}`}>SI</span>\n            <span className={`w-8 text-center py-0.5 ${value === 'no' ? 'bg-black text-white' : 'text-gray-400'}`}>NO</span>\n            <span className={`w-8 text-center py-0.5 ${value === 'na' ? 'bg-black text-white' : 'text-gray-400'}`}>NA</span>\n        </div>\n    </div>\n);\n\ntype SignatureRole = 'solicitante' | 'autorizante' | 'mantenimiento' | 'sst';\nconst signatureRoles: { [key in SignatureRole]: string } = {\n  solicitante: 'QUIEN SOLICITA (JEFES Y DUEÑOS DE AREA)',\n  autorizante: 'QUIEN AUTORIZA (LÍDER A CARGO DEL EQUIPO EJECUTANTE)',\n  mantenimiento: 'PERSONAL DE MANTENIMIENTO',\n  sst: 'AREA SST (si aplica)',\n};\n\nexport default function PermitDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const { user: currentUser, loading: userLoading } = useUser();\n  const permitId = Array.isArray(params.id) ? params.id[0] : params.id;\n  \n  const page1Ref = useRef<HTMLDivElement>(null);\n  const page2Ref = useRef<HTMLDivElement>(null);\n\n  const [permit, setPermit] = useState<Permit | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const { toast } = useToast();\n  const [isGeneratingPDF, setIsGeneratingPDF] = useState(false);\n  \n  const [isSignatureDialogOpen, setIsSignatureDialogOpen] = useState(false);\n  const [signingRole, setSigningRole] = useState<{role: SignatureRole, type: 'firmaApertura' | 'firmaCierre'} | null>(null);\n\n  useEffect(() => {\n    if (!permitId) {\n      setError('ID de permiso no válido.');\n      setLoading(false);\n      return;\n    }\n\n    const docRef = doc(db, 'permits', permitId);\n    const unsubscribe = onSnapshot(docRef, (docSnap) => {\n      if (docSnap.exists()) {\n        const data = docSnap.data();\n        setPermit({\n          id: docSnap.id,\n          ...data,\n          createdAt: parseFirestoreDate(data.createdAt),\n        } as Permit);\n        setError(null);\n      } else {\n        setError('No se encontró el permiso de trabajo.');\n        setPermit(null);\n      }\n      setLoading(false);\n    }, (serverError) => {\n      const permissionError = new FirestorePermissionError({\n        path: docRef.path,\n        operation: 'get',\n      } satisfies SecurityRuleContext);\n      \n      errorEmitter.emit('permission-error', permissionError);\n      setError('No tiene permisos para ver este documento.');\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, [permitId]);\n  \n  const handleExportToPDF = async () => {\n    if (!page1Ref.current || !page2Ref.current || !permit) return;\n\n    setIsGeneratingPDF(true);\n    toast({\n        title: 'Generando PDF...',\n        description: 'Por favor espere...',\n    });\n\n    try {\n        const pdf = new jsPDF('p', 'mm', 'a4');\n        const pdfWidth = pdf.internal.pageSize.getWidth();\n        const pdfHeight = pdf.internal.pageSize.getHeight();\n\n        // Render Page 1\n        const canvas1 = await html2canvas(page1Ref.current, {\n            scale: 2,\n            useCORS: true,\n            logging: false,\n            backgroundColor: '#ffffff'\n        });\n\n        const imgData1 = canvas1.toDataURL('image/png');\n        const imgHeight1 = (canvas1.height * pdfWidth) / canvas1.width;\n        \n        pdf.addImage(imgData1, 'PNG', 0, 0, pdfWidth, imgHeight1);\n\n        // Add Page 2\n        pdf.addPage();\n        \n        const canvas2 = await html2canvas(page2Ref.current, {\n            scale: 2,\n            useCORS: true,\n            logging: false,\n            backgroundColor: '#ffffff'\n        });\n\n        const imgData2 = canvas2.toDataURL('image/png');\n        const imgHeight2 = (canvas2.height * pdfWidth) / canvas2.width;\n        \n        pdf.addImage(imgData2, 'PNG', 0, 0, pdfWidth, imgHeight2);\n\n        // Save PDF\n        const fileName = `Permiso_${permit.number || permit.id.substring(0, 8)}_${format(new Date(), 'yyyyMMdd')}.pdf`;\n        pdf.save(fileName);\n\n        toast({\n            title: 'PDF Generado',\n            description: `El documento \"${fileName}\" se ha descargado.`,\n        });\n\n    } catch (error: any) {\n        console.error('Error generating PDF:', error);\n        toast({\n            variant: 'destructive',\n            title: 'Error al Generar PDF',\n            description: error.message || 'No se pudo generar el documento.',\n        });\n    } finally {\n        setIsGeneratingPDF(false);\n    }\n};\n\n  const openSignatureDialog = (role: SignatureRole, signatureType: 'firmaApertura' | 'firmaCierre') => {\n      setSigningRole({role, type: signatureType});\n      setIsSignatureDialogOpen(true);\n  }\n\n  const handleSaveSignature = async (signatureDataUrl: string) => {\n      if (!permit || !currentUser || !signingRole) return;\n      \n      const { role, type } = signingRole;\n      const docRef = doc(db, 'permits', permit.id);\n      \n      const signaturePath = `approvals.${role}.${type}`;\n      const statusPath = `approvals.${role}.status`;\n      const userIdPath = `approvals.${role}.userId`;\n      const userNamePath = `approvals.${role}.userName`;\n      const signedAtPath = `approvals.${role}.signedAt`;\n\n      try {\n        await updateDoc(docRef, {\n            [signaturePath]: signatureDataUrl,\n            [statusPath]: 'aprobado',\n            [userIdPath]: currentUser.uid,\n            [userNamePath]: currentUser.displayName,\n            [signedAtPath]: new Date().toISOString(),\n        });\n        toast({ title: 'Permiso Firmado', description: `Has firmado como ${signatureRoles[role]}`});\n        setIsSignatureDialogOpen(false);\n        setSigningRole(null);\n      } catch (e: any) {\n        const permissionError = new FirestorePermissionError({\n            path: docRef.path,\n            operation: 'update',\n        } satisfies SecurityRuleContext);\n        errorEmitter.emit('permission-error', permissionError);\n        toast({ variant: 'destructive', title: 'Error al firmar', description: e.message });\n      }\n  }\n\n  const getInitials = (name?: string | null) => {\n    if (!name) return 'U';\n    return name.split(' ').map(n => n[0]).slice(0, 2).join('').toUpperCase();\n  };\n  \n  const canSign = (role: SignatureRole, type: 'firmaApertura' | 'firmaCierre') => {\n      if(!currentUser || !permit || !permit.approvals) return false;\n      const approval = permit.approvals[role];\n      if (type === 'firmaApertura') {\n          return currentUser.role === role && approval?.status === 'pendiente' && !approval?.firmaApertura;\n      }\n      return false;\n  }\n\n  if (loading || userLoading) {\n    return (\n      <div className=\"flex h-screen items-center justify-center\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n        <p className=\"ml-4 text-lg\">Cargando detalles del permiso...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex flex-col h-screen items-center justify-center text-center\">\n        <XCircle className=\"h-16 w-16 text-destructive mb-4\" />\n        <h2 className=\"text-2xl font-bold mb-2\">Error al Cargar el Permiso</h2>\n        <p className=\"text-muted-foreground mb-6\">{error}</p>\n        <Button onClick={() => router.back()}>\n          <ArrowLeft className=\"mr-2 h-4 w-4\" />\n          Volver\n        </Button>\n      </div>\n    );\n  }\n\n  if (!permit) {\n    return null;\n  }\n\n  const ppeSections = [\n    { title: \"Ropa\", ids: ['overol_trabajo', 'overol_ignifugo', 'peto', 'manguillas', 'polainas', 'otro_ropa'] },\n    { title: \"Protección pies/piernas\", ids: ['botas_seguridad', 'botas_dielectricas', 'otro_pies'] },\n    { title: \"Protección auditiva\", ids: ['tipo_insercion', 'tipo_copa'] },\n    { title: \"Protección respiratoria\", ids: ['respirador_cartuchos', 'mascarilla_desechable', 'otro_respiratoria'] },\n    { title: \"Protección cabeza\", ids: ['casco', 'chavo'] },\n    { title: \"Protección facial/ocular\", ids: ['careta_lente_neutro', 'monogafas', 'gafas_oxicorte', 'careta_soldador', 'careta_dielectrica', 'otro_facial'] },\n    { title: \"Barrera/Señales\", ids: ['senalizacion', 'barandas', 'delimitacion', 'control_acceso'] },\n    { title: \"Guantes\", ids: ['proteccion_mecanica', 'proteccion_dielectrica_guantes', 'proteccion_quimica', 'otro_guantes'] },\n    { title: \"Otros\", ids: ['tapete_dielectrico', 'pertiga_dielectrica', 'otro_otros'] }\n  ];\n\n  const ppeSystemsItems = [\n    { id: 'arnes', label: 'Arnés' },\n    { id: 'mosqueton', label: 'Mosquetón' },\n    { id: 'eslinga', label: 'Eslinga' },\n    { id: 'linea_vida', label: 'Línea de vida' },\n    { id: 'freno_arrestador', label: 'Freno/Arrestador' },\n    { id: 'punto_anclaje', label: 'Punto anclaje' },\n    { id: 'autoretractil', label: 'Autoretráctil' },\n    { id: 'tie_off', label: 'Tie-off' },\n    { id: 'baranda_rodapies', label: 'Baranda rodapiés' },\n    { id: 'sistema_acceso', label: 'Sistema acceso' },\n    { id: 'tripode', label: 'Trípode' },\n    { id: 'otro_sistemas', label: 'Otro' }\n  ];\n\n  // Componente de Encabezado reutilizable\n  const Header = () => (\n    <div className=\"flex justify-between items-start p-6 border-b-4 border-[#FF8C00]\">\n        <div className=\"w-32\">\n             <Logo textOnly />\n        </div>\n        <div className=\"text-right\">\n            <h1 className=\"text-2xl font-bold text-gray-800\">PERMISO DE TRABAJO</h1>\n            <p className=\"text-sm text-gray-600 mt-1\">N°: {permit.number || permit.id.substring(0, 10)}</p>\n            {permit.createdAt && (\n              <p className=\"text-xs text-gray-500 mt-1\">\n                Creado: {format(permit.createdAt, \"dd/MM/yyyy HH:mm\")}\n              </p>\n            )}\n        </div>\n    </div>\n  );\n\n  // Componente de Footer reutilizable\n  const Footer = () => (\n    <div className=\"border-t-2 border-gray-300 p-4 text-right text-xs text-gray-600\">\n        <p><strong>Código:</strong> DN-FR-SST-016</p>\n        <p><strong>Versión:</strong> 05</p>\n    </div>\n  );\n\n  return (\n    <div className=\"flex flex-1 flex-col bg-gray-100 p-4 md:p-8\">\n        {/* Action Bar */}\n        <div className=\"max-w-[1200px] mx-auto w-full mb-4 no-print\">\n            <div className=\"flex justify-between items-center\">\n                 <Button variant=\"ghost\" onClick={() => router.push('/permits')}>\n                    <ArrowLeft className=\"mr-2 h-4 w-4\" />\n                    Volver al listado\n                </Button>\n                <div className=\"flex gap-2\">\n                     <Button \n                        onClick={handleExportToPDF} \n                        variant=\"outline\"\n                        disabled={isGeneratingPDF}\n                    >\n                        {isGeneratingPDF ? (\n                            <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                        ) : (\n                            <FileDown className=\"mr-2 h-4 w-4\" />\n                        )}\n                        Exportar a PDF\n                    </Button>\n                </div>\n            </div>\n        </div>\n\n        {/* PAGE 1 */}\n        <div \n            ref={page1Ref}\n            className=\"max-w-[1200px] mx-auto w-full bg-white shadow-lg mb-8\"\n            style={{ fontFamily: 'Arial, sans-serif', fontSize: '11px', lineHeight: '1.3' }}\n        >\n            <Header />\n\n            {/* Warning Box */}\n            <div className=\"mx-6 my-3 p-2 bg-yellow-50 border-l-4 border-yellow-400 text-xs\">\n                <p><strong>Marque dentro de los cuadros SI/NO/NA según el caso. Si alguna de las verificaciones es \"NO\", NO SE DEBERA INICIAR EL TRABAJO HASTA TANTO NO SE SOLUCIONE LA SITUACIÓN.</strong></p>\n            </div>\n\n            <div className=\"px-6 pb-6\">\n                {/* General Information */}\n                <Section title=\"INFORMACIÓN GENERAL - APLICA A TODOS LOS PERMISOS\">\n                    <Field \n                        label=\"El trabajo se LIMITA a lo siguiente (Tipo y Alcance del Trabajo - Descripción y Área/Equipo):\" \n                        value={permit.generalInfo?.workDescription} \n                        fullWidth\n                    />\n                    <Field \n                        label=\"Causales para la suspensión del Permiso:\" \n                        value={permit.generalInfo?.suspensionCauses} \n                        fullWidth\n                    />\n                    <Field \n                        label=\"Descripción o procedimiento de la tarea a realizar:\" \n                        value={permit.generalInfo?.procedure} \n                        fullWidth\n                    />\n                    <div className=\"flex items-center gap-2 my-2\">\n                        <input \n                            type=\"checkbox\" \n                            checked={permit.generalInfo?.isEmergencyExtension} \n                            readOnly \n                            className=\"h-4 w-4\"\n                        />\n                        <span className=\"text-sm font-medium\">Extensión Emergencia</span>\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                       <Field \n                            label=\"Válido Desde:\" \n                            value={permit.generalInfo?.validFrom ? format(new Date(permit.generalInfo.validFrom), \"dd/MM/yyyy HH:mm\") : undefined}\n                        />\n                       <Field \n                            label=\"Válido Hasta:\" \n                            value={permit.generalInfo?.validUntil ? format(new Date(permit.generalInfo.validUntil), \"dd/MM/yyyy HH:mm\") : undefined}\n                        />\n                    </div>\n                </Section>\n\n                {/* Pre-checks */}\n                <Section title=\"VERIFICACIONES PREVIAS\">\n                    <RadioCheck label=\"REUNIÓN DE INICIO\" value={permit.generalInfo?.reunionInicio} />\n                    <RadioCheck label=\"ATS Verificar el correcto diligenciamiento del ATS\" value={permit.generalInfo?.atsVerificado} />\n                </Section>\n\n                {/* Hazards */}\n                <Section title=\"VERIFICACIÓN DE PELIGROS\">\n                    <div className=\"grid grid-cols-2 gap-x-4\">\n                      {Object.entries(permit.hazards || {}).slice(0, 12).map(([key, value]) => (\n                          <RadioCheck key={key} label={key.replace(/_/g, ' ').toUpperCase()} value={value as string} />\n                      ))}\n                    </div>\n                </Section>\n\n                {/* PPE - First 6 sections */}\n                <Section title=\"EPP - SEÑALIZACIÓN (VERIFICAR)\">\n                     <div className=\"grid grid-cols-3 gap-3\">\n                        {ppeSections.slice(0, 6).map(section => (\n                            <div key={section.title} className=\"border border-gray-300 p-2\">\n                               <h4 className=\"font-bold mb-1 text-xs text-gray-700 bg-gray-100 p-1\">{section.title}</h4>\n                               <div className=\"space-y-0.5\">\n                                {section.ids.map(id => permit.ppe && permit.ppe[id] && (\n                                     <RadioCheck key={id} label={id.replace(/_/g, ' ')} value={permit.ppe[id]} />\n                                ))}\n                               </div>\n                            </div>\n                        ))}\n                    </div>\n                </Section>\n            </div>\n\n            <Footer />\n        </div>\n\n        {/* PAGE 2 */}\n        <div \n            ref={page2Ref}\n            className=\"max-w-[1200px] mx-auto w-full bg-white shadow-lg\"\n            style={{ fontFamily: 'Arial, sans-serif', fontSize: '11px', lineHeight: '1.3' }}\n        >\n            <Header />\n\n            <div className=\"px-6 pb-6\">\n                {/* PPE - Remaining sections */}\n                <Section title=\"EPP - SEÑALIZACIÓN (VERIFICAR) - CONTINUACIÓN\">\n                     <div className=\"grid grid-cols-3 gap-3\">\n                        {ppeSections.slice(6).map(section => (\n                            <div key={section.title} className=\"border border-gray-300 p-2\">\n                               <h4 className=\"font-bold mb-1 text-xs text-gray-700 bg-gray-100 p-1\">{section.title}</h4>\n                               <div className=\"space-y-0.5\">\n                                {section.ids.map(id => permit.ppe && permit.ppe[id] && (\n                                     <RadioCheck key={id} label={id.replace(/_/g, ' ')} value={permit.ppe[id]} />\n                                ))}\n                               </div>\n                            </div>\n                        ))}\n                    </div>\n                </Section>\n\n                {/* PPE Systems */}\n                <Section title=\"SISTEMA / EQUIPO DE PREVENCIÓN - PROTECCIÓN CONTRA CAÍDA\">\n                     <div className=\"grid grid-cols-2 gap-x-4\">\n                      {ppeSystemsItems.map(item => permit.ppeSystems && permit.ppeSystems[item.id] && (\n                          <RadioCheck key={item.id} label={item.label} value={permit.ppeSystems[item.id]} />\n                      ))}\n                    </div>\n                </Section>\n\n                {/* Emergency */}\n                <Section title=\"NOTIFICACIÓN Y EMERGENCIAS\">\n                    <RadioCheck \n                        label=\"El personal fue notificado del trabajo a realizar\" \n                        value={permit.emergency?.notification ? 'si' : 'no'} \n                    />\n                     <div className=\"mt-2\">\n                        <p className=\"font-bold text-xs mb-1\">EMERGENCIAS: Recordar y verificar</p>\n                      {Object.entries(permit.emergency || {}).filter(([key]) => key !== 'notification').map(([key, value]) => (\n                          <RadioCheck key={key} label={key.replace(/_/g, ' ')} value={value as string} />\n                      ))}\n                    </div>\n                </Section>\n\n                {/* Workers */}\n                <Section title=\"TRABAJADORES EJECUTANTES\">\n                     {permit.workers && permit.workers.length > 0 ? (\n                        <table className=\"w-full border-collapse border border-gray-300 text-xs\">\n                            <thead className=\"bg-gray-100\">\n                                <tr>\n                                    <th className=\"border border-gray-300 p-1\">Nombre</th>\n                                    <th className=\"border border-gray-300 p-1\">Cédula</th>\n                                    <th className=\"border border-gray-300 p-1\">Rol</th>\n                                    <th className=\"border border-gray-300 p-1\">EPS</th>\n                                    <th className=\"border border-gray-300 p-1\">ARL</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                            {permit.workers.map((worker, index) => (\n                                <tr key={index}>\n                                    <td className=\"border border-gray-300 p-1\">{worker.nombre}</td>\n                                    <td className=\"border border-gray-300 p-1\">{worker.cedula}</td>\n                                    <td className=\"border border-gray-300 p-1\">{worker.rol}</td>\n                                    <td className=\"border border-gray-300 p-1\">{worker.eps}</td>\n                                    <td className=\"border border-gray-300 p-1\">{worker.arl}</td>\n                                </tr>\n                            ))}\n                            </tbody>\n                        </table>\n                    ) : <p className=\"text-gray-500 text-xs\">No se agregaron trabajadores externos.</p>}\n                </Section>\n\n                {/* Authorizations */}\n                <Section title=\"AUTORIZACIONES\">\n                     <p className=\"text-xs text-gray-600 mb-3\">He tenido conocimiento de la actividad que se realizará, valido las recomendaciones, realicé inspección de seguridad y garantizo el cumplimiento de SST.</p>\n                     <div className=\"grid grid-cols-2 gap-3\">\n                        {permit.approvals && (Object.keys(signatureRoles) as SignatureRole[]).map(role => {\n                            const approval = permit.approvals[role];\n                            return (\n                                <div key={role} className=\"border border-gray-300 p-3\">\n                                    <p className=\"font-bold text-xs bg-gray-100 p-2 mb-2\">{signatureRoles[role]}</p>\n                                    <div className=\"space-y-1 text-xs\">\n                                        <p><strong>Área:</strong> {approval?.area || 'N/A'}</p>\n                                        <p><strong>Nombre:</strong> {approval?.userName || 'Pendiente'}</p>\n                                        {approval?.firmaApertura ? (\n                                            <div className=\"bg-gray-50 p-2 mt-2 border border-gray-200\">\n                                                <img \n                                                    src={approval.firmaApertura} \n                                                    alt=\"Firma\" \n                                                    className=\"w-full h-16 object-contain\"\n                                                />\n                                                <p className=\"text-center text-xs mt-1\">\n                                                    {approval.signedAt ? format(new Date(approval.signedAt), \"dd/MM/yyyy HH:mm\") : ''}\n                                                </p>\n                                            </div>\n                                        ) : (\n                                            <p className=\"text-gray-500 mt-2 text-center py-4 border border-gray-200\">Firma Pendiente</p>\n                                        )}\n                                        \n                                        {/* Button only visible on screen */}\n                                        {canSign(role, 'firmaApertura') && (\n                                            <Button \n                                                size=\"sm\" \n                                                className=\"w-full mt-2 no-print\" \n                                                onClick={() => openSignatureDialog(role, 'firmaApertura')}\n                                            >\n                                                <SignatureIcon className=\"mr-2 h-4 w-4\"/>\n                                                Firmar Apertura\n                                            </Button>\n                                        )}\n                                    </div>\n                                </div>\n                            )\n                        })}\n                     </div>\n                 </Section>\n\n                {/* Closure */}\n                <Section title=\"EMISIÓN, REVALIDACIÓN Y CIERRE\">\n                    <p className=\"text-xs text-gray-600 mb-2\">Para trabajo en caliente el cierre debe hacerse mínimo 2 horas después.</p>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <div className=\"space-y-1\">\n                             <RadioCheck label=\"Informó al responsable sobre culminación\" value={permit.closure?.informeCulminacion}/>\n                             <RadioCheck label=\"Área despejada y ordenada\" value={permit.closure?.areaDespejada}/>\n                             <RadioCheck label=\"Sin riesgo de fuego\" value={permit.closure?.evidenciaParticulas}/>\n                             <RadioCheck label=\"Continúa labor normal\" value={permit.closure?.continuaLabor}/>\n                        </div>\n                        <div className=\"space-y-2\">\n                            <RadioCheck label=\"Dispositivos retirados\" value={permit.closure?.dispositivosRetirados}/>\n                            <Field label=\"Fecha Cierre\" value={permit.closure?.fechaCierre ? format(new Date(permit.closure.fechaCierre), 'dd/MM/yyyy') : 'Pendiente'}/>\n                            <Field label=\"Hora Cierre\" value={permit.closure?.horaCierre || 'Pendiente'}/>\n                        </div>\n                    </div>\n                 </Section>\n            </div>\n\n            <Footer />\n        </div>\n\n        {/* Signature Dialog */}\n        <Dialog open={isSignatureDialogOpen} onOpenChange={setIsSignatureDialogOpen}>\n             <DialogContent>\n                <DialogHeader>\n                    <DialogTitle>Firmar Permiso de Trabajo</DialogTitle>\n                    <DialogDescription>\n                        {signingRole && `Está firmando como ${signatureRoles[signingRole.role]}.`}\n                    </DialogDescription>\n                </DialogHeader>\n                <SignaturePad onSave={handleSaveSignature} />\n            </DialogContent>\n        </Dialog>\n\n        {/* Print/PDF Styles */}\n        <style jsx global>{`\n            @media print {\n                .no-print {\n                    display: none !important;\n                }\n            }\n            .page-break-inside-avoid {\n                page-break-inside: avoid;\n            }\n        `}</style>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}