{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/form-context.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useReducer, useContext, Dispatch, useEffect } from 'react';\nimport type { Permit, ExternalWorker, AnexoATS, AnexoAltura, AnexoConfinado, AnexoEnergias, AnexoIzaje, AnexoExcavaciones, VerificacionPeligros, EppEmergencias, PermitGeneralInfo, SelectedWorkTypes } from '@/types';\n\n// Define the shape of the form data\ntype PermitFormData = Omit<Permit, 'id' | 'createdAt' | 'status' | 'createdBy' | 'number' | 'user' | 'approvals' | 'closure'>;\n\n// Define the shape of the state\ninterface FormState extends PermitFormData {}\n\n// Define the actions\ntype FormAction =\n  | { type: 'UPDATE_GENERAL_INFO'; payload: Partial<FormState['generalInfo']> }\n  | { type: 'UPDATE_WORK_TYPES'; payload: { type: keyof FormState['selectedWorkTypes'], value: boolean } }\n  | { type: 'UPDATE_ATS'; payload: Partial<FormState['anexoATS']> }\n  | { type: 'UPDATE_ANEXO_ALTURA'; payload: Partial<FormState['anexoAltura']> }\n  | { type: 'UPDATE_ANEXO_CONFINADO'; payload: Partial<FormState['anexoConfinado']> }\n  | { type: 'UPDATE_ANEXO_ENERGIA'; payload: Partial<FormState['anexoEnergias']> }\n  | { type: 'UPDATE_ANEXO_IZAJE'; payload: Partial<FormState['anexoIzaje']> }\n  | { type: 'UPDATE_ANEXO_EXCAVACIONES'; payload: Partial<FormState['anexoExcavaciones']> }\n  | { type: 'UPDATE_VERIFICACION_PELIGROS'; payload: Partial<FormState['verificacionPeligros']> }\n  | { type: 'UPDATE_EPP_EMERGENCIAS'; payload: Partial<FormState['eppEmergencias']> }\n  | { type: 'SET_WORKERS'; payload: ExternalWorker[] }\n  | { type: 'ADD_WORKER'; payload: ExternalWorker }\n  | { type: 'UPDATE_SIGNATURE', payload: { target: string, signature: string, context: any } }\n  | { type: 'SET_SST_REQUIRED', payload: boolean }\n  | { type: 'SET_ENTIRE_STATE', payload: Partial<Permit> }\n  | { type: 'RESET_FORM' };\n\n// Initial state\nconst initialState: FormState = {\n  generalInfo: {\n    areaEspecifica: '',\n    planta: '',\n    proceso: '',\n    contrato: '',\n    empresa: '',\n    nombreSolicitante: '',\n    fechaCreacion: new Date().toISOString(),\n    validFrom: '',\n    validUntil: '',\n    workDescription: '',\n    tools: [],\n    numTrabajadores: '',\n    reunionInicio: 'na',\n    atsVerificado: 'na',\n    responsable: { nombre: '', cargo: '', compania: '', alcance: '' }\n  },\n  selectedWorkTypes: {\n    alturas: false,\n    confinado: false,\n    energia: false,\n    izaje: false,\n    excavacion: false,\n    general: false,\n  },\n  trabajoAlturas: false, // Compatibility field\n  isSSTSignatureRequired: false,\n  anexoATS: {\n    peligros: {},\n    controles: {},\n    epp: {},\n    justificacion: {},\n  },\n  anexoAltura: {\n    tipoEstructura: {\n        escaleraCuerpo: false,\n        escaleraDosCuerpos: false,\n        andamioTubular: false,\n        andamioColgante: false,\n        plataforma: false,\n        manLift: false,\n        otros: false,\n        otrosCual: '',\n    },\n    aspectosSeguridad: {},\n    precauciones: {},\n    afectaciones: {\n        riesgoOtrasAreas: 'na',\n        otrasAreasRiesgo: 'na',\n        personalNotificado: 'na',\n        observaciones: '',\n    },\n    validacion: {\n      autoridad: Array(7).fill(0).map((_, i) => ({ dia: i + 1, nombre: '', firma: '', fecha: '' })),\n      responsable: Array(7).fill(0).map((_, i) => ({ dia: i + 1, nombre: '', firma: '', fecha: '' })),\n    },\n  },\n  anexoConfinado: {\n    identificacionPeligros: {},\n    precauciones: {},\n    resultadosPruebasGases: {},\n    requerimientosEquipos: {},\n    pruebasGasesPeriodicas: {\n      intervalo: '',\n      pruebas: [],\n      pruebaRealizadaPor: '',\n      serialMonitor: '',\n      marca: '',\n      fechaCalibracion: '',\n    },\n    validacion: {\n      autoridad: Array(7).fill(0).map((_, i) => ({ dia: i + 1, nombre: '', firma: '', fecha: '' })),\n      responsable: Array(7).fill(0).map((_, i) => ({ dia: i + 1, nombre: '', firma: '', fecha: '' })),\n    },\n  },\n  anexoEnergias: {\n    trabajosEnCaliente: {},\n    energiasPeligrosas: {},\n    procedimientoLOTO: {},\n    trabajosConEnergiaElectrica: {},\n    tensionExpuesta: {},\n    planeacion: {},\n    metodoTrabajo: {\n      sinTension: false,\n      conTension: false,\n    },\n    trabajoConTension: {},\n    trabajoSinTension: {},\n    observaciones: '',\n  },\n  anexoIzaje: {\n    informacionGeneral: {\n        accion: {},\n        pesoCarga: {},\n        equipoUtilizar: {},\n        capacidadEquipo: '',\n    },\n    aspectosRequeridos: {},\n    precauciones: {},\n    validacion: {\n      autoridad: Array(7).fill(0).map((_, i) => ({ dia: i + 1, nombre: '', firma: '', fecha: '' })),\n      responsable: Array(7).fill(0).map((_, i) => ({ dia: i + 1, nombre: '', firma: '', fecha: '' })),\n    },\n  },\n  anexoExcavaciones: {\n    informacionGeneral: {\n      dimensiones: '',\n      profundidad: '',\n      ancho: '',\n      largo: '',\n    },\n    aspectosRequeridos: {},\n    precauciones: {},\n    validacion: {\n      autoridad: Array(7).fill(0).map((_, i) => ({ dia: i + 1, nombre: '', firma: '', fecha: '' })),\n      responsable: Array(7).fill(0).map((_, i) => ({ dia: i + 1, nombre: '', firma: '', fecha: '' })),\n    },\n  },\n  verificacionPeligros: {\n    fisicos: {},\n    quimicos: {},\n    seguridad: {},\n    locativos: {},\n    biologicoAmbiental: {},\n    biomecanicos: {},\n    psicosocial: {},\n  },\n  eppEmergencias: {\n    epp: {},\n    emergencias: {},\n  },\n  workers: [],\n};\n\nconst LOCAL_STORAGE_KEY = 'permitFormDraft';\n\n// Reducer function\nfunction formReducer(state: FormState, action: FormAction): FormState {\n  switch (action.type) {\n    case 'UPDATE_GENERAL_INFO':\n      return {\n        ...state,\n        generalInfo: { ...state.generalInfo, ...action.payload },\n      };\n    case 'UPDATE_WORK_TYPES':\n        const isAlturas = action.payload.type === 'alturas';\n        return {\n            ...state,\n            selectedWorkTypes: { ...state.selectedWorkTypes, [action.payload.type]: action.payload.value },\n            // Also update the old 'trabajoAlturas' field for compatibility with security rules\n            ...(isAlturas && { trabajoAlturas: action.payload.value }),\n        }\n    case 'UPDATE_ATS':\n        return {\n            ...state,\n            anexoATS: { ...state.anexoATS, ...action.payload },\n        }\n    case 'UPDATE_ANEXO_ALTURA':\n        return {\n            ...state,\n            anexoAltura: { ...state.anexoAltura, ...action.payload },\n        }\n    case 'UPDATE_ANEXO_CONFINADO':\n        return {\n            ...state,\n            anexoConfinado: { ...state.anexoConfinado, ...action.payload },\n        }\n    case 'UPDATE_ANEXO_ENERGIA':\n        return {\n            ...state,\n            anexoEnergias: { ...state.anexoEnergias, ...action.payload },\n        }\n    case 'UPDATE_ANEXO_IZAJE':\n        return {\n            ...state,\n            anexoIzaje: { ...state.anexoIzaje, ...action.payload },\n        }\n    case 'UPDATE_ANEXO_EXCAVACIONES':\n        return {\n            ...state,\n            anexoExcavaciones: { ...state.anexoExcavaciones, ...action.payload },\n        }\n    case 'UPDATE_VERIFICACION_PELIGROS':\n        return {\n            ...state,\n            verificacionPeligros: { ...state.verificacionPeligros, ...action.payload },\n        }\n    case 'UPDATE_EPP_EMERGENCIAS':\n        return {\n            ...state,\n            eppEmergencias: { ...state.eppEmergencias, ...action.payload },\n        }\n    case 'SET_WORKERS':\n        return {\n            ...state,\n            workers: action.payload,\n        }\n    case 'ADD_WORKER':\n        return {\n            ...state,\n            workers: [...(state.workers || []), action.payload]\n        }\n    case 'UPDATE_SIGNATURE':\n      console.log('Signature update needs to be implemented in reducer:', action.payload);\n      return state;\n    case 'SET_SST_REQUIRED':\n        return {\n            ...state,\n            isSSTSignatureRequired: action.payload\n        };\n    case 'SET_ENTIRE_STATE':\n        const { payload } = action;\n        return {\n            ...initialState, // Start with a clean initial state\n            generalInfo: { ...initialState.generalInfo, ...payload.generalInfo },\n            selectedWorkTypes: { ...initialState.selectedWorkTypes, ...payload.selectedWorkTypes },\n            trabajoAlturas: payload.trabajoAlturas || false,\n            isSSTSignatureRequired: payload.isSSTSignatureRequired || false,\n            anexoATS: { ...initialState.anexoATS, ...payload.anexoATS },\n            anexoAltura: { ...initialState.anexoAltura, ...payload.anexoAltura },\n            anexoConfinado: { ...initialState.anexoConfinado, ...payload.anexoConfinado },\n            anexoEnergias: { ...initialState.anexoEnergias, ...payload.anexoEnergias },\n            anexoIzaje: { ...initialState.anexoIzaje, ...payload.anexoIzaje },\n            anexoExcavaciones: { ...initialState.anexoExcavaciones, ...payload.anexoExcavaciones },\n            verificacionPeligros: { ...initialState.verificacionPeligros, ...payload.verificacionPeligros },\n            eppEmergencias: { ...initialState.eppEmergencias, ...payload.eppEmergencias },\n            workers: payload.workers || initialState.workers,\n        };\n    case 'RESET_FORM':\n      // Limpiar tambiÃ©n el localStorage al resetear\n      try {\n        localStorage.removeItem(LOCAL_STORAGE_KEY);\n      } catch (error) {\n        console.error(\"Failed to remove draft from localStorage\", error);\n      }\n      return initialState;\n    default:\n      return state;\n  }\n}\n\n// Create the context\nconst PermitFormContext = createContext<{ \n    state: FormState; \n    dispatch: Dispatch<FormAction>;\n} | undefined>(undefined);\n\n// FunciÃ³n para inicializar el estado, intentando cargar desde localStorage\nconst initializer = (initialValue = initialState) => {\n  if (typeof window === \"undefined\") {\n    return initialValue;\n  }\n  try {\n    const stored = localStorage.getItem(LOCAL_STORAGE_KEY);\n    if (stored) {\n      return JSON.parse(stored);\n    }\n  } catch (error) {\n    console.error(\"Failed to parse draft from localStorage\", error);\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n  }\n  return initialValue;\n};\n\n// ðŸ”¥ FUNCIÃ“N DE VALIDACIÃ“N DE EMERGENCIAS (EXPORTADA)\nexport const validateEmergenciasStep = (eppEmergencias: EppEmergencias): {\n    isValid: boolean;\n    errors: string[];\n    hasNoResponses: boolean;\n} => {\n    const emergenciasRequired = [\n        'notificacion',\n        'potenciales',\n        'procedimientos',\n        'rutasEvacuacion',\n        'puntosEncuentro',\n        'equiposEmergencia',\n        'ubicacionBrigadistas'\n    ];\n\n    const errors: string[] = [];\n    let hasNoResponses = false;\n\n    emergenciasRequired.forEach(field => {\n        const value = eppEmergencias.emergencias?.[field];\n        \n        if (value === 'no') {\n            errors.push(`El campo \"${field}\" debe estar en \"SI\"`);\n            hasNoResponses = true;\n        } else if (!value || value === '') {\n            errors.push(`El campo \"${field}\" no ha sido seleccionado`);\n        }\n    });\n\n    return {\n        isValid: errors.length === 0,\n        errors,\n        hasNoResponses\n    };\n};\n\n// Create the provider component\nexport function PermitFormProvider({ children }: { children: React.ReactNode }) {\n  const [state, dispatch] = useReducer(formReducer, initialState, initializer);\n\n  // Efecto para guardar en localStorage cada vez que el estado cambia\n  useEffect(() => {\n    try {\n      // No guardar si el estado es el inicial (formulario vacÃ­o)\n      if (state !== initialState) {\n        localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(state));\n      }\n    } catch (error) {\n      console.error(\"Failed to save draft to localStorage\", error);\n    }\n  }, [state]);\n\n  return (\n    <PermitFormContext.Provider value={{ state, dispatch }}>\n      {children}\n    </PermitFormContext.Provider>\n  );\n}\n\n// Custom hook to use the context\nexport function usePermitForm() {\n  const context = useContext(PermitFormContext);\n  if (!context) {\n    throw new Error('usePermitForm must be used within a PermitFormProvider');\n  }\n  return context;\n}\n\n// ðŸ”¥ EXPORTAR FUNCIÃ“N HELPER PARA VALIDAR DESDE CUALQUIER COMPONENTE\nexport { validateEmergenciasStep as validateEmergencias };\n"],"names":[],"mappings":"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","debugId":null}}]
}