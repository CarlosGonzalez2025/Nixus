{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/GeneralInfoStep.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { usePermitForm } from '../form-context';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Button } from '@/components/ui/button';\nimport { Plus, Trash2, Check, Search, X } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { doc, onSnapshot, setDoc, getDoc } from 'firebase/firestore';\nimport { db } from '@/lib/firebase';\nimport { addDays, format } from 'date-fns';\n\nconst workTypes: { key: keyof ReturnType<typeof usePermitForm>['state']['selectedWorkTypes'], name: string }[] = [\n  { key: 'general', name: 'Trabajo General' },\n  { key: 'alturas', name: 'Trabajo en Alturas' },\n  { key: 'confinado', name: 'Espacios Confinados' },\n  { key: 'energia', name: 'Control de Energías' },\n  { key: 'izaje', name: 'Izaje de Cargas' },\n  { key: 'excavacion', name: 'Excavaciones' },\n];\n\n// Lista genérica inicial de herramientas por defecto\nconst herramientasIniciales = [\n  'Taladro',\n  'Martillo',\n  'Destornillador',\n  'Llave inglesa',\n  'Alicate',\n  'Sierra',\n  'Nivel',\n  'Flexómetro',\n  'Escalera',\n  'Andamio',\n  'Esmeril',\n  'Soldadora',\n  'Pulidora',\n  'Compresor',\n  'Pistola de impacto',\n];\n\nconst ITEMS_PER_PAGE = 20;\nconst QUICK_SELECT_COUNT = 6;\n\nexport function GeneralInfoStep() {\n  const { state, dispatch } = usePermitForm();\n  const { generalInfo, selectedWorkTypes } = state;\n  const { toast } = useToast();\n\n  const [herramientasDisponibles, setHerramientasDisponibles] = React.useState<string[]>([]);\n  const [searchTerm, setSearchTerm] = React.useState('');\n  const [isAddingNew, setIsAddingNew] = React.useState(false);\n  const [newToolName, setNewToolName] = React.useState('');\n  const [showSearchResults, setShowSearchResults] = React.useState(false);\n  const [displayCount, setDisplayCount] = React.useState(ITEMS_PER_PAGE);\n  const searchInputRef = React.useRef<HTMLInputElement>(null);\n  const resultsContainerRef = React.useRef<HTMLDivElement>(null);\n\n  const [dynamicLists, setDynamicLists] = React.useState({\n    areas: [] as string[],\n    plantas: [] as string[],\n    procesos: [] as string[],\n    contratos: [] as string[],\n    empresas: [] as string[],\n  });\n  const [loadingLists, setLoadingLists] = React.useState(true);\n\n  // Cargar herramientas desde Firestore\n  React.useEffect(() => {\n    const herramientasRef = doc(db, 'dynamic_lists', 'herramientas');\n    \n    const unsubscribe = onSnapshot(herramientasRef, (docSnap) => {\n      if (docSnap.exists()) {\n        const items = docSnap.data().items || [];\n        setHerramientasDisponibles(items.sort());\n      } else {\n        // Si no existe el documento, crearlo con la lista inicial\n        setDoc(herramientasRef, { items: herramientasIniciales.sort() })\n          .then(() => setHerramientasDisponibles(herramientasIniciales.sort()))\n          .catch(error => console.error('Error creating herramientas list:', error));\n      }\n    }, (error) => {\n      console.error('Error fetching herramientas:', error);\n      setHerramientasDisponibles(herramientasIniciales.sort());\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  React.useEffect(() => {\n    setLoadingLists(true);\n    const listNames = ['areas', 'plantas', 'procesos', 'contratos', 'empresas'];\n    const unsubscribers = listNames.map(listName => {\n      const docRef = doc(db, 'dynamic_lists', listName);\n      return onSnapshot(docRef, (docSnap) => {\n        setDynamicLists(prev => ({\n          ...prev,\n          [listName]: docSnap.exists() ? docSnap.data().items?.sort() || [] : []\n        }));\n      }, (error) => {\n        console.error(`Error fetching ${listName}:`, error);\n        toast({\n          variant: \"destructive\",\n          title: \"Error de Carga\",\n          description: `No se pudo cargar la lista para ${listName}.`,\n        });\n      });\n    });\n\n    Promise.all(listNames.map(listName => new Promise(resolve => {\n      const docRef = doc(db, 'dynamic_lists', listName);\n      onSnapshot(docRef, () => resolve(true), () => resolve(true));\n    }))).then(() => setLoadingLists(false));\n\n    return () => unsubscribers.forEach(unsub => unsub());\n  }, [toast]);\n\n  // Cerrar resultados al hacer click fuera\n  React.useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        resultsContainerRef.current &&\n        !resultsContainerRef.current.contains(event.target as Node) &&\n        searchInputRef.current &&\n        !searchInputRef.current.contains(event.target as Node)\n      ) {\n        setShowSearchResults(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleInputChange = (field: keyof typeof generalInfo, value: any) => {\n    dispatch({ type: 'UPDATE_GENERAL_INFO', payload: { [field]: value } });\n  };\n\n  const handleWorkTypeChange = (type: keyof typeof selectedWorkTypes, value: boolean) => {\n    dispatch({ type: 'UPDATE_WORK_TYPES', payload: { type, value } });\n  };\n  \n  const handleResponsableChange = (field: keyof typeof generalInfo.responsable, value: string) => {\n    const newResponsable = { ...generalInfo.responsable, [field]: value };\n    handleInputChange('responsable', newResponsable);\n  };\n\n  // Agregar herramienta seleccionada\n  const addToolFromList = React.useCallback((toolName: string) => {\n    if (!toolName) return;\n    \n    const alreadyAdded = generalInfo.tools?.some(t => t.name === toolName);\n    if (alreadyAdded) {\n      toast({\n        variant: \"destructive\",\n        title: \"Ya agregada\",\n        description: \"Esta herramienta ya está en la lista.\",\n      });\n      return;\n    }\n\n    const newTools = [...(generalInfo.tools || []), { name: toolName, status: 'B' }];\n    handleInputChange('tools', newTools);\n    \n    // Limpiar búsqueda y cerrar resultados\n    setSearchTerm('');\n    setShowSearchResults(false);\n    setDisplayCount(ITEMS_PER_PAGE);\n    \n    // Toast de confirmación\n    toast({\n      title: \"✓ Agregada\",\n      description: `${toolName}`,\n      duration: 1500,\n    });\n  }, [generalInfo.tools, handleInputChange, toast]);\n\n  // Agregar nueva herramienta personalizada\n  const addNewToolToFirestore = async () => {\n    const trimmedName = newToolName.trim();\n    if (!trimmedName) return;\n\n    if (herramientasDisponibles.includes(trimmedName)) {\n      toast({\n        variant: \"destructive\",\n        title: \"Ya existe\",\n        description: \"Esta herramienta ya está en la lista disponible.\",\n      });\n      setNewToolName('');\n      setIsAddingNew(false);\n      return;\n    }\n\n    try {\n      const herramientasRef = doc(db, 'dynamic_lists', 'herramientas');\n      const docSnap = await getDoc(herramientasRef);\n      const currentItems = docSnap.exists() ? docSnap.data().items || [] : [];\n      const updatedItems = [...currentItems, trimmedName].sort();\n      \n      await setDoc(herramientasRef, { items: updatedItems });\n      \n      addToolFromList(trimmedName);\n      \n      toast({\n        title: \"✓ Herramienta creada\",\n        description: `\"${trimmedName}\" se agregó al catálogo.`,\n      });\n      \n      setNewToolName('');\n      setIsAddingNew(false);\n    } catch (error) {\n      console.error('Error adding tool:', error);\n      toast({\n        variant: \"destructive\",\n        title: \"Error\",\n        description: \"No se pudo agregar la herramienta.\",\n      });\n    }\n  };\n\n  const removeTool = React.useCallback((index: number) => {\n    const newTools = (generalInfo.tools || []).filter((_, i) => i !== index);\n    handleInputChange('tools', newTools);\n  }, [generalInfo.tools, handleInputChange]);\n  \n  const maxDate = React.useMemo(() => {\n    if (!generalInfo.validFrom) return '';\n    const startDate = new Date(generalInfo.validFrom);\n    const maxDate = addDays(startDate, 7);\n    return format(maxDate, \"yyyy-MM-dd'T'HH:mm\");\n  }, [generalInfo.validFrom]);\n\n  const handleUntilChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newUntilDate = e.target.value;\n    if (maxDate && newUntilDate > maxDate) {\n        toast({\n            variant: \"destructive\",\n            title: \"Fecha Inválida\",\n            description: \"La duración del permiso no puede exceder los 7 días.\",\n        });\n        handleInputChange('validUntil', maxDate);\n    } else {\n        handleInputChange('validUntil', newUntilDate);\n    }\n  };\n\n  const renderDynamicSelect = React.useCallback((listKey: keyof typeof dynamicLists, fieldKey: keyof typeof generalInfo, label: string, required: boolean) => (\n    <div>\n      <Label className={`font-bold text-gray-700 ${required ? 'after:content-[\"*\"] after:ml-0.5 after:text-red-500' : ''}`}>{label}</Label>\n      <Select\n        value={(generalInfo as any)[fieldKey] || ''}\n        onValueChange={(value) => handleInputChange(fieldKey, value)}\n        disabled={loadingLists}\n      >\n        <SelectTrigger>\n          <SelectValue placeholder={loadingLists ? \"Cargando...\" : `Seleccione una opción...`} />\n        </SelectTrigger>\n        <SelectContent>\n          {dynamicLists[listKey].map((item) => (\n            <SelectItem key={item} value={item}>{item}</SelectItem>\n          ))}\n        </SelectContent>\n      </Select>\n    </div>\n  ), [generalInfo, dynamicLists, loadingLists, handleInputChange]);\n\n  // Filtrar herramientas según búsqueda con optimización\n  const filteredHerramientas = React.useMemo(() => {\n    if (!searchTerm) return herramientasDisponibles;\n    const searchLower = searchTerm.toLowerCase();\n    return herramientasDisponibles.filter(h => \n      h.toLowerCase().includes(searchLower)\n    );\n  }, [searchTerm, herramientasDisponibles]);\n\n  // Herramientas a mostrar con lazy loading\n  const displayedHerramientas = React.useMemo(() => {\n    return filteredHerramientas.slice(0, displayCount);\n  }, [filteredHerramientas, displayCount]);\n\n  // Herramientas para selección rápida (excluir ya agregadas)\n  const quickSelectTools = React.useMemo(() => {\n    return herramientasDisponibles\n      .slice(0, QUICK_SELECT_COUNT)\n      .filter(h => !generalInfo.tools?.some(t => t.name === h));\n  }, [herramientasDisponibles, generalInfo.tools]);\n\n  // Manejar scroll para lazy loading\n  const handleScroll = React.useCallback((e: React.UIEvent<HTMLDivElement>) => {\n    const target = e.target as HTMLDivElement;\n    const bottom = target.scrollHeight - target.scrollTop <= target.clientHeight + 50;\n    \n    if (bottom && displayCount < filteredHerramientas.length) {\n      setDisplayCount(prev => Math.min(prev + ITEMS_PER_PAGE, filteredHerramientas.length));\n    }\n  }, [displayCount, filteredHerramientas.length]);\n\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchTerm(e.target.value);\n    setShowSearchResults(true);\n    setDisplayCount(ITEMS_PER_PAGE);\n  };\n\n  const clearSearch = () => {\n    setSearchTerm('');\n    setShowSearchResults(false);\n    setDisplayCount(ITEMS_PER_PAGE);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"text-center mb-6\">\n        <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">\n          Información General del Permiso\n        </h2>\n        <p className=\"text-muted-foreground text-sm\">Complete todos los campos obligatorios (*)</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {renderDynamicSelect('areas', 'areaEspecifica', 'Área o equipo específico', true)}\n        {renderDynamicSelect('plantas', 'planta', 'Planta', true)}\n        {renderDynamicSelect('procesos', 'proceso', 'Proceso', false)}\n        {renderDynamicSelect('contratos', 'contrato', 'Contrato', false)}\n        {renderDynamicSelect('empresas', 'empresa', 'Empresa', false)}\n        <div>\n          <Label className=\"font-bold text-gray-700 after:content-['*'] after:ml-0.5 after:text-red-500\">Nombre del solicitante</Label>\n          <Input value={generalInfo.nombreSolicitante || ''} readOnly disabled />\n        </div>\n      </div>\n\n      <div>\n        <Label className=\"font-bold text-gray-700 after:content-['*'] after:ml-0.5 after:text-red-500\">Listas de Verificación Complementarias</Label>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-4 p-4 border rounded-lg mt-2\">\n          {workTypes.map(({ key, name }) => (\n            <div key={key} className=\"flex items-center space-x-2\">\n              <Checkbox\n                id={key}\n                checked={selectedWorkTypes[key]}\n                onCheckedChange={(checked) => handleWorkTypeChange(key, !!checked)}\n              />\n              <label htmlFor={key} className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\n                {name}\n              </label>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div>\n        <Label className=\"font-bold text-gray-700 after:content-['*'] after:ml-0.5 after:text-red-500\">Duración del Permiso</Label>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 border rounded-lg\">\n          <div>\n            <label className=\"text-sm font-medium\">Desde</label>\n            <Input\n              type=\"datetime-local\"\n              value={generalInfo.validFrom}\n              onChange={(e) => handleInputChange('validFrom', e.target.value)}\n              min={format(new Date(), \"yyyy-MM-dd'T'HH:mm\")}\n            />\n          </div>\n          <div>\n            <label className=\"text-sm font-medium\">Hasta</label>\n            <Input\n              type=\"datetime-local\"\n              value={generalInfo.validUntil}\n              onChange={handleUntilChange}\n              disabled={!generalInfo.validFrom}\n              min={generalInfo.validFrom}\n              max={maxDate}\n            />\n          </div>\n        </div>\n      </div>\n\n      <div>\n        <Label className=\"font-bold after:content-['*'] after:ml-0.5 after:text-red-500\">Descripción de la Tarea - ALCANCE</Label>\n        <Textarea\n          value={generalInfo.workDescription}\n          onChange={(e) => handleInputChange('workDescription', e.target.value)}\n          rows={3}\n          className=\"w-full mt-1\"\n          placeholder=\"Describa el alcance, descripción y área/equipo...\"\n        />\n      </div>\n\n      <div>\n        <Label className=\"font-bold text-gray-700\">Equipos y/o Herramientas</Label>\n        <div className=\"space-y-4 p-4 border rounded-lg mt-2\">\n          {/* Herramientas seleccionadas - Optimizado para móvil */}\n          {generalInfo.tools && generalInfo.tools.length > 0 && (\n            <div className=\"space-y-2 pb-3 border-b\">\n              <p className=\"text-xs text-muted-foreground\">Seleccionadas ({generalInfo.tools.length}):</p>\n              <div className=\"flex flex-wrap gap-2\">\n                {generalInfo.tools.map((tool, index) => (\n                  <div key={index} className=\"flex items-center gap-1.5 px-2.5 py-1 bg-primary/10 text-primary rounded-full text-xs sm:text-sm group\">\n                    <Check className=\"h-3 w-3 flex-shrink-0\" />\n                    <span className=\"truncate max-w-[150px] sm:max-w-none\">{tool.name}</span>\n                    <button\n                      onClick={() => removeTool(index)}\n                      className=\"hover:text-destructive transition-colors flex-shrink-0 ml-1\"\n                      type=\"button\"\n                    >\n                      <X className=\"h-3 w-3\"/>\n                    </button>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n          \n          {/* Campo de búsqueda - Optimizado para móvil */}\n          <div className=\"space-y-3\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none\" />\n              <Input\n                ref={searchInputRef}\n                value={searchTerm}\n                onChange={handleSearchChange}\n                onFocus={() => setShowSearchResults(true)}\n                placeholder=\"Buscar herramienta...\"\n                className=\"pl-9 pr-9\"\n                autoComplete=\"off\"\n              />\n              {searchTerm && (\n                <button\n                  onClick={clearSearch}\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground\"\n                  type=\"button\"\n                >\n                  <X className=\"h-4 w-4\" />\n                </button>\n              )}\n            </div>\n            \n            {/* Lista de resultados con lazy loading - Optimizada */}\n            {showSearchResults && searchTerm && (\n              <div\n                ref={resultsContainerRef}\n                className=\"absolute z-50 w-[calc(100%-2rem)] md:w-auto md:min-w-[400px] max-w-[600px] mt-1 bg-white border rounded-lg shadow-lg\"\n              >\n                <div \n                  className=\"max-h-[50vh] overflow-y-auto overscroll-contain\"\n                  onScroll={handleScroll}\n                >\n                  {displayedHerramientas.length > 0 ? (\n                    <>\n                      {displayedHerramientas.map((herramienta) => {\n                        const isAdded = generalInfo.tools?.some(t => t.name === herramienta);\n                        return (\n                          <button\n                            key={herramienta}\n                            onClick={() => !isAdded && addToolFromList(herramienta)}\n                            disabled={isAdded}\n                            type=\"button\"\n                            className={`w-full text-left px-4 py-3 hover:bg-gray-50 active:bg-gray-100 transition-colors text-sm border-b last:border-b-0 ${\n                              isAdded ? 'opacity-50 cursor-not-allowed bg-gray-50' : ''\n                            }`}\n                          >\n                            <div className=\"flex items-center justify-between gap-2\">\n                              <span className=\"truncate flex-1\">{herramienta}</span>\n                              {isAdded ? (\n                                <Check className=\"h-4 w-4 text-primary flex-shrink-0\" />\n                              ) : (\n                                <Plus className=\"h-4 w-4 text-muted-foreground flex-shrink-0\" />\n                              )}\n                            </div>\n                          </button>\n                        );\n                      })}\n                      {displayCount < filteredHerramientas.length && (\n                        <div className=\"px-4 py-3 text-center text-xs text-muted-foreground border-t\">\n                          Mostrando {displayCount} de {filteredHerramientas.length}... Desliza para ver más\n                        </div>\n                      )}\n                    </>\n                  ) : (\n                    <div className=\"px-4 py-8 text-center\">\n                      <p className=\"text-sm text-muted-foreground mb-3\">\n                        No se encontró \"{searchTerm}\"\n                      </p>\n                      <Button\n                        type=\"button\"\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => {\n                          setNewToolName(searchTerm);\n                          setIsAddingNew(true);\n                          setShowSearchResults(false);\n                        }}\n                      >\n                        <Plus className=\"mr-2 h-4 w-4\" />\n                        Agregar \"{searchTerm}\"\n                      </Button>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Agregar nueva herramienta */}\n            {isAddingNew && (\n              <div className=\"flex flex-col sm:flex-row gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200\">\n                <Input\n                  value={newToolName}\n                  onChange={(e) => setNewToolName(e.target.value)}\n                  placeholder=\"Nombre de la nueva herramienta...\"\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                      e.preventDefault();\n                      addNewToolToFirestore();\n                    }\n                    if (e.key === 'Escape') {\n                      setIsAddingNew(false);\n                      setNewToolName('');\n                    }\n                  }}\n                  autoFocus\n                  className=\"flex-1\"\n                />\n                <div className=\"flex gap-2\">\n                  <Button\n                    type=\"button\"\n                    onClick={addNewToolToFirestore}\n                    disabled={!newToolName.trim()}\n                    className=\"flex-1 sm:flex-none\"\n                  >\n                    <Check className=\"h-4 w-4 sm:mr-2\" />\n                    <span className=\"sm:inline hidden\">Guardar</span>\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    onClick={() => {\n                      setIsAddingNew(false);\n                      setNewToolName('');\n                    }}\n                    className=\"flex-1 sm:flex-none\"\n                  >\n                    <X className=\"h-4 w-4 sm:mr-2\" />\n                    <span className=\"sm:inline hidden\">Cancelar</span>\n                  </Button>\n                </div>\n              </div>\n            )}\n\n            {!isAddingNew && (\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => setIsAddingNew(true)}\n                className=\"w-full\"\n                size=\"sm\"\n              >\n                <Plus className=\"mr-2 h-4 w-4\" />\n                Crear nueva herramienta\n              </Button>\n            )}\n          </div>\n\n          {/* Selección rápida - Solo herramientas no agregadas */}\n          {quickSelectTools.length > 0 && (\n            <div className=\"pt-3 border-t\">\n              <p className=\"text-xs text-muted-foreground mb-2\">Acceso rápido:</p>\n              <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\n                {quickSelectTools.map((herramienta) => (\n                  <Button\n                    key={herramienta}\n                    type=\"button\"\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => addToolFromList(herramienta)}\n                    className=\"text-xs justify-start h-auto py-2 px-3\"\n                  >\n                    <Plus className=\"mr-1 h-3 w-3 flex-shrink-0\" />\n                    <span className=\"truncate\">{herramienta}</span>\n                  </Button>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div>\n        <Label className=\"font-bold text-gray-700 after:content-['*'] after:ml-0.5 after:text-red-500\">No. Trabajadores</Label>\n        <Input type=\"number\" value={generalInfo.numTrabajadores} onChange={e => handleInputChange('numTrabajadores', e.target.value)} placeholder=\"Cantidad de trabajadores\" />\n        <p className=\"text-xs text-muted-foreground mt-1\">\n            Tener presente que el número de trabajadores aquí relacionados debe ser el mismo número de trabajadores firmantes, si la cantidad de firmantes no es igual el sistema no le permitirá generar el permiso.\n        </p>\n      </div>\n\n      <div>\n        <Label className=\"font-bold text-gray-700 after:content-['*'] after:ml-0.5 after:text-red-500\">Responsable del Trabajo / Ejecutor</Label>\n        <div className=\"p-4 border rounded-lg mt-2 space-y-4\">\n          <div>\n            <Label className=\"text-sm text-muted-foreground after:content-['*'] after:ml-0.5 after:text-red-500\">Nombre completo</Label>\n            <Input placeholder=\"Nombre completo\" value={generalInfo.responsable?.nombre} onChange={e => handleResponsableChange('nombre', e.target.value)} />\n          </div>\n          <div>\n            <Label className=\"text-sm text-muted-foreground after:content-['*'] after:ml-0.5 after:text-red-500\">Cargo</Label>\n            <Input placeholder=\"Cargo\" value={generalInfo.responsable?.cargo} onChange={e => handleResponsableChange('cargo', e.target.value)} />\n          </div>\n          <div>\n            <Label className=\"text-sm text-muted-foreground after:content-['*'] after:ml-0.5 after:text-red-500\">Compañía</Label>\n            <Select\n              value={generalInfo.responsable?.compania || ''}\n              onValueChange={(value) => handleResponsableChange('compania', value)}\n              disabled={loadingLists}\n            >\n              <SelectTrigger>\n                <SelectValue placeholder={loadingLists ? \"Cargando...\" : \"Seleccione una compañía...\"} />\n              </SelectTrigger>\n              <SelectContent>\n                {dynamicLists.empresas.map((empresa) => (\n                  <SelectItem key={empresa} value={empresa}>{empresa}</SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1241, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/AtsStep.tsx"],"sourcesContent":["'use client';\n\nimport React, { useCallback } from 'react';\nimport { Label } from '@/components/ui/label';\nimport { Collapsible,CollapsibleContent, CollapsibleTrigger} from '@/components/ui/collapsible';\nimport { Button } from '@/components/ui/button';\nimport { ChevronDown, Plus, Trash2 } from 'lucide-react';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport type { AnexoATS } from '@/types';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useToast } from '@/hooks/use-toast';\n\n// Props del componente\ninterface AtsStepProps {\n  anexoATS: AnexoATS;\n  onUpdateATS: (updates: Partial<AnexoATS>) => void;\n}\n\nconst hazardCategories = {\n  LOCATIVOS: [\n    { id: 'superficies_irregulares', label: 'Superficies irregulares', control: 'Uso de botas de seguridad con suela antideslizante. Controlar escapes, derrames o goteras sobre los sitios de desplazamiento. Limpiar de inmediato cualquier líquido que se derrame en el piso. Caminar con precaución. No cargar piezas o equipos que limiten la vista. Respetar la señalización. Transitar con precaución verificando rutas de tránsito; no pasar donde haya presencia de materiales u obstáculos; mantener el área ordenada.' },\n    { id: 'superficies_deslizantes', label: 'Superficies deslizantes', control: 'Al subir o bajar escaleras utilizar todos los peldaños y sujetarse del pasamanos; mantener los tres puntos de apoyo; ascender y descender pausadamente.' },\n    { id: 'diferencia_nivel', label: 'Superficies con diferencia de nivel', control: 'No caminar hacia atrás. No acercarse a los vacíos existentes cerca al área de trabajo. Informar cualquier condición de inseguridad que observe en las áreas de trabajo.' },\n    { id: 'techos_mal_estado', label: 'Techos, muros, pisos o paredes en mas estado', control: 'Hacer uso de los elementos de prevención y protección contra caídas, diligenciar permiso de trabajo en alturas si se supera el 2,0 metros.' },\n    { id: 'espacios_reducidos', label: 'Espacios reducidos de trabajo', control: 'Si esta catalogado como espacio confinado, aplica permiso de trabajo en espacio confinado, aplique las medidas de prevención y protección definidas por la empesa' },\n  ],\n  FÍSICOS: [\n    { id: 'deficiencia_iluminacion', label: 'Deficiencia de iluminación', control: 'Uso de reflectores y/o lámparas en áreas con iluminación deficiente y en trabajo nocturno. Informar al dueño de área ausencia o daño de iluminación artificial. Usar gafas claras todo el tiempo en caso de luz deficiente. Permanecer únicamente en el sitio autorizado de trabajo.' },\n    { id: 'exceso_iluminacion', label: 'Exceso de iluminación', control: 'En trabajos en el exterior, uso de gafas oscuras en caso de exceso de iluminación; evitar cambios bruscos de iluminación (deslumbramientos)' },\n    { id: 'ruido_intermitente', label: 'Ruido (Intermitente/Continuo)', control: 'Usar de manera permanente protección auditiva tipo copa o de inserción y no retirarlo durante toda la tarea.' },\n    { id: 'contacto_superficies_calientes', label: 'Contacto superficies calientes', control: 'Usar de manera permanente guantes de protección, uso de ropa manga larga, identificar con señalización o superficies calientes' },\n    { id: 'exposicion_soldadura', label: 'Exposición a arco de soldadura', control: 'Utilizar yelmo de soldar o la pantalla de mano siempre que se suelde, no mira nunca directamente al arco voltaico, no pique el cordón de soldadura sin protección ocular' },\n  ],\n  QUÍMICOS: [\n    { id: 'gases_humos_vapores', label: 'Gases, humos, vapores y neblinas', control: 'Uso permanente de protección respiratoria de acuerdo al tipo de exposición. En caso de uso de mascarilla con filtros, verificar que se usen los adecuados para el tipo de agente químico (gas, vapor, humo, material particulado, polvos, nieblas, rocíos, etc.)' },\n    { id: 'material_particulado', label: 'Material particulado', control: 'Realizar mantenimiento periódico de la mascarilla y hacer el cambio cuando sea necesario. Asegurar el sello efectivo de la mascarilla media cara al contacto con la piel.' },\n    { id: 'contacto_sustancias_peligrosas', label: 'Uso o contacto con materiales y sustancias peligrosas', control: 'Uso de elementos de protección personal de acuerdo a la FDS Ficha de Datos de Seguridad, disponer en sitio de las medidas de protección señaladas en la Ficha en caso de contacto accidental' },\n    { id: 'derrame_productos_quimicos', label: 'Derrame o fugas de productos Químicos', control: 'Definir un plan de emergencia en caso de derrame o fuga de productos químicos, contar con kit antiderrames y elementos de protección personal aocrdes al producto químico que se este usando' },\n  ],\n  MECÁNICOS: [\n    { id: 'proyeccion_particulas', label: 'Proyección de particulas y fragmentos', control: 'Uso obligatorio y permanente de elementos de protección individual, protección fácil y visual' },\n    { id: 'mecanismo_movimiento', label: 'Mecanismo en movimiento', control: 'Mantener protecciones como guardas y dispositivos instalados en el equipo, no posicionar segmentos corporales en áreas de peligros, por ningún motivo violar una guarda de seguridad' },\n    { id: 'manejo_herramientas', label: 'Manejo de herrramienta o equipos electricos', control: 'Uso de equipos y herramientas eléctricas en condiciones operativas que no exponen al trabajador a riesgos, realizar inspección preoperacional' },\n    { id: 'movimiento_equipos_pesados', label: 'Movimiento de equipos de trabajo pesado en sitio', control: 'Señalización en sitio de trabajo, personal con paleta de pare y siga acompañando el desplazamiento por vías internas, manejo de trafico y control de senderos peatonas' },\n    { id: 'exposicion_vibraciones', label: 'Exposición a vibraciones por equipos', control: 'Pausas activas durante la jornada laboral, rotación de personal para realizar la labor en jornada prolongadas donde se exponga a vibraciones' },\n  ],\n  BIOLÓGICOS: [\n    { id: 'exposicion_vectores', label: 'Exposición a vectores transmisión de enfermedades', control: 'Orden y aseo en el lugar de trabajo, evitar la acumulación de agua que pueda ser foco de proliferación de vectores' },\n    { id: 'contaminacion_biologica', label: 'Contaminación biológica', control: 'Prevenir y contener derrames de productos peligros, ubicación y disposición de kit de contención de derrames' },\n  ],\n  VIAL: [\n    { id: 'accidente_incidente_vial', label: 'Accidente o incidente vial', control: 'Para el transito peatonal hacer uso de las vias definidas por la empresa para el desplazamiento seguro' },\n    { id: 'atropellamiento_personas', label: 'Atropellamiento a personas', control: 'Respatar los limites de velocidad definidos por Italcol de 10 Km/h, no usar dispostivos de comunicación como telefono celular.' },\n  ],\n  BIOMECÁNICOS: [\n    { id: 'carga_estatica', label: 'Carga Estática (Posturas inadecuadas, prolongadas, forzadas, antigravitación)', control: 'Realizar calentamiento previo al inicio de las actividades (ejercicios pre-laborales); Tomar pausas activas. Higiene postural. Realizar cambios periódicos de actividad dentro de la tarea a ejecutar.' },\n    { id: 'carga_dinamica', label: 'Carga Dinámica (Esfuerzo, Movilización de cargas, Movimientos repetitivos / repetidos)', control: 'No levantar cargas superiores a 25 kg (hombres) / 12.5Kg (mujeres) de peso; levantar una carga a la vez, en piezas pesadas y/o voluminosas, hacer el movimiento entre 2 personas. Aplicar técnicas de levantamiento de cargas, manteniendo la espalda recta y flexionando las piernas, busque siempre primero ayudas mecánicas.' },\n  ],\n  AMBIENTALES: [\n    { id: 'generacion_residuos', label: 'Generación de residuos escombros', control: 'ReaIizar la separación y disponer de acuerdo a la clasificación de colores definida por Italcol , disposición de residuos fuera de las instalaciones de acuerdo al marco normativo definido' },\n    { id: 'consumo_agua', label: 'Consumo de agua en grandes cantidades', control: 'Uso eficiente de recursos, eliminación de fugas de agua, prevenir y contener derrames de productos peligrosos.' },\n    { id: 'mezcla_concreto', label: 'Mezcla de concreto en suelo', control: 'Uso de mezcladora o recipiente para evitar la mezcla en piso, de no ser posible utilizar una barrera fisica que aisle los materiales de cosntroccuón de las superficies y sirvan como mecaniosmo de contención.' },\n    { id: 'emisiones_material_particulado', label: 'Emisiones de material particulado', control: 'Cubrir materiales que puedan generar material particulado o barreras fisicas que mitiguen la generación al medio ambiente' },\n  ],\n};\n\nexport const eppOptions = {\n  'Protección Cabeza, Visual, Auditiva y Respiratoria': [\n    { id: 'casco_seguridad', label: 'Casco de seguridad', type: 'custom_casco' },\n    { id: 'gafas_seguridad', label: 'Gafas de seguridad', type: 'boolean' },\n    { id: 'gafas_oxicorte', label: 'Gafas de oxicorte', type: 'boolean' },\n    { id: 'monogafas', label: 'Monogafas', type: 'boolean' },\n    { id: 'careta_soldador', label: 'Careta de soldador', type: 'boolean' },\n    { id: 'careta_proteccion_total', label: 'Careta de protección total', type: 'boolean' },\n    { id: 'gafas_antisalpicaduras', label: 'Gafas antisalpicaduras', type: 'boolean' },\n    { id: 'visor_careta', label: 'Visor / careta para', type: 'select', selectOptions: ['Esmerilado', 'Químicos', 'Impactos', 'Soldadura'] },\n    { id: 'careta_arco_electrico', label: 'Careta arco eléctrico clase', type: 'select', selectOptions: ['Clase 1', 'Clase 2', 'Clase 3', 'Clase 4'] },\n    { id: 'protector_auditivo', label: 'Protector auditivo tipo:', type: 'select', selectOptions: ['Copa', 'Inserción'] },\n    { id: 'mascarilla_filtro', label: 'Mascarilla con filtro', type: 'select', selectOptions: ['Vapores orgánicos', 'Gases ácidos', 'Amoniaco', 'Formaldehído', 'Partículas P100', 'Combinado'] },\n    { id: 'chavo_en_tela_o_carnaza', label: 'Chavo en tela o carnaza', type: 'boolean' },\n    { id: 'mascarilla_material_particulado', label: 'Mascarilla material particulado', type: 'boolean' },\n  ],\n  'Protección Corporal, Manos y Pies': [\n    { id: 'overol_trabajo', label: 'Overol de trabajo', type: 'boolean' },\n    { id: 'overol_ignifugo', label: 'Overol ignífugo clase', type: 'select', selectOptions: ['Clase 1', 'Clase 2', 'Clase 3'] },\n    { id: 'dotacion', label: 'Dotación', type: 'select', selectOptions: ['Pantalón y camisa', 'Overol', 'Pantalón y camiseta'] },\n    { id: 'chaleco_reflectivo', label:'Chaleco reflectivo', type: 'boolean' },\n    { id: 'chaqueta_cuero_carnaza', label: 'Chaqueta de cuero o carnaza', type: 'boolean' },\n    { id: 'delantal_cuero_carnaza', label: 'Delantal de cuero o carnaza', type: 'boolean' },\n    { id: 'delantal_pvc', label: 'Delantal de PVC', type: 'boolean' },    \n    { id: 'polainas', label: 'Polainas', type: 'boolean' },\n    { id: 'guante_dielectrico', label: 'Guante dieléctrico clase', type: 'custom_guante_dielectrico' },\n    { id: 'guante_caucho_nitrilo', label: 'Guante de caucho y/o nitrilo', type: 'boolean' },\n    { id: 'guante_cuero_carnaza', label: 'Guante de cuero o carnaza', type: 'select', selectOptions: ['Tipo soldador', 'Tipo vaqueta', 'Tipo carnaza'] },\n    { id: 'guante_vaqueta_anticorte', label: 'Guante de vaqueta o Anticorte', type: 'boolean' },\n    { id: 'guante_temperatura', label: 'Guante temperatura', type: 'boolean' },\n    { id: 'botas_seguridad', label: 'Botas de seguridad', type: 'boolean' },\n    { id: 'botas_caucho_seguridad', label: 'Botas de caucho de seguridad', type: 'boolean' },\n    { id: 'botas_dielectricas', label: 'Botas dieléctricas', type: 'boolean' },\n    { id: 'proteccion_metatarso', label: 'Protección Metatarso', type: 'boolean' },\n  ],\n  'Protección Contra Caídas y Equipos Especiales': [\n    { id: 'arnes', label: 'Arnés', type: 'select', selectOptions: ['Cuerpo completo', 'Pélvico', 'Paracaídas'] },\n    { id: 'mosqueton', label: 'Mosquetón', type: 'boolean' },\n    { id: 'punto_de_anclaje', label: 'Punto de anclaje', type: 'select', selectOptions: ['Fijo estructural', 'Portátil/Móvil', 'Viga', 'Anclaje certificado'] },\n    { id: 'eslinga', label: 'Eslinga tipo/absorbedor', type: 'select', selectOptions: ['Y con absorbedor', 'Simple con absorbedor', 'Doble sin absorbedor', 'Retráctil'] },\n    { id: 'linea_vida', label: 'Línea de vida', type: 'select', selectOptions: ['Vertical', 'Horizontal temporal', 'Horizontal fija'] },\n    { id: 'adaptador_anclaje', label: 'Adaptador de anclaje', type: 'select', selectOptions: ['Viga I', 'Viga H', 'Esquina/Borde', 'Universal'] },\n    { id: 'aire_respirable', label: 'Aire respirable (compresor o cilindro)', type: 'boolean' },\n    { id: 'tapete_dielectrico', label: 'Tapete dieléctrico clase', type: 'select', selectOptions: ['Clase 0 (hasta 1000V)', 'Clase 1 (hasta 7500V)', 'Clase 2 (hasta 17000V)', 'Clase 3 (hasta 26500V)', 'Clase 4 (hasta 36000V)'] },\n    { id: 'senalizacion', label: 'Señalización', type: 'boolean' },\n    { id: 'barandas', label: 'Barandas', type: 'boolean' },\n    { id: 'delimitacion_perimetral', label: 'Delimitación perímetro', type: 'boolean' },\n    { id: 'control_acceso', label: 'Control acceso', type: 'boolean' },\n    { id: 'otro_epp', label: 'Otro:', type: 'text' },\n  ],\n};\n\nconst justificacionOptions = [\n  { id: 'rutinario_3_meses', label: 'TRABAJO RUTINARIO REALIZADO 1 VEZ CADA 3 MESES' },\n  { id: 'no_rutinario_emergencia', label: 'TRABAJO NO RUTINARIO (EMERGENCIA)' },\n  { id: 'rutinario_sin_procedimiento', label: 'TRABAJO RUTINARIO QUE NO POSEE UN PROCEDIMIENTO SEGURO DE TRABAJO O INDICACIÓN CORRECTA DE RIESGOS O MEDIDAS PREVENTIVAS' },\n  { id: 'no_rutinario_planeado', label: 'TRABAJO NO RUTINARIO (PLANEADO)' },\n  { id: 'rutinario_condicion_especifica', label: 'TRABAJO RUTINARIO QUE POR UNA CONDICIÓN ESPECÍFICA/TEMPORAL, NO ES POSIBLE APLICAR UN PROCEDIMIENTO DE FORMA INTEGRAL' },\n];\n\n// Componente para items de EPP\nconst EppItem = ({ \n  item, \n  checked, \n  onCheckedChange, \n  eppData,\n  onEppChange,\n}: { \n  item: { id: string; label: string; type: string; selectOptions?: string[] };\n  checked: boolean;\n  onCheckedChange: (checked: boolean) => void;\n  eppData: any;\n  onEppChange: (id: string, value: any) => void;\n}) => {\n\n  const handleSpecChange = (field: string, value: string) => {\n    onEppChange(field, value);\n  };\n  \n  // Manejo especial para casco de seguridad\n  if (item.type === 'custom_casco') {\n    return (\n      <div className=\"flex flex-col gap-2\">\n        <div className=\"flex items-center space-x-2\">\n          <Checkbox \n            id={item.id} \n            checked={checked} \n            onCheckedChange={onCheckedChange}\n          />\n          <Label htmlFor={item.id} className=\"text-sm font-bold\">{item.label}</Label>\n        </div>\n        {checked && (\n          <div className=\"ml-6 space-y-2\">\n            <Select \n              value={eppData?.casco_seguridad_tipo || ''}\n              onValueChange={(value) => handleSpecChange('casco_seguridad_tipo', value)}\n            >\n              <SelectTrigger className=\"h-8 text-xs\">\n                <SelectValue placeholder=\"Tipo\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"tipo_1\">Tipo 1</SelectItem>\n                <SelectItem value=\"tipo_2\">Tipo 2</SelectItem>\n              </SelectContent>\n            </Select>\n            <Select \n              value={eppData?.casco_seguridad_clase || ''}\n              onValueChange={(value) => handleSpecChange('casco_seguridad_clase', value)}\n            >\n              <SelectTrigger className=\"h-8 text-xs\">\n                <SelectValue placeholder=\"Clase\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"clase_e\">Clase E (Eléctrico)</SelectItem>\n                <SelectItem value=\"clase_g\">Clase G (General)</SelectItem>\n                <SelectItem value=\"clase_c\">Clase C (Conductivo)</SelectItem>\n              </SelectContent>\n            </Select>\n            <Select \n              value={eppData?.casco_seguridad_barbuquejo || ''}\n              onValueChange={(value) => handleSpecChange('casco_seguridad_barbuquejo', value)}\n            >\n              <SelectTrigger className=\"h-8 text-xs\">\n                <SelectValue placeholder=\"Barbuquejo\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"con_barbuquejo\">Con barbuquejo</SelectItem>\n                <SelectItem value=\"sin_barbuquejo\">Sin barbuquejo</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  // Manejo especial para guante dieléctrico\n  if (item.type === 'custom_guante_dielectrico') {\n    return (\n      <div className=\"flex flex-col gap-2\">\n        <div className=\"flex items-center space-x-2\">\n          <Checkbox \n            id={item.id} \n            checked={checked} \n            onCheckedChange={onCheckedChange}\n          />\n          <Label htmlFor={item.id} className=\"text-sm\">{item.label}</Label>\n        </div>\n        {checked && (\n          <div className=\"ml-6 space-y-2\">\n            <Select \n              value={eppData?.guante_dielectrico_clase || ''}\n              onValueChange={(value) => handleSpecChange('guante_dielectrico_clase', value)}\n            >\n              <SelectTrigger className=\"h-8 text-xs\">\n                <SelectValue placeholder=\"Seleccione clase...\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"clase_00\">Clase 00 (hasta 500V)</SelectItem>\n                <SelectItem value=\"clase_0\">Clase 0 (hasta 1000V)</SelectItem>\n                <SelectItem value=\"clase_1\">Clase 1 (hasta 7500V)</SelectItem>\n                <SelectItem value=\"clase_2\">Clase 2 (hasta 17000V)</SelectItem>\n                <SelectItem value=\"clase_3\">Clase 3 (hasta 26500V)</SelectItem>\n                <SelectItem value=\"clase_4\">Clase 4 (hasta 36000V)</SelectItem>\n              </SelectContent>\n            </Select>\n            <div className=\"text-xs text-muted-foreground space-y-1\">\n              <div className=\"flex items-center gap-2\">\n                <Checkbox \n                  id=\"guantin\"\n                  checked={eppData?.guante_dielectrico_guantin || false}\n                  onCheckedChange={(checked) => handleSpecChange('guante_dielectrico_guantin', checked)}\n                />\n                <Label htmlFor=\"guantin\" className=\"font-normal\">Guantín (protector interno)</Label>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Checkbox \n                  id=\"proteccion_mecanica\"\n                  checked={eppData?.guante_dielectrico_proteccion || false}\n                  onCheckedChange={(checked) => handleSpecChange('guante_dielectrico_proteccion', checked)}\n                />\n                <Label htmlFor=\"proteccion_mecanica\" className=\"font-normal\">Protección mecánica (sobre-guante)</Label>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  // Manejo para campos con select\n  if (item.type === 'select' && item.selectOptions) {\n    return (\n      <div className=\"flex flex-col gap-2\">\n        <div className=\"flex items-center space-x-2\">\n          <Checkbox \n            id={item.id} \n            checked={checked} \n            onCheckedChange={onCheckedChange}\n          />\n          <Label htmlFor={item.id} className=\"text-sm\">{item.label}</Label>\n        </div>\n        {checked && (\n          <div className=\"ml-6\">\n            <Select \n              value={eppData?.[`${item.id}_spec`] || ''}\n              onValueChange={(value) => handleSpecChange(`${item.id}_spec`, value)}\n            >\n              <SelectTrigger className=\"h-8 text-xs\">\n                <SelectValue placeholder=\"Seleccione opción...\" />\n              </SelectTrigger>\n              <SelectContent>\n                {item.selectOptions.map((option) => (\n                  <SelectItem key={option} value={option.toLowerCase().replace(/ /g, '_')}>\n                    {option}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  // Manejo para campos de texto y boolean\n  return (\n    <div className=\"flex flex-col gap-1\">\n      <div className=\"flex items-center space-x-2\">\n        <Checkbox \n          id={item.id} \n          checked={checked} \n          onCheckedChange={onCheckedChange}\n        />\n        <Label htmlFor={item.id} className=\"text-sm\">{item.label}</Label>\n      </div>\n      {item.type === 'text' && checked && (\n        <Input\n          id={`${item.id}_spec`}\n          className=\"h-8 text-xs ml-6\"\n          placeholder=\"Especificar...\"\n          value={eppData?.[`${item.id}_spec`] || ''}\n          onChange={(e) => onEppChange(`${item.id}_spec`, e.target.value)}\n        />\n      )}\n    </div>\n  );\n};\n\n// Componente para categorías de EPP\nconst EppCategory = ({ \n  category, \n  items, \n  eppData, \n  onEppChange \n}: { \n  category: string;\n  items: Array<{ id: string; label: string; type: string; selectOptions?: string[] }>;\n  eppData: any;\n  onEppChange: (id: string, value: any) => void;\n}) => {\n  \n  const handleCheckedChange = (id: string, type: string, checked: boolean) => {\n    const newEpp = { ...(eppData || {}) };\n    \n    if (checked) {\n      newEpp[id] = true;\n    } else {\n      delete newEpp[id];\n      if (type === 'text' || type === 'select') {\n        delete newEpp[`${id}_spec`];\n      }\n      if (type === 'custom_casco') {\n        delete newEpp[`casco_seguridad_tipo`];\n        delete newEpp[`casco_seguridad_clase`];\n        delete newEpp[`casco_seguridad_barbuquejo`];\n      }\n      if (type === 'custom_guante_dielectrico') {\n        delete newEpp[`guante_dielectrico_clase`];\n        delete newEpp[`guante_dielectrico_guantin`];\n        delete newEpp[`guante_dielectrico_proteccion`];\n      }\n    }\n    onEppChange('epp', newEpp);\n  };\n  \n  const handleSpecChange = (field: string, value: string | boolean) => {\n    const newEpp = { ...(eppData || {}), [field]: value };\n    onEppChange('epp', newEpp);\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <h4 className=\"font-semibold text-md text-gray-700\">{category}</h4>\n      <div className=\"space-y-2 p-3 border rounded-md\">\n        {items.map(item => (\n          <EppItem\n            key={item.id}\n            item={item}\n            checked={!!eppData?.[item.id]}\n            onCheckedChange={(checked) => handleCheckedChange(item.id, item.type, checked)}\n            eppData={eppData}\n            onEppChange={handleSpecChange}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// Componente para \"Otros Peligros\"\nconst OtrosPeligrosSection = React.memo(({ \n  peligrosAdicionales, \n  onUpdatePeligros \n}: { \n  peligrosAdicionales: Array<{peligro: string, descripcion: string}> | undefined,\n  onUpdatePeligros: (peligros: Array<{peligro: string, descripcion: string}>) => void \n}) => {\n  const [newPeligro, setNewPeligro] = React.useState('');\n  const [newPeligroDesc, setNewPeligroDesc] = React.useState('');\n\n  const handleAddPeligro = React.useCallback(() => {\n    if (newPeligro.trim() && newPeligroDesc.trim()) {\n      const newPeligros = [...(peligrosAdicionales || []), { \n        peligro: newPeligro.trim(), \n        descripcion: newPeligroDesc.trim() \n      }];\n      onUpdatePeligros(newPeligros);\n      setNewPeligro('');\n      setNewPeligroDesc('');\n    }\n  }, [newPeligro, newPeligroDesc, peligrosAdicionales, onUpdatePeligros]);\n\n  const handleRemovePeligro = React.useCallback((index: number) => {\n    const newPeligros = (peligrosAdicionales || []).filter((_, i) => i !== index);\n    onUpdatePeligros(newPeligros);\n  }, [peligrosAdicionales, onUpdatePeligros]);\n\n  return (\n    <div className=\"mt-6\">\n      <h4 className=\"font-semibold text-lg text-gray-700 mb-2\">Otros Peligros</h4>\n      <div className=\"p-4 border rounded-lg space-y-4\">\n        {peligrosAdicionales?.map((item, index) => (\n          <div key={`peligro-${index}`} className=\"flex items-start gap-2 p-3 bg-gray-50 rounded-md\">\n            <div className=\"flex-1\">\n              <p className=\"font-bold\">{item.peligro}</p>\n              <p className=\"text-sm text-muted-foreground\">{item.descripcion}</p>\n            </div>\n            <Button \n              variant=\"ghost\" \n              size=\"icon\" \n              onClick={() => handleRemovePeligro(index)}\n              type=\"button\"\n            >\n              <Trash2 className=\"h-4 w-4 text-destructive\" />\n            </Button>\n          </div>\n        ))}\n        \n        <div className=\"space-y-3\">\n          <div>\n            <Label htmlFor=\"nuevo-peligro-nombre\">Nombre del nuevo peligro</Label>\n            <Input \n              id=\"nuevo-peligro-nombre\"\n              value={newPeligro} \n              onChange={(e) => setNewPeligro(e.target.value)} \n              placeholder=\"Escriba el nombre del peligro...\"\n              autoComplete=\"off\"\n              type=\"text\"\n            />\n          </div>\n          <div>\n            <Label htmlFor=\"nuevo-peligro-desc\">Descripción y control del peligro</Label>\n            <Textarea \n              id=\"nuevo-peligro-desc\"\n              value={newPeligroDesc} \n              onChange={(e) => setNewPeligroDesc(e.target.value)} \n              placeholder=\"Escriba la descripción y medidas de control...\"\n              autoComplete=\"off\"\n              rows={3}\n            />\n          </div>\n          <Button \n            onClick={handleAddPeligro} \n            size=\"sm\" \n            type=\"button\"\n            disabled={!newPeligro.trim() || !newPeligroDesc.trim()}\n          >\n            <Plus className=\"mr-2 h-4 w-4\" /> Agregar Peligro\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nOtrosPeligrosSection.displayName = 'OtrosPeligrosSection';\n\n// SectionWrapper fuera del componente principal\nconst SectionWrapper = React.memo(({ \n  title, \n  children, \n  sectionId,\n  isOpen,\n  onToggle\n}: { \n  title: string; \n  children: React.ReactNode; \n  sectionId: string;\n  isOpen: boolean;\n  onToggle: () => void;\n}) => (\n  <Collapsible open={isOpen} onOpenChange={onToggle}>\n    <CollapsibleTrigger asChild>\n      <Button \n        variant=\"ghost\" \n        className=\"w-full justify-between p-3 bg-gray-100 rounded-lg cursor-pointer border\"\n      >\n        <h3 className=\"text-lg font-bold text-gray-700\">{title}</h3>\n        <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n      </Button>\n    </CollapsibleTrigger>\n    <CollapsibleContent className=\"p-4 border-l border-r border-b rounded-b-lg\">\n      {children}\n    </CollapsibleContent>\n  </Collapsible>\n));\n\nSectionWrapper.displayName = \"SectionWrapper\";\n\nexport function AtsStep({ anexoATS, onUpdateATS }: AtsStepProps) {\n  const [openSections, setOpenSections] = React.useState<Record<string, boolean>>({});\n\n  const toggleSection = React.useCallback((section: string) => {\n    setOpenSections(prev => ({ ...prev, [section]: !prev[section] }));\n  }, []);\n\n  const handlePeligroChange = React.useCallback((id: string, value: 'si' | 'no') => {\n    onUpdateATS({ \n      peligros: { ...anexoATS.peligros, [id]: value } \n    });\n  }, [anexoATS.peligros, onUpdateATS]);\n  \n  const handleEppChange = useCallback((field: string, value: any) => {\n    onUpdateATS({ [field]: value });\n  }, [onUpdateATS]);\n\n  const handleJustificacionChange = React.useCallback((id: string, value: boolean) => {\n    onUpdateATS({ \n      justificacion: { ...anexoATS.justificacion, [id]: value } \n    });\n  }, [anexoATS.justificacion, onUpdateATS]);\n\n  const handleUpdatePeligrosAdicionales = React.useCallback((peligros: Array<{peligro: string, descripcion: string}>) => {\n    onUpdateATS({ peligrosAdicionales: peligros });\n  }, [onUpdateATS]);\n\n  return (\n    <div className=\"space-y-8\">\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">\n          Análisis de Peligros y ATS\n        </h2>\n        <p className=\"text-muted-foreground text-sm\">\n          Identifique los peligros, controles y EPP necesarios para la tarea.\n        </p>\n      </div>\n\n      <SectionWrapper \n        title=\"1. Identificación de Peligros, Riesgos y Controles\" \n        sectionId=\"peligros\"\n        isOpen={!!openSections.peligros}\n        onToggle={() => toggleSection('peligros')}\n      >\n        <p className=\"text-xs text-muted-foreground mb-4\">\n          Coloque \"SI\" o \"NO\" para los peligros envueltos en el trabajo. Cuando asigne un \"SI\", se desplegarán los controles recomendados.\n        </p>\n        <div className=\"space-y-2\">\n          {Object.entries(hazardCategories).map(([category, hazards]) => (\n            <Collapsible \n              key={category} \n              open={!!openSections[category]} \n              onOpenChange={() => toggleSection(category)}\n            >\n              <CollapsibleTrigger asChild>\n                <Button \n                  variant=\"ghost\" \n                  className=\"w-full justify-between p-4 border rounded-lg\"\n                >\n                  <span className=\"font-semibold\">{category}</span>\n                  <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n                </Button>\n              </CollapsibleTrigger>\n              <CollapsibleContent className=\"p-4 border border-t-0 rounded-b-lg space-y-4\">\n                {hazards.map((hazard) => (\n                  <div key={hazard.id} className=\"space-y-3 p-3 bg-gray-50/50 rounded-md\">\n                    <div className=\"flex items-center justify-between\">\n                      <Label htmlFor={hazard.id} className=\"font-medium flex-1\">\n                        {hazard.label}\n                      </Label>\n                      <RadioGroup\n                        value={anexoATS.peligros?.[hazard.id]}\n                        onValueChange={(value: 'si' | 'no') => handlePeligroChange(hazard.id, value)}\n                        className=\"flex gap-4\"\n                      >\n                        <div className=\"flex items-center space-x-2\">\n                          <RadioGroupItem value=\"si\" id={`${hazard.id}-si`} />\n                          <Label htmlFor={`${hazard.id}-si`}>SI</Label>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <RadioGroupItem value=\"no\" id={`${hazard.id}-no`} />\n                          <Label htmlFor={`${hazard.id}-no`}>NO</Label>\n                        </div>\n                      </RadioGroup>\n                    </div>\n                    {anexoATS.peligros?.[hazard.id] === 'si' && (\n                      <div className=\"pl-4 border-l-4 border-primary/50 ml-2\">\n                        <p className=\"text-xs font-semibold text-primary mb-1\">CONTROL RECOMENDADO:</p>\n                        <p className=\"text-xs text-muted-foreground\">{hazard.control}</p>\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </CollapsibleContent>\n            </Collapsible>\n          ))}\n        </div>\n        \n        <OtrosPeligrosSection \n          peligrosAdicionales={anexoATS.peligrosAdicionales}\n          onUpdatePeligros={handleUpdatePeligrosAdicionales}\n        />\n\n        {/* Movido aquí */}\n        <div className=\"p-4 border-t-2 border-dashed mt-8\">\n            <h4 className=\"font-bold text-lg mb-2 text-gray-800\">PELIGROS ADICIONALES A LA ACTIVIDAD Y MEDIDAS DE CONTROL</h4>\n            <ul className=\"list-disc list-outside space-y-2 text-sm text-gray-600 pl-5\">\n              <li>Definir el área adecuada para tomar agua, refrigerio, uso del baño (si es necesario). No hacer consumo de alimentos en el área de operación.</li>\n              <li>Todos los trabajadores envueltos en la actividad deben conocer y cumplir las reglas de seguridad de la compañía así como las propias del área.</li>\n              <li>Cualquier cambio en las condiciones del trabajo se deberá suspender actividades y realizar un ATS complementario.</li>\n            </ul>\n        </div>\n      </SectionWrapper>\n\n      <SectionWrapper \n        title=\"2. EPP Requeridos\" \n        sectionId=\"epp\"\n        isOpen={!!openSections.epp}\n        onToggle={() => toggleSection('epp')}\n      >\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6\">\n          {Object.entries(eppOptions).map(([category, items]) => (\n            <EppCategory\n              key={category}\n              category={category}\n              items={items}\n              eppData={anexoATS.epp}\n              onEppChange={handleEppChange}\n            />\n          ))}\n        </div>\n      </SectionWrapper>\n      \n      <SectionWrapper \n        title=\"3. Justificación para el uso del ATS\" \n        sectionId=\"justificacion\"\n        isOpen={!!openSections.justificacion}\n        onToggle={() => toggleSection('justificacion')}\n      >\n        <div className=\"space-y-3 p-4 border rounded-lg\">\n          {justificacionOptions.map(option => (\n            <div key={option.id} className=\"flex items-center space-x-3\">\n              <Checkbox\n                id={option.id}\n                checked={!!anexoATS.justificacion?.[option.id]}\n                onCheckedChange={(checked) => handleJustificacionChange(option.id, !!checked)}\n              />\n              <Label htmlFor={option.id} className=\"text-sm font-normal\">{option.label}</Label>\n            </div>\n          ))}\n        </div>\n      </SectionWrapper>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2996, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/AnexoAlturaStep.tsx"],"sourcesContent":["\n'use client';\n\nimport * as React from 'react';\nimport { usePermitForm } from '../form-context';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Button } from '@/components/ui/button';\nimport { Signature, Trash2, Plus, ChevronDown, Info } from 'lucide-react';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { SignaturePad } from '@/components/ui/signature-pad';\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from '@/components/ui/collapsible';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport type { AutorizacionPersona, ValidacionDiaria, AnexoAltura } from '@/types';\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\n\nconst anexoAlturaEstructuras = [\n  { id: 'escaleraCuerpo', label: 'Escalera de un cuerpo' },\n  { id: 'escaleraDosCuerpos', label: 'Escalera de dos cuerpos o mas' },\n  { id: 'andamioTubular', label: 'Andamio Tubular Certificado' },\n  { id: 'andamioColgante', label: 'Andamio Colgante' },\n  { id: 'plataforma', label: 'Plataforma' },\n  { id: 'manLift', label: 'Man Lift o Camion Canasta' },\n  { id: 'otros', label: 'Otros' },\n];\n\nconst tareasTrabajoAltura = [\n  { \n    id: 'mantenimiento-aires', \n    nombre: 'Mantenimiento de aires', \n    descripcion: 'Realización de mantenimiento, reparación y limpieza de aires acondicionados' \n  },\n  { \n    id: 'cambio-estanterias', \n    nombre: 'Cambio y reparación de estanterías', \n    descripcion: 'Reparación, inspección y cambio de elementos de la estantería' \n  },\n  { \n    id: 'instalacion-luminarias', \n    nombre: 'Instalación y cambio de luminarias', \n    descripcion: 'Reparación y cambio de luminaria' \n  },\n  { \n    id: 'desnidacion-palomas', \n    nombre: 'Des nidación de palomas', \n    descripcion: 'Retiro de nidos generados con palomas' \n  },\n  { \n    id: 'instalacion-carpas', \n    nombre: 'Instalación de carpas', \n    descripcion: 'Instalar carpas (lona) de carpas móviles' \n  },\n  { \n    id: 'modificacion-equipos-oficina', \n    nombre: 'Modificación y adecuación de equipos de oficina', \n    descripcion: 'Cambio de módulos, divisiones de oficina' \n  },\n  { \n    id: 'instalacion-avisos', \n    nombre: 'Instalación de avisos', \n    descripcion: 'Instalar vallas, pendones, avisos' \n  },\n  { \n    id: 'estudios-isocineticos', \n    nombre: 'Estudios isocinéticos', \n    descripcion: 'Instalación y desmonte equipo, en chimenea de caldera' \n  },\n  { id: 'cargue-graneleros', \n    nombre: 'Cargue de graneleros', \n    descripcion: 'Abrir compuertas superiores de graneleros y realizar cargue' \n  },\n  { \n    id: 'mantenimiento-antena', \n    nombre: 'Instalación y mantenimiento de antena de telefonía', \n    descripcion: 'Revisión de antena de telecomunicaciones' \n  },\n  { \n    id: 'impermeabilizacion-cubierta', \n    nombre: 'Impermeabilización de cubierta y limpieza (sobre losa)', \n    descripcion: 'Aplicar impermeabilizante a cubierta' \n  },\n  { \n    id: 'poda-arboles', \n    nombre: 'Poda de árboles (si se encuentra retirado de líneas con tensión)', \n    descripcion: 'Realización de poda de árboles' \n  },\n  { \n    id: 'instalacion-malla', \n    nombre: 'Instalación de malla y/o poli sombra', \n    descripcion: 'Instalación y desmonte de mallas y poli sombra' \n  },\n  { \n    id: 'polarizacion-ventanas', \n    nombre: 'Polarización de ventanas, instalación de cortinas', \n    descripcion: 'Colocar papel polarizado en ventanas e instalación de cortinas' \n  },\n  { \n    id: 'cambio-piezas-equipos', \n    nombre: 'Cambio de piezas y mantenimiento en mástil de montacargas, retroexcavadora, etc.', \n    descripcion: 'Instalación de sensores, luces, cámaras, etc., en los equipos' \n  },\n  { \n    id: 'mantenimiento-camaras', \n    nombre: 'Mantenimiento e instalación de cámaras', \n    descripcion: 'Instalar cámaras de seguridad en puntos de la planta' \n  },\n  { \n    id: 'instalacion-tuberia', \n    nombre: 'Instalación de tubería eléctrica', \n    descripcion: 'Instalar tubería y sondear cableado, instalar soportes de tubería' \n  },\n];\n\nconst anexoAlturaAspectos = [\n    { id: 'afiliacionVigente', label: 'A. EL PERSONAL EJECUTANTE DE LA ACTIVIDAD TIENE LA AFILIACIÓN VIGENTE A SEGURIDAD SOCIAL? '},\n    { id: 'procedimientoActividad', label: 'B. SE CUENTA CON EL PROCEDIMIENTO DE LA ACTIVIDAD A EJECUTAR?' },\n    { id: 'medidasPrevencion', label: 'C. SE HAN DETERMINADO LAS MEDIDAS DE PREVENCIÓN CONTRA CAÍDAS?' },\n    { id: 'conocenMedidas', label: 'D. TODOS LOS EJECUTANTES CONOCEN LAS MEDIDAS DE PRECAUCIÓN ESTABLECIDAS EN LA EVALUACIÓN DE RIESGOS?'},\n    { id: 'entrenadosCertificados', label: 'E. ESTÁN LOS EJECUTANTES ENTRENADOS Y SE ENCUENTRAN LOS CERTIFICADOS EN SITIO PARA REALIZAR   TRABAJOS EN ALTURA?'},\n    { id: 'elementosProteccionCertificados', label: 'F. ESTÁN TODOS LOS ELEMENTOS DE PROTECCIÓN CONTRA CAÍDAS EN BUEN ESTADO E CERTIFICADOS?' },\n    { id: 'sistemaAseguramientoVerificado', label: 'G. SE VERIFICO EL SISTEMA DE ASEGURAMIENTO DE LA ESCALERA , ANDAMIO O PLATAFORMA A UNA ESTRUCTURA FIJA' },\n    { id: 'estadoElementosVerificado', label: 'H. SE VERIFICO EL ESTADO DE: ESLINGAS, ARNES, CASCO, MOSQUETONES, CASCO, Y DEMAS ELEMENTOS NECESARIOS PARA REALIZAR EL TRABAJO.' },\n    { id: 'puntosAnclajeCertificados', label: 'I. LOS PUNTOS DE ANCLAJE Y DEMAS ELEMENTOS CUMPLEN CON LA RESISTENCIA DE 5000 LBS POR PERSONA Y ESTAN CERTIFICADOS?' },\n    { id: 'areaDelimitada', label: 'J. ESTA DELIMITADA Y SEÑALIZADA EL AREA DE TRABAJO' },\n    { id: 'personalSaludable', label: 'K. EL PERSONAL QUE REALIZA EL TRABAJO SE ENCUENTRA EN CONDICIONES ADECUADAS DE SALUD PARA LA ACTIVIDAD?.' },\n    { id: 'equiposAccesoBuenEstado', label: 'L. SE CUENTA CON TODOS LOS EQUIPOS Y SISTEMAS DE ACCESO PARA TRABJO EN ALTURAS EN BUEN ESTADO?' },\n    { id: 'espacioCaidaLibreSuficiente', label: 'M. EL ESPACIO DE CAIDA LIBRE ES SUFICIENTE PARA EVITAR QUE LA PERSONA SE GOLPEE CONTRA EL NIVEL INFERIOR.' },\n    { id: 'equiposEmergenciaDisponibles', label: 'N. SE CUENTA CON ELEMENTOS PARA ATENCION DE EMERGENCIAS EN EL AREA Y PLAN DE EMERGENCIAS PARA RESCATE EN ALTURAS?' },\n    { id: 'eppSeleccionadosCorrectamente', label: 'O. ESTÁN LOS ELEMENTOS DE PROTECCIÓN PERSONAL SELECCIONADOS TENIENDO EN CUENTA LOS RIESGOS Y REQUERIMIENTOS DE LA TAREA?' },\n    { id: 'plataformaSoportaCarga', label: 'P.LA PLATAFORMA O ESTRUCTURA SOPORTA LA CARGA DE TRABAJO, ES FIRME Y SE EVITA LA CAÍDA DE OBJETOS O HERRAMIENTAS?' },\n    { id: 'supervisorConstante', label: 'Q.EXISTE UN SUPERVISOR O ACOMPAÑANTE CONSTASTE DURANTE EL TRABAJO' },\n    { id: 'andamiosCompletos', label: 'R. EN CASO DE TRABAJOS SOBRE ANDAMIOS, ESTOS ESTAN COMPLETOS Y ADECUADAMENTE ARMADOS (RODAPIES, BARANDAS, ETC.)' },\n    { id: 'condicionesClimaticasAdecuadas', label: 'S.LAS CONDICIONES CLIMATICAS SON ADECUADAS PARA REALIZAR EL TRABAJO' },\n    { id: 'metodoSubirHerramientasSeguro', label: 'T.EL METODO DE SUBIR HERRAMIENTAS ES SEGURO' },\n    { id: 'sistemasRestriccion', label: 'U. EN CASO DE REQUERIRSE SE CUENTA CON SISTEMAS DE RESTRICCIÓN' },\n    { id: 'sistemasPosicionamiento', label: 'V. EN CASO DE REQUERIRSE SE CUENTA CON SISTEMAS DE POSICIONAMIENTO' },\n];\n\nconst anexoAlturaPrecauciones = [\n    { id: 'despresurizar', label: 'DESPRESURIZAR' },\n    { id: 'revisarEquipos', label: 'REVISAR EQUIPOS Y HERRAMIENTAS' },\n    { id: 'sistemaContencionDerrames', label: 'SISTEMA CONTENCION DERRAMES' },\n    { id: 'monitoreoAtmosferas', label: 'MONITOREO DE ATMOSFERAS' },\n    { id: 'verificarListaChequeo', label: 'VERIFICAR LISTA DE CHEQUEO' },\n    { id: 'clasificacionResiduos', label: 'CLASIFICACION DE RESIDUOS' },\n    { id: 'aislamientoMecanico', label: 'AISLAMIENTO MECACNICO' },\n    { id: 'aterrizarEquipo', label: 'ATERRIZAR EQUIPO' },\n    { id: 'planIzaje', label: 'PLAN DE IZAJE' },\n    { id: 'aislamientoProceso', label: 'AISLAMIENTO DE PROCESO' },\n    { id: 'instalarLineasVida', label: 'INSTALAR LINEAS DE VIDA ADICIONALES' },\n    { id: 'fichaSeguridad', label: 'FICHA DE SEGURIDAD' },\n    { id: 'aislamientoElectrico', label: 'AISLAMIENTO ELECTRICO' },\n    { id: 'drenar', label: 'DRENAR' },\n    { id: 'cierreRecipientes', label: 'CIERRE DE RECIPIENTES SIN USO' },\n    { id: 'bloqueoEtiquetado', label: 'BLOQUEO Y ETIQUETADO' },\n    { id: 'ventilar', label: 'VENTILAR' },\n    { id: 'usoEppEspeciales', label: 'USO DE EPPS ESPECIALES' },\n    { id: 'etiquetadoProductosQuimicos', label: 'ETIQUETADO PRODUCTOS QUIMICOS' },\n    { id: 'equipoContraIncendio', label: 'EQUIPO CONTRA INCENDIO' },\n    { id: 'requiereVigia', label: 'REQUIERE VIGIA' },\n    { id: 'senalizacion', label: 'SEÑALIZACION' },\n    { id: 'kitDerrames', label: 'KIT DERRAMES' },\n    { id: 'otro', label: 'OTRO, CUAL:' },\n];\n\nconst RadioGroupField = ({ id, label, value, onChange }: { id: string; label: string; value: 'si' | 'no' | 'na'; onChange: (value: 'si' | 'no' | 'na') => void; }) => (\n  <div className=\"flex justify-between items-center p-3 border rounded-md bg-white\">\n      <Label htmlFor={id} className=\"text-sm font-medium flex-1\">{label}</Label>\n      <RadioGroup id={id} value={value || 'na'} onValueChange={onChange} className=\"flex gap-4\">\n          <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"si\" id={`${id}-si`} /><Label htmlFor={`${id}-si`}>SI</Label></div>\n          <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"no\" id={`${id}-no`} /><Label htmlFor={`${id}-no`}>NO</Label></div>\n          <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"na\" id={`${id}-na`} /><Label htmlFor={`${id}-na`}>N/A</Label></div>\n      </RadioGroup>\n  </div>\n);\n\nconst SectionWrapper: React.FC<{ title: string; children: React.ReactNode; defaultOpen?: boolean }> = ({ title, children, defaultOpen = false }) => (\n    <Collapsible defaultOpen={defaultOpen}>\n      <CollapsibleTrigger asChild>\n        <Button variant=\"ghost\" className=\"w-full justify-between p-3 bg-gray-100 rounded-lg cursor-pointer border\">\n          <h3 className=\"text-lg font-bold text-gray-700\">{title}</h3>\n          <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n        </Button>\n      </CollapsibleTrigger>\n      <CollapsibleContent className=\"p-4 border-l border-r border-b rounded-b-lg\">\n        {children}\n      </CollapsibleContent>\n    </Collapsible>\n);\n\nexport function AnexoAlturaStep() {\n  const { state, dispatch } = usePermitForm();\n  const { generalInfo, anexoAltura } = state;\n  const isSSTRequired = anexoAltura.tareaRealizar?.id === 'otro';\n\n  const handleUpdate = (payload: Partial<AnexoAltura>) => {\n    dispatch({ type: 'UPDATE_ANEXO_ALTURA', payload });\n  };\n\n  const handleNestedChange = (section: keyof AnexoAltura, field: string, value: any) => {\n    const currentSection = (anexoAltura as any)[section] || {};\n    handleUpdate({ [section]: { ...currentSection, [field]: value } });\n  };\n  \n  React.useEffect(() => {\n    dispatch({ type: 'SET_SST_REQUIRED', payload: isSSTRequired });\n  }, [isSSTRequired, dispatch]);\n\n  // Handler para el cambio de tarea\n  const handleTareaChange = (tareaId: string) => {\n    if (tareaId === 'otro') {\n      handleUpdate({ \n        tareaRealizar: {\n          id: 'otro',\n          nombre: '',\n          descripcion: ''\n        }\n      });\n    } else {\n      const tareaSeleccionada = tareasTrabajoAltura.find(t => t.id === tareaId);\n      if (tareaSeleccionada) {\n        handleUpdate({ \n          tareaRealizar: {\n            id: tareaSeleccionada.id,\n            nombre: tareaSeleccionada.nombre,\n            descripcion: tareaSeleccionada.descripcion\n          }\n        });\n      }\n    }\n  };\n\n  // Obtener la descripción de la tarea seleccionada\n  const getDescripcionTarea = () => {\n    if (!anexoAltura.tareaRealizar?.id) return '';\n    if (anexoAltura.tareaRealizar.id === 'otro') {\n      return anexoAltura.tareaRealizar.descripcion || '';\n    }\n    const tarea = tareasTrabajoAltura.find(t => t.id === anexoAltura.tareaRealizar?.id);\n    return tarea?.descripcion || '';\n  };\n\n  return (\n    <>\n    <div className=\"space-y-8\">\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">\n          Anexo de Trabajo en Alturas\n        </h2>\n        <p className=\"text-muted-foreground text-sm\">\n          Complete la información requerida para trabajos en alturas.\n        </p>\n      </div>\n      \n      <SectionWrapper title=\"Información General del Anexo\" defaultOpen>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div><Label>Emitido por:</Label><Input value={generalInfo.nombreSolicitante || ''} readOnly disabled /></div>\n            <div><Label>Área de Trabajo:</Label><Input value={generalInfo.areaEspecifica || ''} readOnly disabled /></div>\n            <div><Label>Equipo o Área Específica:</Label><Input value={generalInfo.proceso || ''} readOnly disabled /></div>\n        </div>\n        \n        {/* Nueva Sección: Tarea a Realizar */}\n        <div className=\"mt-4 space-y-4\">\n          <div>\n            <Label className=\"after:content-['*'] after:ml-0.5 after:text-red-500\">\n              Tarea a Realizar:\n            </Label>\n            <Select \n              value={anexoAltura.tareaRealizar?.id || ''} \n              onValueChange={handleTareaChange}\n            >\n              <SelectTrigger>\n                <SelectValue placeholder=\"Seleccione la tarea a realizar\" />\n              </SelectTrigger>\n              <SelectContent>\n                {tareasTrabajoAltura.map(tarea => (\n                  <SelectItem key={tarea.id} value={tarea.id}>\n                    {tarea.nombre}\n                  </SelectItem>\n                ))}\n                <SelectItem value=\"otro\">Otro (especificar)</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Mostrar descripción de la tarea seleccionada */}\n          {anexoAltura.tareaRealizar?.id && anexoAltura.tareaRealizar.id !== 'otro' && (\n            <div className=\"p-3 bg-blue-50 border border-blue-200 rounded-md\">\n              <Label className=\"text-sm font-semibold text-blue-900\">Descripción de la Tarea:</Label>\n              <p className=\"text-sm text-blue-800 mt-1\">{getDescripcionTarea()}</p>\n            </div>\n          )}\n\n          {/* Campos adicionales si selecciona \"Otro\" */}\n          {anexoAltura.tareaRealizar?.id === 'otro' && (\n            <div className=\"space-y-4 p-4 border border-amber-200 rounded-md bg-amber-50\">\n              <div>\n                <Label className=\"after:content-['*'] after:ml-0.5 after:text-red-500\">\n                  Nombre de la Actividad:\n                </Label>\n                <Input \n                  placeholder=\"Ingrese el nombre de la actividad\" \n                  value={anexoAltura.tareaRealizar?.nombre || ''} \n                  onChange={(e) => handleUpdate({ \n                    tareaRealizar: {\n                      ...anexoAltura.tareaRealizar,\n                      id: 'otro',\n                      nombre: e.target.value,\n                      descripcion: anexoAltura.tareaRealizar?.descripcion || ''\n                    }\n                  })}\n                  required\n                />\n              </div>\n              <div>\n                <Label className=\"after:content-['*'] after:ml-0.5 after:text-red-500\">\n                  Descripción de la Actividad:\n                </Label>\n                <Textarea \n                  placeholder=\"Ingrese la descripción de la actividad\" \n                  value={anexoAltura.tareaRealizar?.descripcion || ''} \n                  onChange={(e) => handleUpdate({ \n                    tareaRealizar: {\n                      ...anexoAltura.tareaRealizar,\n                      id: 'otro',\n                      nombre: anexoAltura.tareaRealizar?.nombre || '',\n                      descripcion: e.target.value\n                    }\n                  })}\n                  rows={3}\n                  required\n                />\n              </div>\n               <Alert variant=\"destructive\" className=\"bg-red-50 border-red-200 text-red-800\">\n                  <Info className=\"h-4 w-4 text-red-800\" />\n                  <AlertTitle className=\"font-semibold\">Firma SST Requerida</AlertTitle>\n                  <AlertDescription className=\"text-xs\">\n                    Al seleccionar \"Otro\", este permiso requerirá obligatoriamente la firma de un Líder SST para su aprobación.\n                  </AlertDescription>\n                </Alert>\n                {state.isSSTSignatureRequired !== undefined && (\n                 <Input \n                    type=\"hidden\" \n                    readOnly \n                    value={state.isSSTSignatureRequired.toString()}\n                 />\n                )}\n            </div>\n          )}\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\n            <div><Label>Responsable (Nombre):</Label><Input value={generalInfo.responsable?.nombre || ''} readOnly disabled /></div>\n            <div><Label>Cargo:</Label><Input value={generalInfo.responsable?.cargo || ''} readOnly disabled /></div>\n            <div><Label>Compañía:</Label><Input value={generalInfo.responsable?.compania || ''} readOnly disabled /></div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n            <div><Label>En caso de emergencia contactar a:</Label><Input value={anexoAltura.emergencia?.contacto || ''} onChange={(e) => handleNestedChange('emergencia', 'contacto', e.target.value)} /></div>\n            <div><Label>Teléfono:</Label><Input value={anexoAltura.emergencia?.telefono || ''} onChange={(e) => handleNestedChange('emergencia', 'telefono', e.target.value)} /></div>\n        </div>\n        <div className=\"mt-4\">\n            <Label>Altura aproximada a la cual se va a desarrollar la actividad (Indicar en metros)</Label>\n            <Input type=\"number\" value={anexoAltura.alturaAproximada || ''} onChange={(e) => handleUpdate({ alturaAproximada: e.target.value })} />\n        </div>\n      </SectionWrapper>\n      \n      <SectionWrapper title=\"Identificación de Peligros y Aspectos para Trabajo en Alturas\">\n        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n            {anexoAlturaEstructuras.map(item => (\n                <div key={item.id} className=\"flex items-center space-x-2\">\n                    <Checkbox \n                      id={`struct-${item.id}`} \n                      checked={!!anexoAltura.tipoEstructura?.[item.id]} \n                      onCheckedChange={(checked) => handleNestedChange('tipoEstructura', item.id, !!checked)} \n                    />\n                    <Label htmlFor={`struct-${item.id}`}>{item.label}</Label>\n                </div>\n            ))}\n        </div>\n        {anexoAltura.tipoEstructura?.otros && (\n            <Input \n              placeholder=\"Especifique otros\" \n              value={anexoAltura.tipoEstructura.otrosCual || ''} \n              onChange={(e) => handleNestedChange('tipoEstructura', 'otrosCual', e.target.value)} \n              className=\"mt-4\" \n            />\n        )}\n      </SectionWrapper>\n\n      <SectionWrapper title=\"Aspectos de Seguridad para Trabajo en Alturas\">\n        <div className=\"space-y-3\">\n            {anexoAlturaAspectos.map(item => (\n                <RadioGroupField \n                  key={item.id} \n                  id={`aspecto-${item.id}`} \n                  label={item.label} \n                  value={anexoAltura.aspectosSeguridad?.[item.id] || 'na'} \n                  onChange={(value) => handleNestedChange('aspectosSeguridad', item.id, value)} \n                />\n            ))}\n        </div>\n      </SectionWrapper>\n\n      <SectionWrapper title=\"Precauciones y Controles Específicos\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n             {anexoAlturaPrecauciones.map(item => (\n                <RadioGroupField \n                  key={item.id} \n                  id={`precaucion-${item.id}`} \n                  label={item.label} \n                  value={anexoAltura.precauciones?.[item.id] || 'na'} \n                  onChange={(value) => handleNestedChange('precauciones', item.id, value)} \n                />\n            ))}\n        </div>\n         {anexoAltura.precauciones?.otro === 'si' && (\n            <Input \n              placeholder=\"Especifique otra precaución\" \n              value={anexoAltura.precauciones.otroCual || ''} \n              onChange={(e) => handleNestedChange('precauciones', 'otroCual', e.target.value)} \n              className=\"mt-4\" \n            />\n        )}\n      </SectionWrapper>\n      \n       <SectionWrapper title=\"Afectaciones\">\n        <div className=\"space-y-4\">\n            <RadioGroupField \n              id=\"afect-riesgo-otras\" \n              label=\"¿Este trabajo produce riesgos para otros trabajos en áreas adyacentes?\" \n              value={anexoAltura.afectaciones?.riesgoOtrasAreas || 'na'} \n              onChange={(value) => handleNestedChange('afectaciones', 'riesgoOtrasAreas', value)} \n            />\n            <RadioGroupField \n              id=\"afect-otras-riesgo\" \n              label=\"¿Los otros trabajos en áreas adyacentes producen riesgo a este trabajo?\" \n              value={anexoAltura.afectaciones?.otrasAreasRiesgo || 'na'} \n              onChange={(value) => handleNestedChange('afectaciones', 'otrasAreasRiesgo', value)} \n            />\n            <RadioGroupField \n              id=\"afect-personal-notificado\" \n              label=\"¿El personal del área potencialmente afectado y los trabajadores fueron notificados del trabajo a realizar?\" \n              value={anexoAltura.afectaciones?.personalNotificado || 'na'} \n              onChange={(value) => handleNestedChange('afectaciones', 'personalNotificado', value)} \n            />\n            <div>\n              <Label className=\"after:content-['*'] after:ml-0.5 after:text-red-500\">Observaciones:</Label>\n              <Textarea \n                value={anexoAltura.afectaciones?.observaciones || ''} \n                onChange={(e) => handleNestedChange('afectaciones', 'observaciones', e.target.value)} \n              />\n            </div>\n        </div>\n       </SectionWrapper>\n    </div>\n  </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4240, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/AnexoConfinadoStep.tsx"],"sourcesContent":["\n'use client';\n\nimport * as React from 'react';\nimport { usePermitForm } from '../form-context';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Button } from '@/components/ui/button';\nimport { Signature, Trash2, Plus, ChevronDown } from 'lucide-react';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { SignaturePad } from '@/components/ui/signature-pad';\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from '@/components/ui/collapsible';\n\nconst identificacionPeligros = [\n  { id: 'fuentesEnergiaAisladas', label: 'A. ESTAN LAS FUENTES DE ENERGIA (ELECTRICA, MECANICA, HIDRAULICA, TERMICA NEUMATICA) AISLADAS' },\n  { id: 'ejecutantesConocenMedidas', label: 'B. TODOS LOS EJECUTANTES CONOCEN LAS MEDIDAS DE PRECAUCIÓN ESTABLECIDAS EN LA EVALUACIÓN DE RIESGOS?' },\n  { id: 'ejecutantesEntrenados', label: 'C. ESTÁN LOS EJECUTANTES ENTRENADOS' },\n  { id: 'entradasSalidasFlujoBloqueadas', label: 'D. ESTAN BLOQUEADAS LAS ENTRADAS Y SALIDAS DE FLUJO - SE INSTALARON AISLAMIENTOS (COLOMBINAS, CIEGOS)' },\n  { id: 'areaDelimitada', label: 'E. ESTA DELIMITADA Y SEÑALIZADA EL AREA DE TRABAJO PARA PREVENIR EL INGRESO AL ESPACIO CONFINADO DE PERSONAL NO AUTORIZADO O AJENO A LA ACTIVIDAD' },\n  { id: 'monitorAtmosferasCalibrado', label: 'F. SE TIENE EN SITIO UN MONITOR DE ATMOSFERAS PELIGROSAS, CALIBRADO' },\n  { id: 'equiposIluminacionExplosion', label: 'G. SON A PRUEBA DE EXPLOSION LOS EQUIPOS DE ILUMINACION, Y LAS CONEXIONES DE LOS EQUIPOS' },\n  { id: 'equiposVentilacionExplosion', label: 'H. SON A PRUEBA DE EXPLOSION LOS EQUIPOS DE VENTILACION O SUMINISTRO DE AIRE FORZADO Y SUS CONEXIONES' },\n  { id: 'medidasSeguridadEquiposNoExplosion', label: 'I. EN CASO DE QUE LOS EQUIPOS NO SEAN A PRUEBA DE EXPLOSION SE SE TOMARON LAS MEDIDAS DE SEGURUDAD NECESARIA PARA EVITAR RIESGOS' },\n  { id: 'equiposVentilacionSuficientes', label: 'J. LOS EQUIPOS DE VENTILACION ESTAN DISPONIBLES Y SON SUFICIENTES' },\n  { id: 'chequeoVentilacionMecanica', label: 'CHEQUEO DE VENTILACION MECANICA' },\n  { id: 'chequeoVentilacionNatural', label: 'CHEQUEO DE VENTILACION (SOLO NATURAL)' },\n  { id: 'equiposRespiracionAutonoma', label: 'K. ESTAN DISPONIBLES EN EL SITIO EQUIPOS DE RESPIRACION AUTONOMA (AUTOCONTENIDO) EN CASO DE EMERGENCIA' },\n  { id: 'elementosAtencionEmergencias', label: 'L. SE CUENTA CON ELEMENTOS PARA ATENCION DE EMERGENCIAS EN EL AREA' },\n  { id: 'planEmergenciaRescate', label: 'M. SE CUENTA CON PLAN DE EMERGENCIA PARA RESCATE' },\n  { id: 'hojasSeguridadDisponibles', label: 'N. ESTAN DISPONIBLES LAS HOJAS DE SEGURIDAD DE PRODUCTOS QUIMICOS EN CASO DE USARSE.' },\n  { id: 'verificadoConexionesPuestaTierra', label: 'Ñ.SE HA VERIFICADO EL ESTADO DE CONEXIONES Y PUESTA A TIERRA DE EQUIPOS Y ELEMENTOS A USAR.' },\n  { id: 'vigiaPermanente', label: 'O.SE VERIFICA QUE PARA EL INGRESO A ESPACIOS CONFIANDOS SE CUENTE CON UN VIGIA PERMANENTE EN EL AREA' },\n  { id: 'herramientasAdecuadas', label: 'P. SE VERIFICO QUE LAS HERRAMIENTAS MANUALES Y OTROS ELEMENTOS SEAN LOS ADECUADOS PARA LAS CONDICIONES Y ATMOSFERAS DEL LUGAR' },\n  { id: 'personalSaludable', label: 'Q.EL PERSONAL QUE REALIZA EL TRABAJO SE ENCUENTRA EN CONDICIONES ADECUADAS DE SALUD PARA LA ACTIVIDAD' },\n  { id: 'verificadoEpp', label: 'R.SE VERIFICO EL EQUIPO Y ELEMENTOS DE PROTECCION PERSONAL A UTILIZAR' },\n  { id: 'circunstanciaModificadora', label: 'S.EXISTE ALGUNA CIRCUSTANCIA O FACTOR QUE PUEDA MODIFICAR EL TRABAJO' },\n  { id: 'equiposIntrinsecamenteSeguros', label: 'SE HA VERIFICADO QUE LOS EQUIPOS A USARSE SON INTRINSICAMENTE SEGUROS' },\n  { id: 'procedimientoComunicacion', label: 'SE CUENTA CON PROCEDMIENTO DE COMUNICACIÓN CUAL ?' }\n];\n\nconst peligroSections: { title: string, items: string[] }[] = [\n    { title: \"Aislamiento y Preparación del Área\", items: ['fuentesEnergiaAisladas', 'entradasSalidasFlujoBloqueadas', 'areaDelimitada'] },\n    { title: \"Personal y Entrenamiento\", items: ['ejecutantesConocenMedidas', 'ejecutantesEntrenados', 'personalSaludable', 'vigiaPermanente'] },\n    { title: \"Equipos y Monitoreo\", items: ['monitorAtmosferasCalibrado', 'equiposIluminacionExplosion', 'equiposVentilacionExplosion', 'medidasSeguridadEquiposNoExplosion', 'equiposVentilacionSuficientes', 'chequeoVentilacionMecanica', 'chequeoVentilacionNatural', 'equiposIntrinsecamenteSeguros'] },\n    { title: \"Emergencias y Rescate\", items: ['equiposRespiracionAutonoma', 'elementosAtencionEmergencias', 'planEmergenciaRescate'] },\n    { title: \"Materiales y Herramientas\", items: ['hojasSeguridadDisponibles', 'verificadoConexionesPuestaTierra', 'herramientasAdecuadas', 'verificadoEpp'] },\n    { title: \"Condiciones Adicionales\", items: ['circunstanciaModificadora', 'procedimientoComunicacion'] }\n];\n\nconst precaucionesControles = [\n    { id: 'despresurizar', label: 'DESPRESURIZAR' },\n    { id: 'revisarEquipos', label: 'REVISAR EQUIPOS Y HERRAMIENTAS' },\n    { id: 'monitoreoAtmosferas', label: 'MONITOREO DE ATMOSFERAS' },\n    { id: 'drenarVentilar', label: 'DRENAR Y VENTILAR' },\n    { id: 'aislamientoEnergias', label: 'AISLAMIENTO DE ENERGIAS' },\n    { id: 'aterrizarEquipo', label: 'ATERRIZAR EQUIPO' },\n    { id: 'equipoContraIncendio', label: 'EQUIPO CONTRA INCENDIO' },\n    { id: 'instalarLineasVida', label: 'INSTALAR LINEAS DE VIDA ADICIONALES' },\n    { id: 'usoEppsEspeciales', label: 'USO DE EPPS ESPECIALES' },\n    { id: 'hojaSeguridadMsds', label: 'HOJA DE SEGURIDAD MSDS' },\n    { id: 'bloqueoEtiquetado', label: 'BLOQUEO Y ETIQUETADO' },\n    { id: 'requiereVigia', label: 'REQUIERE VIGIA' },\n    { id: 'etiquetadoProductosQuimicos', label: 'ETIQUETADO PRODUCTOS QUIMICOS' },\n    { id: 'clasificacionResiduos', label: 'CLASIFICACION DE RESIDUOS' },\n    { id: 'senalizacion', label: 'SEÑALIZACION' },\n    { id: 'sistemaContencionDerrames', label: 'SISTEMA DE CONTENCION DE DERRAMES' }\n];\n\nconst requerimientosEquipos = [\n    { id: 'arnesLineasVida', label: 'ARNES DE SEGURIDAD, LINEAS DE VIDA PARA PERSONAS QUE INGRESAN Y SALEN' },\n    { id: 'equiposIzar', label: 'EQUIPOS PARA IZAR (CUERDAS, CABLES, ETC)' },\n    { id: 'equiposComunicaciones', label: 'EQUIPOS DE COMUNICACIONES' },\n    { id: 'equiposAutonomos', label: 'EQUIPOS AUTONOMOS PARA PERSONAS DE ENTRADA Y SALIDA' },\n    { id: 'extintores', label: 'EXTINTORES' },\n    { id: 'ropaDotacionEspecial', label: 'ROPA Y DOTACION ESPECIAL DE PROTECCION' },\n    { id: 'bloqueosAislamientos', label: 'BLOQUEOS / AISLAMIENTOS /SALIDA ' },\n    { id: 'lineasElectricasChequeadas', label: 'LÍNEAS ELÉCTRICAS: EXPUESTAS, OCULTAS ESTÁN CHEQUEADAS' },\n    { id: 'areaSegura', label: 'AREA SEGURA' },\n    { id: 'personalSeguridadCierre', label: 'PRESONAL DE SEGURIDAD DE CIERRE?' },\n    { id: 'equipoRecuperacionEmergencia', label: 'EQUIPO DE RECUPERACION DE EMERGENCIA' },\n    { id: 'iluminacionEquiposExplosion', label: 'ILUMINACION Y EQUIPOS A PRUEBA DE EXPLOSION' }\n];\n\nconst RadioGroupField = ({ id, label, value, onChange }: { id: string; label: string; value: 'si' | 'no' | 'na'; onChange: (value: 'si' | 'no' | 'na') => void; }) => (\n    <div className=\"flex justify-between items-center p-3 border rounded-md bg-white\">\n        <Label htmlFor={id} className=\"text-sm font-medium flex-1\">{label}</Label>\n        <RadioGroup id={id} value={value || 'na'} onValueChange={onChange} className=\"flex gap-4\">\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"si\" id={`${id}-si`} /><Label htmlFor={`${id}-si`}>SI</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"no\" id={`${id}-no`} /><Label htmlFor={`${id}-no`}>NO</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"na\" id={`${id}-na`} /><Label htmlFor={`${id}-na`}>N/A</Label></div>\n        </RadioGroup>\n    </div>\n);\n\nexport function AnexoConfinadoStep() {\n  const { state, dispatch } = usePermitForm();\n  const { generalInfo, anexoConfinado } = state;\n  \n  // Estado controlado para TODAS las secciones principales\n  const [openSections, setOpenSections] = React.useState<Record<string, boolean>>({\n    informacionGeneral: true,    // Información General abierta por defecto\n    identificacionPeligros: false,\n    precaucionesControles: false,\n    resultadosPruebas: false,\n    requerimientosEquipos: false,\n    pruebasPeriodicas: false,\n    autorizaciones: false,\n    // También para las subcategorías de peligros\n    ...Object.fromEntries(peligroSections.map(section => [section.title, false]))\n  });\n  \n  const [isSignatureDialogOpen, setIsSignatureDialogOpen] = React.useState(false);\n  const [signingTarget, setSigningTarget] = React.useState<{ section: string; field: string; index?: number } | null>(null);\n\n  const toggleSection = (sectionId: string) => {\n    setOpenSections(prev => ({\n      ...prev,\n      [sectionId]: !prev[sectionId]\n    }));\n  };\n\n  // Función principal para actualizar campos del anexo\n  const handleFieldChange = (field: string, value: any) => {\n    dispatch({\n      type: 'UPDATE_ANEXO_CONFINADO',\n      payload: { [field]: value }\n    });\n  };\n\n  // Función para campos anidados (ej: emergencia.contacto)\n  const handleNestedFieldChange = (section: string, field: string, value: any) => {\n    const currentSection = (anexoConfinado as any)[section] || {};\n    handleFieldChange(section, {\n      ...currentSection,\n      [field]: value\n    });\n  };\n\n  // Función para campos anidados profundos (ej: cierre.autoridad.nombre)\n  const handleDeepNestedChange = (section: string, subSection: string, field: string, value: any) => {\n    const currentSection = (anexoConfinado as any)[section] || {};\n    const currentSubSection = currentSection[subSection] || {};\n    \n    handleFieldChange(section, {\n      ...currentSection,\n      [subSection]: {\n        ...currentSubSection,\n        [field]: value\n      }\n    });\n  };\n\n  // Función para listas (ej: validacion.autoridad[index])\n  const handleListChange = (section: string, listName: string, index: number, field: string, value: any) => {\n    const currentSection = (anexoConfinado as any)[section] || {};\n    const currentList = [...(currentSection[listName] || [])];\n    \n    // Asegurar que el índice existe\n    while (currentList.length <= index) {\n      if (listName === 'pruebas') {\n        currentList.push({ \n          id: `prueba-${Date.now()}-${currentList.length}`, \n          hora: '', \n          lel: '', \n          o2: '', \n          h2s: '', \n          co: '', \n          firma: '' \n        });\n      } else {\n        currentList.push({ \n          dia: currentList.length + 1, \n          nombre: '', \n          firma: '', \n          fecha: '' \n        });\n      }\n    }\n    \n    currentList[index] = { ...currentList[index], [field]: value };\n    \n    handleFieldChange(section, {\n      ...currentSection,\n      [listName]: currentList\n    });\n  };\n\n  // Función para agregar elementos a listas\n  const addToList = (section: string, listName: string, defaultItem: any) => {\n    const currentSection = (anexoConfinado as any)[section] || {};\n    const currentList = [...(currentSection[listName] || [])];\n    \n    if (listName === 'pruebas' && currentList.length >= 4) {\n      return; // Límite de 4 pruebas\n    }\n    \n    currentList.push(defaultItem);\n    handleFieldChange(section, {\n      ...currentSection,\n      [listName]: currentList\n    });\n  };\n\n  // Función para remover elementos de listas\n  const removeFromList = (section: string, listName: string, index: number) => {\n    const currentSection = (anexoConfinado as any)[section] || {};\n    const currentList = (currentSection[listName] || []).filter((_: any, i: number) => i !== index);\n    handleFieldChange(section, {\n      ...currentSection,\n      [listName]: currentList\n    });\n  };\n\n  const openSignatureDialog = (section: string, field: string, index?: number) => {\n    setSigningTarget({ section, field, index });\n    setIsSignatureDialogOpen(true);\n  };\n\n  const handleSaveSignature = (signature: string) => {\n    if (!signingTarget) return;\n    const { section, field, index } = signingTarget;\n\n    if (index !== undefined) {\n      // Para listas como validacion.autoridad[0].firma o pruebasGasesPeriodicas.pruebas[0].firma\n      handleListChange(section, field, index, 'firma', signature);\n    } else if (section.includes('.')) {\n      // Para campos anidados profundos como cierre.autoridad.firma\n      const [mainSection, subSection] = section.split('.');\n      handleDeepNestedChange(mainSection, subSection, 'firma', signature);\n    } else {\n      // Para campos directos como resultadosPruebasGases.firmaQuienRealiza\n      handleNestedFieldChange(section, 'firmaQuienRealiza', signature);\n    }\n\n    setIsSignatureDialogOpen(false);\n    setSigningTarget(null);\n  };\n\n  // SectionWrapper con estado controlado\n  const SectionWrapper: React.FC<{ title: string; children: React.ReactNode; sectionId: string }> = ({ title, children, sectionId }) => (\n    <Collapsible open={openSections[sectionId]} onOpenChange={() => toggleSection(sectionId)}>\n      <CollapsibleTrigger asChild>\n        <Button variant=\"ghost\" className=\"w-full justify-between p-3 bg-gray-100 rounded-lg cursor-pointer border\">\n          <h3 className=\"text-lg font-bold text-gray-700\">{title}</h3>\n          <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n        </Button>\n      </CollapsibleTrigger>\n      <CollapsibleContent className=\"p-4 border-l border-r border-b rounded-b-lg\">\n        {children}\n      </CollapsibleContent>\n    </Collapsible>\n  );\n\n  return (\n    <>\n    <div className=\"space-y-8\">\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">\n          Anexo de Espacios Confinados\n        </h2>\n        <p className=\"text-muted-foreground text-sm\">\n          Complete la información requerida para trabajos en espacios confinados.\n        </p>\n      </div>\n\n      <SectionWrapper title=\"Información General del Anexo\" sectionId=\"informacionGeneral\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div><Label>Emitido por:</Label><Input value={generalInfo.nombreSolicitante || ''} readOnly disabled /></div>\n          <div><Label>Área de Trabajo:</Label><Input value={generalInfo.areaEspecifica || ''} readOnly disabled /></div>\n          <div><Label>Equipo o Área Específica:</Label><Input value={generalInfo.proceso || ''} readOnly disabled /></div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\n            <div><Label>Responsable (Nombre):</Label><Input value={generalInfo.responsable?.nombre || ''} readOnly disabled /></div>\n            <div><Label>Cargo:</Label><Input value={generalInfo.responsable?.cargo || ''} readOnly disabled /></div>\n            <div><Label>Compañía:</Label><Input value={generalInfo.responsable?.compania || ''} readOnly disabled /></div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n          <div>\n            <Label>En caso de emergencia contactar a:</Label>\n            <Input \n              value={anexoConfinado?.emergencia?.contacto || ''} \n              onChange={(e) => handleNestedFieldChange('emergencia', 'contacto', e.target.value)} \n            />\n          </div>\n          <div>\n            <Label>Teléfono:</Label>\n            <Input \n              value={anexoConfinado?.emergencia?.telefono || ''} \n              onChange={(e) => handleNestedFieldChange('emergencia', 'telefono', e.target.value)} \n            />\n          </div>\n        </div>\n      </SectionWrapper>\n\n      <SectionWrapper title=\"Identificación de Peligros y Aspectos\" sectionId=\"identificacionPeligros\">\n        <div className=\"space-y-2\">\n            {peligroSections.map((section) => (\n                <Collapsible key={section.title} open={openSections[section.title]} onOpenChange={() => toggleSection(section.title)}>\n                    <CollapsibleTrigger asChild>\n                        <Button variant=\"ghost\" className=\"w-full justify-between p-4 border rounded-lg\">\n                            <span className=\"font-semibold text-gray-700\">{section.title}</span>\n                            <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n                        </Button>\n                    </CollapsibleTrigger>\n                    <CollapsibleContent className=\"p-4 border border-t-0 rounded-b-lg space-y-3\">\n                        {section.items.map(itemId => {\n                            const item = identificacionPeligros.find(p => p.id === itemId);\n                            if (!item) return null;\n                            return (\n                                <div key={item.id} className=\"space-y-2\">\n                                    <RadioGroupField\n                                        id={`peligro-${item.id}`}\n                                        label={item.label}\n                                        value={anexoConfinado?.identificacionPeligros?.[item.id] || 'na'}\n                                        onChange={(value) => handleNestedFieldChange('identificacionPeligros', item.id, value)}\n                                    />\n                                    {item.id === 'procedimientoComunicacion' && anexoConfinado?.identificacionPeligros?.procedimientoComunicacion === 'si' && (\n                                        <Input\n                                            className=\"ml-8 w-[calc(100%-2rem)]\"\n                                            placeholder=\"Cuál procedimiento de comunicación?\"\n                                            value={anexoConfinado?.procedimientoComunicacionCual || ''}\n                                            onChange={(e) => handleFieldChange('procedimientoComunicacionCual', e.target.value)}\n                                        />\n                                    )}\n                                </div>\n                            );\n                        })}\n                    </CollapsibleContent>\n                </Collapsible>\n            ))}\n        </div>\n      </SectionWrapper>\n      \n      <SectionWrapper title=\"Precauciones y Controles Específicos\" sectionId=\"precaucionesControles\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {precaucionesControles.map(item => (\n                <RadioGroupField \n                  key={item.id} \n                  id={`precaucion-${item.id}`} \n                  label={item.label} \n                  value={anexoConfinado?.precauciones?.[item.id] || 'na'} \n                  onChange={(value) => handleNestedFieldChange('precauciones', item.id, value)} \n                />\n            ))}\n        </div>\n      </SectionWrapper>\n      \n      <SectionWrapper title=\"Resultados de Pruebas de Gases\" sectionId=\"resultadosPruebas\">\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 items-end\">\n            <div>\n              <Label>LEL (0%)</Label>\n              <Input \n                value={anexoConfinado?.resultadosPruebasGases?.lel || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'lel', e.target.value)} \n              />\n            </div>\n            <div>\n              <Label>O2 (19.5-22%)</Label>\n              <Input \n                value={anexoConfinado?.resultadosPruebasGases?.o2 || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'o2', e.target.value)} \n              />\n            </div>\n            <div>\n              <Label>H2S (0-10 PPM)</Label>\n              <Input \n                value={anexoConfinado?.resultadosPruebasGases?.h2s || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'h2s', e.target.value)} \n              />\n            </div>\n            <div>\n              <Label>CO (0-25 PPM)</Label>\n              <Input \n                value={anexoConfinado?.resultadosPruebasGases?.co || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'co', e.target.value)} \n              />\n            </div>\n            <div className=\"col-span-2\">\n              <Label>Otros</Label>\n              <Input \n                value={anexoConfinado?.resultadosPruebasGases?.otros || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'otros', e.target.value)} \n              />\n            </div>\n            <div>\n              <Label>Serial Monitor</Label>\n              <Input \n                value={anexoConfinado?.resultadosPruebasGases?.serialMonitor || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'serialMonitor', e.target.value)} \n              />\n            </div>\n            <div>\n              <Label>Hora Prueba</Label>\n              <Input \n                type=\"time\" \n                value={anexoConfinado?.resultadosPruebasGases?.horaPrueba || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'horaPrueba', e.target.value)} \n              />\n            </div>\n            <div className=\"col-span-full\">\n              <Label>Nombre de quien realiza</Label>\n              <Input \n                value={anexoConfinado?.resultadosPruebasGases?.nombreQuienRealiza || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'nombreQuienRealiza', e.target.value)} \n              />\n            </div>\n            <div className=\"col-span-full\">\n                <Button \n                  variant=\"outline\" \n                  className=\"w-full\" \n                  onClick={() => openSignatureDialog('resultadosPruebasGases', 'firmaQuienRealiza')}\n                >\n                  <Signature className=\"mr-2\"/>Firmar\n                </Button>\n                {anexoConfinado?.resultadosPruebasGases?.firmaQuienRealiza && (\n                  <img \n                    src={anexoConfinado.resultadosPruebasGases.firmaQuienRealiza} \n                    alt=\"Firma\" \n                    className=\"mt-2 border rounded-md max-h-20\" \n                  />\n                )}\n            </div>\n        </div>\n      </SectionWrapper>\n      \n       <SectionWrapper title=\"Requerimientos y Equipos Revisados\" sectionId=\"requerimientosEquipos\">\n         <div className=\"space-y-4\">\n           {requerimientosEquipos.map(item => (\n              <RadioGroupField \n                key={item.id} \n                id={`req-${item.id}`} \n                label={item.label} \n                value={anexoConfinado?.requerimientosEquipos?.[item.id] || 'na'} \n                onChange={(value) => handleNestedFieldChange('requerimientosEquipos', item.id, value)} \n              />\n           ))}\n         </div>\n         <div className='mt-4'>\n            <Label>Las pruebas de gases se deben realizar cada:</Label>\n            <Input \n              value={anexoConfinado?.pruebasGasesPeriodicas?.intervalo || ''} \n              onChange={e => handleNestedFieldChange('pruebasGasesPeriodicas', 'intervalo', e.target.value)} \n              placeholder=\"Ej: 30 minutos\"\n            />\n         </div>\n       </SectionWrapper>\n\n      <SectionWrapper title=\"Pruebas de Gases Periódicas Requeridas\" sectionId=\"pruebasPeriodicas\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n             <div>\n               <Label>Prueba realizada por:</Label>\n               <Input \n                 value={anexoConfinado?.pruebasGasesPeriodicas?.pruebaRealizadaPor || ''} \n                 onChange={e => handleNestedFieldChange('pruebasGasesPeriodicas', 'pruebaRealizadaPor', e.target.value)} \n               />\n             </div>\n             <div>\n               <Label>Serial Monitor:</Label>\n               <Input \n                 value={anexoConfinado?.pruebasGasesPeriodicas?.serialMonitor || ''} \n                 onChange={e => handleNestedFieldChange('pruebasGasesPeriodicas', 'serialMonitor', e.target.value)} \n               />\n             </div>\n             <div>\n               <Label>Marca:</Label>\n               <Input \n                 value={anexoConfinado?.pruebasGasesPeriodicas?.marca || ''} \n                 onChange={e => handleNestedFieldChange('pruebasGasesPeriodicas', 'marca', e.target.value)} \n               />\n             </div>\n             <div>\n               <Label>Fecha y Hora Calibración:</Label>\n               <Input \n                 type=\"datetime-local\" \n                 value={anexoConfinado?.pruebasGasesPeriodicas?.fechaCalibracion || ''} \n                 onChange={e => handleNestedFieldChange('pruebasGasesPeriodicas', 'fechaCalibracion', e.target.value)} \n               />\n             </div>\n          </div>\n          \n          <Table className=\"mt-4\">\n            <TableHeader>\n              <TableRow>\n                <TableHead>Hora</TableHead>\n                <TableHead>LEL</TableHead>\n                <TableHead>O2</TableHead>\n                <TableHead>H2S</TableHead>\n                <TableHead>CO</TableHead>\n                <TableHead>Firma</TableHead>\n                <TableHead></TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {(anexoConfinado?.pruebasGasesPeriodicas?.pruebas || []).map((prueba, index) => (\n                <TableRow key={prueba.id}>\n                    <TableCell>\n                      <Input \n                        className=\"h-8\" \n                        type=\"time\" \n                        value={prueba.hora || ''} \n                        onChange={e => handleListChange('pruebasGasesPeriodicas', 'pruebas', index, 'hora', e.target.value)} \n                      />\n                    </TableCell>\n                    <TableCell>\n                      <Input \n                        className=\"h-8\" \n                        value={prueba.lel || ''} \n                        onChange={e => handleListChange('pruebasGasesPeriodicas', 'pruebas', index, 'lel', e.target.value)} \n                      />\n                    </TableCell>\n                    <TableCell>\n                      <Input \n                        className=\"h-8\" \n                        value={prueba.o2 || ''} \n                        onChange={e => handleListChange('pruebasGasesPeriodicas', 'pruebas', index, 'o2', e.target.value)} \n                      />\n                    </TableCell>\n                    <TableCell>\n                      <Input \n                        className=\"h-8\" \n                        value={prueba.h2s || ''} \n                        onChange={e => handleListChange('pruebasGasesPeriodicas', 'pruebas', index, 'h2s', e.target.value)} \n                      />\n                    </TableCell>\n                    <TableCell>\n                      <Input \n                        className=\"h-8\" \n                        value={prueba.co || ''} \n                        onChange={e => handleListChange('pruebasGasesPeriodicas', 'pruebas', index, 'co', e.target.value)} \n                      />\n                    </TableCell>\n                    <TableCell>\n                      <Button \n                        variant=\"ghost\" \n                        size=\"icon\" \n                        onClick={() => openSignatureDialog('pruebasGasesPeriodicas', 'pruebas', index)}\n                      >\n                        <Signature className=\"h-4 w-4\"/>\n                      </Button>\n                    </TableCell>\n                    <TableCell>\n                      <Button \n                        variant=\"ghost\" \n                        size=\"icon\" \n                        onClick={() => removeFromList('pruebasGasesPeriodicas', 'pruebas', index)}\n                      >\n                        <Trash2 className=\"h-4 w-4 text-destructive\"/>\n                      </Button>\n                    </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n          {(anexoConfinado?.pruebasGasesPeriodicas?.pruebas?.length || 0) < 4 && (\n            <Button \n              size=\"sm\" \n              onClick={() => addToList('pruebasGasesPeriodicas', 'pruebas', { \n                id: `prueba-${Date.now()}`, \n                hora: '', \n                lel: '', \n                o2: '', \n                h2s: '', \n                co: '', \n                firma: '' \n              })} \n              className=\"mt-2\"\n            >\n              <Plus className=\"mr-2 h-4 w-4\"/>Agregar Prueba\n            </Button>\n          )}\n      </SectionWrapper>\n\n       <SectionWrapper title=\"Autorizaciones\" sectionId=\"autorizaciones\">\n        <div className=\"space-y-6\">\n          <div className=\"p-4 border rounded-lg\">\n              <p className=\"text-sm font-semibold mb-2\">Autoridad del Área</p>\n              <p className=\"text-xs text-muted-foreground mb-4\">\"Al firmar como Autoridad del Área...\"</p>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <Input \n                  placeholder=\"Nombre\" \n                  value={anexoConfinado?.autoridadDelArea?.nombre || ''} \n                  onChange={e => handleNestedFieldChange('autoridadDelArea', 'nombre', e.target.value)} \n                />\n                <Input \n                  type=\"time\" \n                  placeholder=\"Hora\" \n                  value={anexoConfinado?.autoridadDelArea?.hora || ''} \n                  onChange={e => handleNestedFieldChange('autoridadDelArea', 'hora', e.target.value)} \n                />\n              </div>\n              <Button \n                variant=\"outline\" \n                className=\"w-full mt-4\" \n                onClick={() => openSignatureDialog('autoridadDelArea', 'firma')}\n              >\n                <Signature className=\"mr-2\"/>Firmar\n              </Button>\n              {anexoConfinado?.autoridadDelArea?.firma && (\n                <img \n                  src={anexoConfinado.autoridadDelArea.firma} \n                  alt=\"Firma\" \n                  className=\"mt-2 border rounded-md max-h-20\" \n                />\n              )}\n          </div>\n\n          <div className=\"p-4 border rounded-lg\">\n              <p className=\"text-sm font-semibold mb-2\">Responsable del Trabajo</p>\n              <p className=\"text-xs text-muted-foreground mb-4\">\"Al firmar como Responsable del Trabajo...\"</p>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <Input \n                  placeholder=\"Nombre\" \n                  value={anexoConfinado?.responsableDelTrabajo?.nombre || ''} \n                  onChange={e => handleNestedFieldChange('responsableDelTrabajo', 'nombre', e.target.value)} \n                />\n                <Input \n                  type=\"time\" \n                  placeholder=\"Hora\" \n                  value={anexoConfinado?.responsableDelTrabajo?.hora || ''} \n                  onChange={e => handleNestedFieldChange('responsableDelTrabajo', 'hora', e.target.value)} \n                />\n              </div>\n              <Button \n                variant=\"outline\" \n                className=\"w-full mt-4\" \n                onClick={() => openSignatureDialog('responsableDelTrabajo', 'firma')}\n              >\n                <Signature className=\"mr-2\"/>Firmar\n              </Button>\n              {anexoConfinado?.responsableDelTrabajo?.firma && (\n                <img \n                  src={anexoConfinado.responsableDelTrabajo.firma} \n                  alt=\"Firma\" \n                  className=\"mt-2 border rounded-md max-h-20\" \n                />\n              )}\n          </div>\n\n          <div className=\"p-4 border rounded-lg\">\n              <p className=\"text-sm font-semibold mb-2\">Supervisor de Trabajo en Espacios Confinados</p>\n              <p className=\"text-xs text-muted-foreground mb-4\">\"Al firmar como Supervisor...\"</p>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <Input \n                  placeholder=\"Nombre\" \n                  value={anexoConfinado?.supervisorTrabajo?.nombre || ''} \n                  onChange={e => handleNestedFieldChange('supervisorTrabajo', 'nombre', e.target.value)} \n                />\n                <Input \n                  type=\"time\" \n                  placeholder=\"Hora\" \n                  value={anexoConfinado?.supervisorTrabajo?.hora || ''} \n                  onChange={e => handleNestedFieldChange('supervisorTrabajo', 'hora', e.target.value)} \n                />\n              </div>\n              <Button \n                variant=\"outline\" \n                className=\"w-full mt-4\" \n                onClick={() => openSignatureDialog('supervisorTrabajo', 'firma')}\n              >\n                <Signature className=\"mr-2\"/>Firmar\n              </Button>\n              {anexoConfinado?.supervisorTrabajo?.firma && (\n                <img \n                  src={anexoConfinado.supervisorTrabajo.firma} \n                  alt=\"Firma\" \n                  className=\"mt-2 border rounded-md max-h-20\" \n                />\n              )}\n          </div>\n        </div>\n      </SectionWrapper>\n    </div>\n    <Dialog open={isSignatureDialogOpen} onOpenChange={setIsSignatureDialogOpen}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>Registrar Firma</DialogTitle>\n        </DialogHeader>\n        <SignaturePad onSave={handleSaveSignature} />\n      </DialogContent>\n    </Dialog>\n    </>\n  );\n}\n\n    "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6163, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/AnexoEnergiaStep.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport { usePermitForm } from '../form-context';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Button } from '@/components/ui/button';\nimport { ChevronDown } from 'lucide-react';\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\n\nconst SectionWrapper: React.FC<{ title: string; children: React.ReactNode; defaultOpen?: boolean }> = ({ title, children, defaultOpen = false }) => {\n  const [isOpen, setIsOpen] = React.useState(defaultOpen);\n  return (\n    <Collapsible open={isOpen} onOpenChange={setIsOpen}>\n      <CollapsibleTrigger asChild>\n        <Button variant=\"ghost\" className=\"w-full justify-between p-3 bg-gray-100 rounded-lg cursor-pointer border\">\n          <h3 className=\"text-lg font-bold text-gray-700\">{title}</h3>\n          <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n        </Button>\n      </CollapsibleTrigger>\n      <CollapsibleContent className=\"p-4 border-l border-r border-b rounded-b-lg\">\n        {children}\n      </CollapsibleContent>\n    </Collapsible>\n  );\n};\n\nconst RadioGroupField = ({ id, label, value, onChange }: { id: string; label: string; value: string; onChange: (value: string) => void; }) => (\n    <div className=\"flex justify-between items-center p-3 border rounded-md bg-white\">\n        <Label htmlFor={id} className=\"text-sm font-medium flex-1\">{label}</Label>\n        <RadioGroup id={id} value={value || 'na'} onValueChange={onChange} className=\"flex gap-4\">\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"si\" id={`${id}-si`} /><Label htmlFor={`${id}-si`}>SI</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"no\" id={`${id}-no`} /><Label htmlFor={`${id}-no`}>NO</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"na\" id={`${id}-na`} /><Label htmlFor={`${id}-na`}>N/A</Label></div>\n        </RadioGroup>\n    </div>\n);\n\n\nexport function AnexoEnergiaStep() {\n    const { state, dispatch } = usePermitForm();\n    const { generalInfo, anexoEnergias } = state;\n\n    const handleFieldChange = (section: string, field: string, value: any) => {\n        const currentSection = (anexoEnergias as any)[section] || {};\n        dispatch({\n            type: 'UPDATE_ANEXO_ENERGIA',\n            payload: {\n                [section]: { ...currentSection, [field]: value }\n            }\n        });\n    };\n\n    const handleCheckboxGroupChange = (section: string, field: string, checked: boolean) => {\n        const currentSection = (anexoEnergias as any)[section] || {};\n        handleFieldChange(section, field, checked);\n    };\n    \n    const handleInputChange = (field: string, value: string) => {\n         dispatch({\n            type: 'UPDATE_ANEXO_ENERGIA',\n            payload: { [field]: value }\n        });\n    }\n\n    return (\n        <div className=\"space-y-8\">\n            <div className=\"text-center\">\n                <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">\n                    Anexo de Trabajos con Energías\n                </h2>\n                <p className=\"text-muted-foreground text-sm\">\n                    Complete la información requerida para trabajos con energías peligrosas.\n                </p>\n            </div>\n\n            <SectionWrapper title=\"Información General\" defaultOpen>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div><Label>Emitido por:</Label><Input value={generalInfo.nombreSolicitante || ''} readOnly disabled /></div>\n                    <div><Label>Área de Trabajo:</Label><Input value={generalInfo.areaEspecifica || ''} readOnly disabled /></div>\n                    <div><Label>Equipo o Área Específica:</Label><Input value={generalInfo.proceso || ''} readOnly disabled /></div>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\n                    <div><Label>Responsable (Nombre):</Label><Input value={generalInfo.responsable?.nombre || ''} readOnly disabled /></div>\n                    <div><Label>Cargo:</Label><Input value={generalInfo.responsable?.cargo || ''} readOnly disabled /></div>\n                    <div><Label>Compañía:</Label><Input value={generalInfo.responsable?.compania || ''} readOnly disabled /></div>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n                    <div><Label>En caso de emergencia contactar a:</Label><Input value={anexoEnergias?.emergencia?.contacto || ''} onChange={(e) => handleFieldChange('emergencia', 'contacto', e.target.value)} /></div>\n                    <div><Label>Teléfono:</Label><Input value={anexoEnergias?.emergencia?.telefono || ''} onChange={(e) => handleFieldChange('emergencia', 'telefono', e.target.value)} /></div>\n                </div>\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Trabajos en Caliente\">\n                <div className=\"space-y-3\">\n                    <RadioGroupField id=\"distanciaSeguridad\" label=\"A.- Regla de distancia de seguridad de 11 m de materiales combustibles e inflamables\" value={anexoEnergias?.trabajosEnCaliente?.distanciaSeguridad as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'distanciaSeguridad', value)} />\n                    <RadioGroupField id=\"medicionAtmosfera\" label=\"B.- Medición de atmósfera explosiva (uso de medidor de atmósferas)\" value={anexoEnergias?.trabajosEnCaliente?.medicionAtmosfera as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'medicionAtmosfera', value)} />\n                    <RadioGroupField id=\"aislarArea\" label=\"C.- Aislar el área de trabajo por medio de biombos, lonas, mamparas\" value={anexoEnergias?.trabajosEnCaliente?.aislarArea as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'aislarArea', value)} />\n                    <RadioGroupField id=\"taparAberturas\" label=\"D.- Tapar toda abertura existente a fin de impedir dispersión de chispas\" value={anexoEnergias?.trabajosEnCaliente?.taparAberturas as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'taparAberturas', value)} />\n                    <RadioGroupField id=\"extintores\" label=\"E.- Extintores portátiles en el área de trabajo\" value={anexoEnergias?.trabajosEnCaliente?.extintores as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'extintores', value)} />\n                    <RadioGroupField id=\"vigiaFuego\" label=\"F - Vigía o supervisor de fuego de incendio\" value={anexoEnergias?.trabajosEnCaliente?.vigiaFuego as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'vigiaFuego', value)} />\n                    <RadioGroupField id=\"personalCapacitado\" label=\"G - Personal capacitado, competente y entrenado\" value={anexoEnergias?.trabajosEnCaliente?.personalCapacitado as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'personalCapacitado', value)} />\n                    <RadioGroupField id=\"listasChequeo\" label=\"H - Listas de chequeo pre-operacional de equipos\" value={anexoEnergias?.trabajosEnCaliente?.listasChequeo as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'listasChequeo', value)} />\n                    <div className=\"flex items-center gap-2 pt-2\"><Label htmlFor=\"calienteOtro\">Otro (Cual):</Label><Input id=\"calienteOtro\" value={anexoEnergias?.trabajosEnCaliente?.otro as string || ''} onChange={(e) => handleFieldChange('trabajosEnCaliente', 'otro', e.target.value)} /></div>\n                </div>\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Trabajos con Energías Peligrosas\">\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\n                    {['mecanica', 'neumatica', 'hidraulica', 'agua', 'vapor', 'termica', 'quimica'].map(id => (\n                        <div key={id} className=\"flex items-center space-x-2\">\n                            <Checkbox id={`energia_${id}`} checked={(anexoEnergias?.energiasPeligrosas?.[id] as boolean) || false} onCheckedChange={(checked) => handleCheckboxGroupChange('energiasPeligrosas', id, !!checked)} />\n                            <Label htmlFor={`energia_${id}`} className=\"capitalize\">{id}</Label>\n                        </div>\n                    ))}\n                </div>\n                <div className=\"flex items-center gap-2 mb-6\"><Label htmlFor=\"energiaOtra\">Otra:</Label><Input id=\"energiaOtra\" value={anexoEnergias?.energiasPeligrosas?.otra as string || ''} onChange={(e) => handleFieldChange('energiasPeligrosas', 'otra', e.target.value)} /></div>\n\n                <div className=\"space-y-3\">\n                    <RadioGroupField id=\"procedimientoLOTO\" label=\"A.- Se cuenta procedimiento LO/TO\" value={anexoEnergias?.procedimientoLOTO?.procedimientoLOTO as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'procedimientoLOTO', value)} />\n                    <RadioGroupField id=\"identificadoFuentes\" label=\"B.- Se han identificado las fuentes de energía\" value={anexoEnergias?.procedimientoLOTO?.identificadoFuentes as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'identificadoFuentes', value)} />\n                    <RadioGroupField id=\"purgadoLimpieza\" label=\"C.- Purgado o limpieza del sistema\" value={anexoEnergias?.procedimientoLOTO?.purgadoLimpieza as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'purgadoLimpieza', value)} />\n                    <RadioGroupField id=\"corteVisible\" label=\"1. Corte visible de fuentes de energía\" value={anexoEnergias?.procedimientoLOTO?.corteVisible as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'corteVisible', value)} />\n                    <RadioGroupField id=\"instalarBloqueo\" label=\"2. Instalar dispositivos de bloqueo y tarjeta de bloqueo.\" value={anexoEnergias?.procedimientoLOTO?.instalarBloqueo as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'instalarBloqueo', value)} />\n                    <RadioGroupField id=\"disiparEnergia\" label=\"4. Disipar cualquier tipo de energía (puesta a tierra y en cortocircuito).\" value={anexoEnergias?.procedimientoLOTO?.disiparEnergia as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'disiparEnergia', value)} />\n                    <RadioGroupField id=\"verificarAusencia\" label=\"3. Verificar ausencia de fuentes de energía\" value={anexoEnergias?.procedimientoLOTO?.verificarAusencia as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'verificarAusencia', value)} />\n                    <RadioGroupField id=\"senalizarZona\" label=\"5. Señalizar y delimitar zona de trabajo.\" value={anexoEnergias?.procedimientoLOTO?.senalizarZona as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'senalizarZona', value)} />\n                </div>\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Trabajos con Energía Eléctrica\">\n                <Table>\n                    <TableHeader>\n                        <TableRow>\n                            <TableHead>Nivel de Tensión</TableHead>\n                            <TableHead>Límite de aproximación seguro</TableHead>\n                            <TableHead>Límite de aproximación restringido</TableHead>\n                            <TableHead>Límite de aproximación técnico</TableHead>\n                        </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                        <TableRow><TableCell>0 V - 50 V</TableCell><TableCell>3,0 m</TableCell><TableCell>Evitar contacto</TableCell><TableCell>Evitar contacto</TableCell></TableRow>\n                        <TableRow><TableCell>51 V - 300 V</TableCell><TableCell>3,0 m</TableCell><TableCell>1,0 m</TableCell><TableCell>Evitar contacto</TableCell></TableRow>\n                        <TableRow><TableCell>301 V - 750 V</TableCell><TableCell>3,0 m</TableCell><TableCell>1,0 m</TableCell><TableCell>0,3 m</TableCell></TableRow>\n                        <TableRow><TableCell>751 V - 15 kV</TableCell><TableCell>3,0 m</TableCell><TableCell>1,5 m</TableCell><TableCell>0,6 m</TableCell></TableRow>\n                        <TableRow><TableCell>15,1 kV - 36 kV</TableCell><TableCell>3,0 m</TableCell><TableCell>1,8 m</TableCell><TableCell>0,7 m</TableCell></TableRow>\n                        <TableRow><TableCell>36,1 kV - 72,5 kV</TableCell><TableCell>3,0 m</TableCell><TableCell>2,5 m</TableCell><TableCell>0,8 m</TableCell></TableRow>\n                        <TableRow><TableCell>72,6 kV - 145 kV</TableCell><TableCell>3,0 m</TableCell><TableCell>3,0 m</TableCell><TableCell>1,0 m</TableCell></TableRow>\n                    </TableBody>\n                </Table>\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Tensión a la cual el personal estará expuesto\">\n                 <div className=\"space-y-3\">\n                    <RadioGroupField id=\"muyBajaTension\" label=\"Muy baja tensión (Tensiones menores de 25 V).\" value={anexoEnergias?.tensionExpuesta?.muyBaja as string} onChange={(value) => handleFieldChange('tensionExpuesta', 'muyBaja', value)} />\n                    <RadioGroupField id=\"bajaTension\" label=\"Baja tensión (Tensión nominal mayor o igual 25 V y menor o igual a 1000 V).\" value={anexoEnergias?.tensionExpuesta?.baja as string} onChange={(value) => handleFieldChange('tensionExpuesta', 'baja', value)} />\n                    <RadioGroupField id=\"mediaTension\" label=\"Media tensión (Tensión nominal superior a 1000 V e inferior a 57,5 kV).\" value={anexoEnergias?.tensionExpuesta?.media as string} onChange={(value) => handleFieldChange('tensionExpuesta', 'media', value)} />\n                    <RadioGroupField id=\"altaTension\" label=\"Alta tensión (Tensiones mayores o iguales a 57,5 kV y menores o iguales a 230 kV).\" value={anexoEnergias?.tensionExpuesta?.alta as string} onChange={(value) => handleFieldChange('tensionExpuesta', 'alta', value)} />\n                    <RadioGroupField id=\"extraAltaTension\" label=\"Extra alta tensión (Tensiones superiores a 230kV)\" value={anexoEnergias?.tensionExpuesta?.extraAlta as string} onChange={(value) => handleFieldChange('tensionExpuesta', 'extraAlta', value)} />\n                </div>\n            </SectionWrapper>\n\n            <SectionWrapper title=\"Planeación\">\n                <div className=\"space-y-3\">\n                    <RadioGroupField id=\"personalHabilitado\" label=\"Personal habilitado, certificado de competencia laboral vigente (Conte, Conaltel, Matrícula profesional)\" value={anexoEnergias?.planeacion?.personalHabilitado as string} onChange={(value) => handleFieldChange('planeacion', 'personalHabilitado', value)} />\n                    <RadioGroupField id=\"viabilidadTecnica\" label=\"El personal habilitado evalúa la viabilidad técnica (visita previa) y el riesgo asociado para las personas y para el sistema, cumpliendo las etapas de diagnóstico, planeación y ejecución de trabajos.\" value={anexoEnergias?.planeacion?.viabilidadTecnica as string} onChange={(value) => handleFieldChange('planeacion', 'viabilidadTecnica', value)} />\n                    <RadioGroupField id=\"noSimultaneo\" label=\"No se realizan trabajos simultáneos sin y con tensión por el mismo trabajador en la misma área de trabajo.\" value={anexoEnergias?.planeacion?.noSimultaneo as string} onChange={(value) => handleFieldChange('planeacion', 'noSimultaneo', value)} />\n                    <RadioGroupField id=\"autorizacionMantenimiento\" label=\"Autorización del área de mantenimiento\" value={anexoEnergias?.planeacion?.autorizacionMantenimiento as string} onChange={(value) => handleFieldChange('planeacion', 'autorizacionMantenimiento', value)} />\n                    <RadioGroupField id=\"revisionInfo\" label=\"Revisión de información técnica del sistema (diagrama unifilar, planos)\" value={anexoEnergias?.planeacion?.revisionInfo as string} onChange={(value) => handleFieldChange('planeacion', 'revisionInfo', value)} />\n                    <RadioGroupField id=\"procedimientoNormalizado\" label=\"Se cuenta con un procedimiento normalizado para realizar la actividad y ATS\" value={anexoEnergias?.planeacion?.procedimientoNormalizado as string} onChange={(value) => handleFieldChange('planeacion', 'procedimientoNormalizado', value)} />\n                    <RadioGroupField id=\"supervisionControl\" label=\"Se realizar supervisión y control en el sitio de trabajo considerando en forma prioritaria la detección y el control de los riesgos, vigilando el cumplimiento estricto de las normas y procedimientos de seguridad aplicables\" value={anexoEnergias?.planeacion?.supervisionControl as string} onChange={(value) => handleFieldChange('planeacion', 'supervisionControl', value)} />\n                </div>\n                <div className=\"mt-6\">\n                    <Label>Método de trabajo</Label>\n                    <div className=\"flex gap-4 p-4 border rounded-md\">\n                        <div className=\"flex items-center space-x-2\"><Checkbox id=\"metodoSinTension\" checked={anexoEnergias?.metodoTrabajo?.sinTension || false} onCheckedChange={(checked) => handleFieldChange('metodoTrabajo', 'sinTension', !!checked)} /><Label htmlFor=\"metodoSinTension\">Sin tensión</Label></div>\n                        <div className=\"flex items-center space-x-2\"><Checkbox id=\"metodoConTension\" checked={anexoEnergias?.metodoTrabajo?.conTension || false} onCheckedChange={(checked) => handleFieldChange('metodoTrabajo', 'conTension', !!checked)} /><Label htmlFor=\"metodoConTension\">Con tensión</Label></div>\n                    </div>\n                </div>\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Trabajo con Tensión (TCT) - igual o superior a 25 voltios\">\n                <div className=\"flex items-center space-x-2 mb-4\">\n                    <Checkbox id=\"trabajoConTensionCheck\" checked={anexoEnergias?.trabajoConTension?.trabajoConTensionCheck as boolean} onCheckedChange={(checked) => handleFieldChange('trabajoConTension', 'trabajoConTensionCheck', !!checked)} />\n                    <Label htmlFor=\"trabajoConTensionCheck\">Trabajo con tensión - TCT, igual o superior a 25 voltios</Label>\n                </div>\n                 {(anexoEnergias?.trabajoConTension?.trabajoConTensionCheck) && <div className=\"space-y-3\">\n                    <Label>Método de trabajo</Label>\n                    <div className=\"flex gap-4 p-4 border rounded-md\">\n                       <div className=\"flex items-center space-x-2\"><Checkbox id=\"metodoAPotencial\" checked={anexoEnergias?.trabajoConTension?.aPotencial as boolean} onCheckedChange={(checked) => handleFieldChange('trabajoConTension', 'aPotencial', !!checked)} /><Label htmlFor=\"metodoAPotencial\">A potencial</Label></div>\n                       <div className=\"flex items-center space-x-2\"><Checkbox id=\"metodoADistancia\" checked={anexoEnergias?.trabajoConTension?.aDistancia as boolean} onCheckedChange={(checked) => handleFieldChange('trabajoConTension', 'aDistancia', !!checked)} /><Label htmlFor=\"metodoADistancia\">A distancia</Label></div>\n                       <div className=\"flex items-center space-x-2\"><Checkbox id=\"metodoAContacto\" checked={anexoEnergias?.trabajoConTension?.aContacto as boolean} onCheckedChange={(checked) => handleFieldChange('trabajoConTension', 'aContacto', !!checked)} /><Label htmlFor=\"metodoAContacto\">A contacto</Label></div>\n                    </div>\n                    <RadioGroupField id=\"respetarDistancias\" label=\"Respetar distancias mínimas de seguridad con base en lo establecido en RETIE tablas 13.7, 13.8 y 18.1 (Límite de aproximación seguro, restringido, técnico).\" value={anexoEnergias?.trabajoConTension?.respetarDistancias as string} onChange={(value) => handleFieldChange('trabajoConTension', 'respetarDistancias', value)} />\n                    <RadioGroupField id=\"usoEppTCT\" label=\"Uso de EPP especifico para trabajos con circuitos energizados...\" value={anexoEnergias?.trabajoConTension?.usoEpp as string} onChange={(value) => handleFieldChange('trabajoConTension', 'usoEpp', value)} />\n                </div>}\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Trabajo sin Tensión\">\n                 <div className=\"space-y-3\">\n                    <RadioGroupField id=\"trabajoSinTensionCheck\" label=\"Trabajo sin tensión\" value={anexoEnergias?.trabajoSinTension?.trabajoSinTensionCheck as string} onChange={(value) => handleFieldChange('trabajoSinTension', 'trabajoSinTensionCheck', value)} />\n                    <RadioGroupField id=\"analizarFuentes\" label=\"Analizar fuentes de energía (fichas y diagrama de bloqueo).\" value={anexoEnergias?.trabajoSinTension?.analizarFuentes as string} onChange={(value) => handleFieldChange('trabajoSinTension', 'analizarFuentes', value)} />\n                    <RadioGroupField id=\"comprobarNadieExpuesto\" label=\"Comprobar que nadie este expuesto a peligros.\" value={anexoEnergias?.trabajoSinTension?.comprobarNadieExpuesto as string} onChange={(value) => handleFieldChange('trabajoSinTension', 'comprobarNadieExpuesto', value)} />\n                    <RadioGroupField id=\"aplicarLOTO\" label=\"Aplicar procedimiento de bloqueo y aislamiento de energías, (Anexo 3). Hasta tanto no se haya aplicado a cabalidad las 5 reglas de oro y durante la aplicación de las mismas, se debe considerar el sistema energizado y cumplir los controles establecidos para sistemas energizados.\" value={anexoEnergias?.trabajoSinTension?.aplicarLOTO as string} onChange={(value) => handleFieldChange('trabajoSinTension', 'aplicarLOTO', value)} />\n                    <RadioGroupField id=\"usoEppSinTension\" label=\"Uso de EPP especifico para trabajos con circuitos energizados (aplica durante aplicación de 5 reglas de oro)...\" value={anexoEnergias?.trabajoSinTension?.usoEpp as string} onChange={(value) => handleFieldChange('trabajoSinTension', 'usoEpp', value)} />\n                 </div>\n            </SectionWrapper>\n             <div className=\"mt-4\">\n                <Label>OBSERVACIONES / SUPERVISIÓN DEL TRABAJO CON ALGÚN TIPO DE ENERGÍA</Label>\n                <Input value={anexoEnergias?.observaciones || ''} onChange={(e) => handleInputChange('observaciones', e.target.value)} />\n            </div>\n\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7726, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/AnexoIzajeStep.tsx"],"sourcesContent":["\n'use client';\nimport * as React from 'react';\nimport { usePermitForm } from '../form-context';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Button } from '@/components/ui/button';\nimport { ChevronDown, Signature } from 'lucide-react';\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { SignaturePad } from '@/components/ui/signature-pad';\nimport type { AutorizacionPersona, ValidacionDiaria } from '@/types';\nimport { Textarea } from '@/components/ui/textarea';\nimport Image from 'next/image';\n\n\nconst SectionWrapper: React.FC<{ title: string; children: React.ReactNode; defaultOpen?: boolean }> = ({ title, children, defaultOpen = false }) => {\n  const [isOpen, setIsOpen] = React.useState(defaultOpen);\n  return (\n    <Collapsible open={isOpen} onOpenChange={setIsOpen}>\n      <CollapsibleTrigger asChild>\n        <Button variant=\"ghost\" className=\"w-full justify-between p-3 bg-gray-100 rounded-lg cursor-pointer border\">\n          <h3 className=\"text-lg font-bold text-gray-700\">{title}</h3>\n          <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n        </Button>\n      </CollapsibleTrigger>\n      <CollapsibleContent className=\"p-4 border-l border-r border-b rounded-b-lg\">\n        {children}\n      </CollapsibleContent>\n    </Collapsible>\n  );\n};\n\nconst RadioGroupField: React.FC<{ id: string; label: string; value: string; onChange: (value: string) => void; }> = ({ id, label, value, onChange }) => (\n    <div className=\"flex justify-between items-center p-3 border rounded-md bg-white\">\n        <Label htmlFor={id} className=\"text-sm font-medium flex-1\">{label}</Label>\n        <RadioGroup id={id} value={value || 'na'} onValueChange={onChange} className=\"flex gap-4\">\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"si\" id={`${id}-si`} /><Label htmlFor={`${id}-si`}>SI</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"no\" id={`${id}-no`} /><Label htmlFor={`${id}-no`}>NO</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"na\" id={`${id}-na`} /><Label htmlFor={`${id}-na`}>N/A</Label></div>\n        </RadioGroup>\n    </div>\n);\n\nconst accionRealizarOptions = [\n    { id: 'levantar', label: 'Levantar' },\n    { id: 'trasladar', label: 'Trasladar' },\n    { id: 'montar', label: 'Montar' },\n    { id: 'desmontar', label: 'Desmontar' },\n    { id: 'cargar', label: 'Cargar' },\n    { id: 'descargar', label: 'Descargar' },\n];\n\nconst pesoCargaOptions = [\n    { id: 'menor1000', label: 'Menor a 1000 kg' },\n    { id: 'entre1000y2000', label: 'Entre 1000 kg y 2000 kg' },\n    { id: 'entre2000y3000', label: 'Entre 2000 kg y 3000 kg' },\n    { id: 'entre3000y4000', label: 'Entre 3000 kg y 4000 kg' },\n    { id: 'entre4000y5000', label: 'Entre 4000 kg y 5000 kg' },\n    { id: 'mas5000', label: 'Mas de 5000' },\n];\n\nconst equipoUtilizarOptions = [\n    { id: 'montacargas', label: 'Montacargas' },\n    { id: 'camionGrua', label: 'Camión Grúa' },\n    { id: 'gruaMovil', label: 'Grúa Móvil' },\n    { id: 'torreGrua', label: 'Torre Grúa' },\n    { id: 'retroexcavadora', label: 'Retroexcavadora' },\n    { id: 'telehandler', label: 'Telehandler' },\n];\n\nconst aspectosRequeridos = [\n    { id: 'terrenoEstabilizado', label: 'A. Está estabilizado el terreno donde se encuentra el equipo de izaje.' },\n    { id: 'operadorVisualiza', label: 'B. El operador visualiza bien la carga y la operación que va a realizar.' },\n    { id: 'calculoTecnico', label: 'C. Se calculo tecnicamente la maniobra. (Se cuenta con plan de izaje de cargas).' },\n    { id: 'areaSenalizada', label: 'D. Se encuentra señalizada y demarcada el área de trabajo.' },\n    { id: 'capacidadVerificada', label: 'E. Se verifico la capacidad de cargue del equipo de izaje.' },\n    { id: 'curiososRetirados', label: 'F. Se retiraron los curiosos del área de izaje y del radio del equipo de izaje.' },\n    { id: 'comunicacionClara', label: 'G. Existe comunicación clara entre el operador, el encargado de la actividad y quienes participan en ella.' },\n    { id: 'atsRealizado', label: 'H. Se realizo el ATS (Analisis de Trabajo Seguro) para la ejecución de la actividad.' },\n    { id: 'elementosBuenEstado', label: 'I. Se encuentran en buen estado las eslingas, aparejos y demás elementos de sujeción o accesorios de izaje.' },\n    { id: 'polinesBuenEstado', label: 'J. Los polines para nivelación de las grúas están en buen estado.' },\n    { id: 'polinesEstables', label: 'K. Los polines quedan estables con respecto al terreno.' },\n    { id: 'areaDespejada', label: 'L. Está dispuesta y despejada el área donde se colocarán los elementos a izar.' },\n    { id: 'noPersonasBajoCarga', label: 'M. No existen personas bajo la carga izada.' },\n    { id: 'areaMovimientoEvaluada', label: 'N. Se evaluó el área donde se va a llevar la carga izada y el área de movimiento de la carga.' },\n    { id: 'distanciaRedesElectricas', label: 'O. La actividad esta realizándose con la distancia de redes électricas recomendada?' },\n    { id: 'condicionesClimaticas', label: 'P. Las condiciones climiticas son buenas para la realización de la actividad?' },\n    { id: 'equipoTierra', label: 'Q. El equipo tiene conexión a tierra?' },\n    { id: 'sinMaterialCaida', label: 'R. Se verifico que no halla ningun material que pudiera caer arriba de la carga al ser izada?' },\n    { id: 'senalizadorCapacitado', label: 'S. Hay un señalizador capacitado y entrenado para la actividad?' },\n    { id: 'colaboradoresAfiliados', label: 'T. Se verifico que los colaboradores estén afiliados al Sistema de Seguridad Social (EPS, ARL, AFP).' },\n];\n\nconst precaucionesControles = [\n    { id: 'inspeccionGrua', label: 'INSPECCIÓN GRÚA/APAREJOS' },\n    { id: 'vigiaLineasElectricas', label: 'VIGÍA PARA LÍNEAS ELÉCTRICAS' },\n    { id: 'capacidadVsCarga', label: 'CAPACIDAD VS CARGA & LMI' },\n    { id: 'apoyoTerreno', label: 'APOYO DEL TERRENO' },\n    { id: 'certificacionOperador', label: 'CERTIFICACIÓN OPERADOR-RIGGER' },\n    { id: 'comunicacionRadialLuminica', label: 'COMUNICACIÓN RADIAL/LUMÍNICA' },\n    { id: 'planIzaje', label: 'PLAN DE IZAJE' },\n    { id: 'planRescate', label: 'PLAN DE RESCATE' },\n    { id: 'senalizacionDemarcacion', label: 'SEÑALIZACIÓN Y DEMARCACION AREA' },\n    { id: 'eppObligatorio', label: 'EPP OBLIGATORIO' },\n    { id: 'estabilizadoresTerreno', label: 'ESTABILIZADORES & TERRENO' },\n    { id: 'climaSeguro', label: 'CLIMA SEGURO' },\n];\n\nexport function AnexoIzajeStep() {\n    const { state, dispatch } = usePermitForm();\n    const { generalInfo, anexoIzaje } = state;\n    const [isSignatureDialogOpen, setIsSignatureDialogOpen] = React.useState(false);\n    const [signingTarget, setSigningTarget] = React.useState<{ section: string; field?: string; index?: number } | null>(null);\n\n    const handleUpdate = (payload: any) => {\n        dispatch({ type: 'UPDATE_ANEXO_IZAJE', payload });\n    };\n\n    const handleNestedChange = (section: keyof typeof anexoIzaje, field: string, value: any) => {\n        handleUpdate({ [section]: { ...(anexoIzaje as any)[section], [field]: value } });\n    };\n    \n    const handleCheckboxGroupChange = (section: 'informacionGeneral', subSection: 'accion' | 'pesoCarga' | 'equipoUtilizar', field: string, value: boolean) => {\n        const currentSubSection = (anexoIzaje[section] as any)?.[subSection] || {};\n        handleNestedChange(section, subSection, { ...currentSubSection, [field]: value });\n    };\n\n    const handleListChange = (section: 'validacion', list: 'autoridad' | 'responsable', index: number, field: keyof ValidacionDiaria, value: string) => {\n        const currentList = [...((anexoIzaje[section] as any)?.[list] || [])];\n        currentList[index] = { ...currentList[index], [field]: value };\n        handleNestedChange(section, list, currentList);\n    };\n\n    React.useEffect(() => {\n        if (!anexoIzaje.validacion || !anexoIzaje.validacion.autoridad || anexoIzaje.validacion.autoridad.length === 0) {\n            const authorityValidation = Array(7).fill(0).map((_, i) => ({ dia: i + 1, nombre: '', firma: '', fecha: '' }));\n            const responsibleValidation = Array(7).fill(0).map((_, i) => ({ dia: i + 1, nombre: '', firma: '', fecha: '' }));\n            handleUpdate({ validacion: { autoridad: authorityValidation, responsable: responsibleValidation } });\n        }\n    }, [anexoIzaje.validacion]);\n\n    const openSignatureDialog = (section: any, field?: string, index?: number) => {\n        setSigningTarget({ section, field, index });\n        setIsSignatureDialogOpen(true);\n    };\n\n    const handleSaveSignature = (signature: string) => {\n        if (!signingTarget) return;\n        const { section, field, index } = signingTarget;\n    \n        if (section.startsWith('validacion.')) {\n            const [valSection, list] = section.split('.');\n            handleListChange(valSection as 'validacion', list as 'autoridad' | 'responsable', index!, 'firma', signature);\n        } else if (section.startsWith('cierre.')) {\n            const [cierreSection, subSection] = section.split('.');\n            handleNestedChange('cierre', subSection, { ...((anexoIzaje.cierre as any)?.[subSection] || {}), firma: signature });\n        } else if (section === 'cancelacion') {\n             handleNestedChange('cancelacion', 'firma', signature);\n        } else {\n             handleNestedChange(section as any, 'firma', signature);\n        }\n        \n        setIsSignatureDialogOpen(false);\n    };\n\n    return (\n        <div className=\"space-y-8\">\n            <div className=\"text-center\">\n                <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">Anexo de Izaje de Cargas</h2>\n                <p className=\"text-muted-foreground text-sm\">Complete la información requerida para el izaje de cargas.</p>\n            </div>\n\n            <SectionWrapper title=\"Información General del Anexo\" defaultOpen>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div><Label>Emitido por:</Label><Input value={generalInfo.nombreSolicitante || ''} readOnly disabled /></div>\n                    <div><Label>Área de Trabajo:</Label><Input value={generalInfo.areaEspecifica || ''} readOnly disabled /></div>\n                </div>\n                 <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n                    <div><Label>En caso de emergencia contactar a:</Label><Input value={anexoIzaje.emergencia?.contacto || ''} onChange={(e) => handleNestedChange('emergencia', 'contacto', e.target.value)} /></div>\n                    <div><Label>Teléfono:</Label><Input value={anexoIzaje.emergencia?.telefono || ''} onChange={(e) => handleNestedChange('emergencia', 'telefono', e.target.value)} /></div>\n                </div>\n            </SectionWrapper>\n\n            <SectionWrapper title=\"Información de la Carga y Equipo\">\n                 <div className=\"space-y-4\">\n                    <div>\n                        <Label className=\"font-semibold\">Acción a Realizar</Label>\n                        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 p-2 border rounded-md\">\n                            {accionRealizarOptions.map(o => (\n                                <div key={o.id} className=\"flex items-center gap-2\"><Checkbox id={`accion-${o.id}`} checked={anexoIzaje.informacionGeneral?.accion?.[o.id] || false} onCheckedChange={(c) => handleCheckboxGroupChange('informacionGeneral', 'accion', o.id, !!c)} /><Label htmlFor={`accion-${o.id}`}>{o.label}</Label></div>\n                            ))}\n                        </div>\n                    </div>\n                     <div>\n                        <Label className=\"font-semibold\">Peso de la Carga</Label>\n                        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 p-2 border rounded-md\">\n                             {pesoCargaOptions.map(o => (\n                                <div key={o.id} className=\"flex items-center gap-2\"><Checkbox id={`peso-${o.id}`} checked={anexoIzaje.informacionGeneral?.pesoCarga?.[o.id] || false} onCheckedChange={(c) => handleCheckboxGroupChange('informacionGeneral', 'pesoCarga', o.id, !!c)} /><Label htmlFor={`peso-${o.id}`}>{o.label}</Label></div>\n                            ))}\n                        </div>\n                    </div>\n                     <div>\n                        <Label className=\"font-semibold\">Equipo a Utilizar</Label>\n                        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 p-2 border rounded-md\">\n                             {equipoUtilizarOptions.map(o => (\n                                <div key={o.id} className=\"flex items-center gap-2\"><Checkbox id={`equipo-${o.id}`} checked={anexoIzaje.informacionGeneral?.equipoUtilizar?.[o.id] || false} onCheckedChange={(c) => handleCheckboxGroupChange('informacionGeneral', 'equipoUtilizar', o.id, !!c)} /><Label htmlFor={`equipo-${o.id}`}>{o.label}</Label></div>\n                            ))}\n                        </div>\n                    </div>\n                    <div>\n                        <Label htmlFor=\"capacidadEquipo\" className=\"font-semibold\">Capacidad del Equipo</Label>\n                        <Input id=\"capacidadEquipo\" value={anexoIzaje.informacionGeneral?.capacidadEquipo || ''} onChange={(e) => handleNestedChange('informacionGeneral', 'capacidadEquipo', e.target.value)} />\n                    </div>\n                </div>\n            </SectionWrapper>\n\n            <SectionWrapper title=\"Aspectos Requeridos para Realizar Izaje\">\n                <div className=\"space-y-2\">\n                    {aspectosRequeridos.map(a => (\n                        <RadioGroupField key={a.id} id={`aspecto-${a.id}`} label={a.label} value={anexoIzaje.aspectosRequeridos?.[a.id] || 'na'} onChange={(v) => handleNestedChange('aspectosRequeridos', a.id, v)} />\n                    ))}\n                </div>\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Precauciones y Controles Específicos\">\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 p-2 border rounded-md\">\n                    {precaucionesControles.map(p => (\n                        <div key={p.id} className=\"flex items-center gap-2\"><Checkbox id={`preca-${p.id}`} checked={anexoIzaje.precauciones?.[p.id] || false} onCheckedChange={(c) => handleNestedChange('precauciones', p.id, !!c)} /><Label htmlFor={`preca-${p.id}`}>{p.label}</Label></div>\n                    ))}\n                </div>\n            </SectionWrapper>\n\n            <SectionWrapper title=\"Autorizaciones\">\n                 <div className=\"space-y-6\">\n                    <div className=\"p-4 border rounded-lg\">\n                        <p className=\"text-sm font-semibold mb-2\">Autoridad del Área</p>\n                        <p className=\"text-xs text-muted-foreground mb-4\">\"Al firmar como Autoridad del Area, estoy enterado del trabajo a realizar y apruebo su ejecucion bajo las medidas de seguridad contempladas en este permiso y sus documentos  complementarios.\"</p>\n                        <div className=\"grid grid-cols-2 gap-4\">\n                            <Input placeholder=\"Nombre Completo\" value={anexoIzaje.autoridadArea?.nombre || ''} onChange={(e) => handleNestedChange('autoridadArea', 'nombre', e.target.value)} />\n                            <Input type=\"time\" placeholder=\"Hora\" value={anexoIzaje.autoridadArea?.hora || ''} onChange={(e) => handleNestedChange('autoridadArea', 'hora', e.target.value)} />\n                        </div>\n                        <Button variant=\"outline\" className=\"w-full mt-4\" onClick={() => openSignatureDialog('autoridadArea')}><Signature className=\"mr-2\"/>Firmar</Button>\n                        {anexoIzaje.autoridadArea?.firma && <img src={anexoIzaje.autoridadArea.firma} alt=\"Firma\" className=\"mt-2 border rounded-md max-h-20\" />}\n                    </div>\n                    <div className=\"p-4 border rounded-lg\">\n                        <p className=\"text-sm font-semibold mb-2\">Responsable del Trabajo</p>\n                        <p className=\"text-xs text-muted-foreground mb-4\">\"Al firmar como Responsable del Trabajo / Ejecutor, Manifiesto que entiendo el trabajo que voy a realizar y los riesgos asosciados a este, dispongo de los recursos necesarios y  tomare las medidas de seguridad.\"</p>\n                        <div className=\"grid grid-cols-2 gap-4\">\n                             <Input placeholder=\"Nombre Completo\" value={anexoIzaje.responsableTrabajo?.nombre || ''} onChange={(e) => handleNestedChange('responsableTrabajo', 'nombre', e.target.value)} />\n                             <Input type=\"time\" placeholder=\"Hora\" value={anexoIzaje.responsableTrabajo?.hora || ''} onChange={(e) => handleNestedChange('responsableTrabajo', 'hora', e.target.value)} />\n                        </div>\n                        <Button variant=\"outline\" className=\"w-full mt-4\" onClick={() => openSignatureDialog('responsableTrabajo')}><Signature className=\"mr-2\"/>Firmar</Button>\n                        {anexoIzaje.responsableTrabajo?.firma && <img src={anexoIzaje.responsableTrabajo.firma} alt=\"Firma\" className=\"mt-2 border rounded-md max-h-20\" />}\n                    </div>\n                </div>\n            </SectionWrapper>\n            \n            <Dialog open={isSignatureDialogOpen} onOpenChange={setIsSignatureDialogOpen}>\n                <DialogContent>\n                    <DialogHeader><DialogTitle>Registrar Firma</DialogTitle></DialogHeader>\n                    <SignaturePad onSave={handleSaveSignature} />\n                </DialogContent>\n            </Dialog>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 8840, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/AnexoExcavacionesStep.tsx"],"sourcesContent":["\n'use client';\nimport * as React from 'react';\nimport { usePermitForm } from '../form-context';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Button } from '@/components/ui/button';\nimport { ChevronDown, Signature } from 'lucide-react';\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { SignaturePad } from '@/components/ui/signature-pad';\nimport type { ValidacionDiaria } from '@/types';\nimport { Textarea } from '@/components/ui/textarea';\n\nconst SectionWrapper: React.FC<{ title: string; children: React.ReactNode; defaultOpen?: boolean }> = ({ title, children, defaultOpen = false }) => {\n  const [isOpen, setIsOpen] = React.useState(defaultOpen);\n  return (\n    <Collapsible open={isOpen} onOpenChange={setIsOpen}>\n      <CollapsibleTrigger asChild>\n        <Button variant=\"ghost\" className=\"w-full justify-between p-3 bg-gray-100 rounded-lg cursor-pointer border\">\n          <h3 className=\"text-lg font-bold text-gray-700\">{title}</h3>\n          <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n        </Button>\n      </CollapsibleTrigger>\n      <CollapsibleContent className=\"p-4 border-l border-r border-b rounded-b-lg\">\n        {children}\n      </CollapsibleContent>\n    </Collapsible>\n  );\n};\n\nconst RadioGroupField: React.FC<{ id: string; label: string; value: string; onChange: (value: string) => void; }> = ({ id, label, value, onChange }) => (\n    <div className=\"flex justify-between items-center p-3 border rounded-md bg-white\">\n        <Label htmlFor={id} className=\"text-sm font-medium flex-1\">{label}</Label>\n        <RadioGroup id={id} value={value || 'na'} onValueChange={onChange} className=\"flex gap-4\">\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"si\" id={`${id}-si`} /><Label htmlFor={`${id}-si`}>SI</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"no\" id={`${id}-no`} /><Label htmlFor={`${id}-no`}>NO</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"na\" id={`${id}-na`} /><Label htmlFor={`${id}-na`}>N/A</Label></div>\n        </RadioGroup>\n    </div>\n);\n\nconst aspectosRequeridos = [\n    { id: 'sistemasEnterrados', label: 'A. SE HAN IDENTIFICADO PLENAMENTO TODOS LOS SISTEMAS ENTERRADOS PRESENTES EN EL AREA (TUBERIAS, BANCO DE DUCTOS, MALLAS A TIERRA, ETC.)' },\n    { id: 'metodoExcavacion', label: 'B. SE HA DETERMINADO EL METODO DE EXCAVACION Y SE VERIFICO EL ESTADO DE LOS EQUIPOS Y HERRAMIENTAS' },\n    { id: 'ejecutantesEntrenados', label: 'C. ESTÁN LOS EJECUTANTES ENTRENADOS Y CONOCEN LOS RIESGOS A LOS QUE ESTAN EXPUESTOS. ESTAN INCLUIDOS Y DIVULGADOS' },\n    { id: 'controlesDeterminados', label: 'D. SE HAN DETERMINADO LOS CONTROLES, SISTEMAS DE ENTIBADO INGRESO Y SALIDA, ESCALONAMIENTO PARA EXCAVACIONES >1,20 MTS DE PROFUNDIDAD' },\n    { id: 'areaDelimitada', label: 'E. ESTA DELIMITADA Y SEÑALIZADA EL AREA DE TRABAJO PARA PREVENIR RIESGOS DE CAIDAS DE PERSONAL O EQUIPOS EN LA EXCAVACION' },\n    { id: 'puentesRequeridos', label: 'F. SE REQUIERE LA CONSTRUCCION DE PUENTES O PASARELAS PARA FACILITAR EL PASO DE PERSONAL, VEHICULOS O EQUIPOS SOBRE LA EXCAVACION' },\n    { id: 'materialesRemovidos', label: 'G.LOS MATERIALES RERMOVIDOS DE LA EXCVAVACION, EQUIPOS Y VEHCULOS ESTAN UBICADOS MINIMO A UN METRO (1 MT) DE DEL BORDE DE LA EXCAVACION' },\n    { id: 'escalerasSobresalen', label: 'H. LAS ESCALERAS DE INGRESO Y SALIDA DE LA EXCAVACION SOBRESALE MINIMO 1 METRO DEL BORDE' },\n    { id: 'metodoRelleno', label: 'I. SE TIENE PREVISTO EL METODO DE RELLENO Y CONFORMACION DE LA EXCAVACION UNA VES SE TERMINE EL TRABAJO (ADECUACION DE AREA)' },\n    { id: 'elementosEmergencia', label: 'K. SE CUENTA CON ELEMENTOS PARA ATENCION DE EMERGENCIAS EN EL AREA' },\n    { id: 'planRescate', label: 'L. SE CUENTA CON PLAN DE EMERGENCIA PARA RESCATE' },\n    { id: 'hojasSeguridad', label: 'M. ESTAN DISPONIBLES LAS HOJAS DE SEGURIDAD DE PRODUCTOS QUIMICOS EN CASO DE USARSE.' },\n    { id: 'conexionesPuestaTierra', label: 'N.SE HA VERIFICADO EL ESTADO DE CONEXIONES Y PUESTA A TIERRA DE EQUIPOS Y ELEMENTOS A USAR.' },\n    { id: 'vigiaNecesario', label: 'Ñ.LA CRITICIDAD DE LA ACTIVIDADD Y LAS DIMENSIONES HACEN NECESARIO DISPNER EN EL AREA DE UN VIGIA DE SEGURIDAD' },\n    { id: 'profundidadMaxima', label: 'O.SE VERIFICO LA PROFUNDIDAD MAXIMA DE LA EXCAVACION, CUANDO ESTA SEA > A 1,50 MTS SE APLICARAN LOS REUQEIRMIENTOS PARA TRABAJO EN ALTURAS.' },\n    { id: 'personalSaludable', label: 'P. SE VERICO EL PERSONAL QUE REALIZA EL TRABAJO SE ENCUENTRA EN CONDICIONES ADECUADAS DE SALUD PARA LA ACTIVIDAD' },\n    { id: 'eppVerificado', label: 'Q. SE VERIFICO EL EQUIPO Y ELEMENTOS DE PROTECCION PERSONAL A UTILIZAR' },\n    { id: 'excavacionNoAfecta', label: 'R.SE VERIFICO QUE LA EXCAVACION A REALIZAR NO AFECTE LA ESTABILIDAD O INTEGRIDAD DE EQUIPOS O ESTRUCTURAS.' },\n];\n\nconst precaucionesControles = [\n    { id: 'hacerApiques', label: 'HACER APIQUES' },\n    { id: 'revisarEquipos', label: 'REVISAR EQUIPOS Y HERRAMIENTAS' },\n    { id: 'herramientaNeumatica', label: 'HERRAMIENTA NEUMATICA' },\n    { id: 'entibado', label: 'ENTIBADO' },\n    { id: 'herramientaManual', label: 'HERRAMIENTA MANUAL' },\n    { id: 'escalonarTaludes', label: 'ESCALONAR TALUDES' },\n    { id: 'equipoContraIncendio', label: 'EQUIPO CONTRA INCENDIO' },\n    { id: 'instalarSistemasAcceso', label: 'INSTALAR SISTEMAS ACCESO Y SALIDA' },\n    { id: 'usoEppsEspeciales', label: 'USO DE EPPS ESPECIALES' },\n    { id: 'hojaSeguridadMsds', label: 'HOJA DE SEGURIDAD MSDS' },\n    { id: 'bloqueoEtiquetado', label: 'BLOQUEO Y ETIQUETADO' },\n    { id: 'requiereVigia', label: 'REQUIERE VIGIA' },\n    { id: 'etiquetadoProductosQuimicos', label: 'ETIQUETADO PRODUCTOS QUIMICOS' },\n    { id: 'clasificacionResiduos', label: 'CLASIFICACION DE RESIDUOS' },\n    { id: 'senalizacion', label: 'SEÑALIZACION' },\n    { id: 'recubrirMaterialExcavado', label: 'RECUBRIR MATERIAL EXCAVADO' },\n];\n\nexport function AnexoExcavacionesStep() {\n    const { state, dispatch } = usePermitForm();\n    const { generalInfo, anexoExcavaciones } = state;\n    const [isSignatureDialogOpen, setIsSignatureDialogOpen] = React.useState(false);\n    const [signingTarget, setSigningTarget] = React.useState<{ section: string; field?: string; index?: number } | null>(null);\n\n    const handleUpdate = (payload: any) => {\n        dispatch({ type: 'UPDATE_ANEXO_EXCAVACIONES', payload });\n    };\n\n    const handleNestedChange = (section: keyof typeof anexoExcavaciones, field: string, value: any) => {\n        handleUpdate({ [section]: { ...(anexoExcavaciones as any)[section], [field]: value } });\n    };\n\n    const handleListChange = (section: 'validacion', list: 'autoridad' | 'responsable', index: number, field: keyof ValidacionDiaria, value: string) => {\n        const currentList = [...((anexoExcavaciones[section] as any)?.[list] || [])];\n        currentList[index] = { ...currentList[index], [field]: value };\n        handleNestedChange(section, list, currentList);\n    };\n\n    React.useEffect(() => {\n        if (!anexoExcavaciones.validacion || !anexoExcavaciones.validacion.autoridad || anexoExcavaciones.validacion.autoridad.length === 0) {\n            const authorityValidation = Array(7).fill(0).map((_, i) => ({ dia: i + 1, nombre: '', firma: '', fecha: '' }));\n            const responsibleValidation = Array(7).fill(0).map((_, i) => ({ dia: i + 1, nombre: '', firma: '', fecha: '' }));\n            handleUpdate({ validacion: { autoridad: authorityValidation, responsable: responsibleValidation } });\n        }\n    }, [anexoExcavaciones.validacion]);\n\n    const openSignatureDialog = (section: any, field?: string, index?: number) => {\n        setSigningTarget({ section, field, index });\n        setIsSignatureDialogOpen(true);\n    };\n\n    const handleSaveSignature = (signature: string) => {\n        if (!signingTarget) return;\n        const { section, field, index } = signingTarget;\n    \n        if (section.startsWith('validacion.')) {\n            const [valSection, list] = section.split('.');\n            handleListChange(valSection as 'validacion', list as 'autoridad' | 'responsable', index!, 'firma', signature);\n        } else if (section.startsWith('cierre.')) {\n            const [cierreSection, subSection] = section.split('.');\n            handleNestedChange('cierre', subSection, { ...((anexoExcavaciones.cierre as any)?.[subSection] || {}), firma: signature });\n        } else if (section === 'cancelacion') {\n             handleNestedChange('cancelacion', 'firma', signature);\n        } else {\n             handleNestedChange(section as any, 'firma', signature);\n        }\n        \n        setIsSignatureDialogOpen(false);\n    };\n\n    return (\n        <div className=\"space-y-8\">\n            <div className=\"text-center\">\n                <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">Anexo de Excavaciones</h2>\n                <p className=\"text-muted-foreground text-sm\">Complete la información requerida para la excavación.</p>\n            </div>\n\n            <SectionWrapper title=\"Información General del Anexo\" defaultOpen>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div><Label>Emitido por:</Label><Input value={generalInfo.nombreSolicitante || ''} readOnly disabled /></div>\n                    <div><Label>Área de Trabajo:</Label><Input value={generalInfo.areaEspecifica || ''} readOnly disabled /></div>\n                </div>\n                 <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n                    <div><Label>En caso de emergencia contactar a:</Label><Input value={anexoExcavaciones.emergencia?.contacto || ''} onChange={(e) => handleNestedChange('emergencia', 'contacto', e.target.value)} /></div>\n                    <div><Label>Teléfono:</Label><Input value={anexoExcavaciones.emergencia?.telefono || ''} onChange={(e) => handleNestedChange('emergencia', 'telefono', e.target.value)} /></div>\n                </div>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4\">\n                    <div><Label>Dimensiones:</Label><Input value={anexoExcavaciones.informacionGeneral?.dimensiones || ''} onChange={(e) => handleNestedChange('informacionGeneral', 'dimensiones', e.target.value)} /></div>\n                    <div><Label>Profundidad:</Label><Input value={anexoExcavaciones.informacionGeneral?.profundidad || ''} onChange={(e) => handleNestedChange('informacionGeneral', 'profundidad', e.target.value)} /></div>\n                    <div><Label>Ancho:</Label><Input value={anexoExcavaciones.informacionGeneral?.ancho || ''} onChange={(e) => handleNestedChange('informacionGeneral', 'ancho', e.target.value)} /></div>\n                    <div><Label>Largo:</Label><Input value={anexoExcavaciones.informacionGeneral?.largo || ''} onChange={(e) => handleNestedChange('informacionGeneral', 'largo', e.target.value)} /></div>\n                </div>\n            </SectionWrapper>\n\n            <SectionWrapper title=\"Aspectos Requeridos para Realizar Excavaciones\">\n                <div className=\"space-y-2\">\n                    {aspectosRequeridos.map(a => (\n                        <RadioGroupField key={a.id} id={`aspecto-${a.id}`} label={a.label} value={anexoExcavaciones.aspectosRequeridos?.[a.id] || 'na'} onChange={(v) => handleNestedChange('aspectosRequeridos', a.id, v)} />\n                    ))}\n                </div>\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Precauciones y Controles Específicos\">\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 p-2 border rounded-md\">\n                    {precaucionesControles.map(p => (\n                        <div key={p.id} className=\"flex items-center gap-2\"><Checkbox id={`preca-${p.id}`} checked={anexoExcavaciones.precauciones?.[p.id] || false} onCheckedChange={(c) => handleNestedChange('precauciones', p.id, !!c)} /><Label htmlFor={`preca-${p.id}`}>{p.label}</Label></div>\n                    ))}\n                </div>\n            </SectionWrapper>\n\n            <SectionWrapper title=\"Autorizaciones\">\n                 <div className=\"space-y-6\">\n                    <div className=\"p-4 border rounded-lg\">\n                        <p className=\"text-sm font-semibold mb-2\">Autoridad del Área</p>\n                        <p className=\"text-xs text-muted-foreground mb-4\">\"Al firmar como Autoridad del Area, estoy enterado del trabajo a realizar y apruebo su ejecucion bajo las medidas de seguridad contempladas en este permiso y sus documentos complementarios.\"</p>\n                        <div className=\"grid grid-cols-2 gap-4\">\n                            <Input placeholder=\"Nombre Completo\" value={anexoExcavaciones.autoridadArea?.nombre || ''} onChange={(e) => handleNestedChange('autoridadArea', 'nombre', e.target.value)} />\n                            <Input type=\"time\" placeholder=\"Hora\" value={anexoExcavaciones.autoridadArea?.hora || ''} onChange={(e) => handleNestedChange('autoridadArea', 'hora', e.target.value)} />\n                        </div>\n                        <Button variant=\"outline\" className=\"w-full mt-4\" onClick={() => openSignatureDialog('autoridadArea')}><Signature className=\"mr-2\"/>Firmar</Button>\n                        {anexoExcavaciones.autoridadArea?.firma && <img src={anexoExcavaciones.autoridadArea.firma} alt=\"Firma\" className=\"mt-2 border rounded-md max-h-20\" />}\n                    </div>\n                    <div className=\"p-4 border rounded-lg\">\n                        <p className=\"text-sm font-semibold mb-2\">Responsable del Trabajo</p>\n                        <p className=\"text-xs text-muted-foreground mb-4\">\"Al firmar como Responsable del Trabajo / Ejecutor, Manifiesto que entiendo el trabajo que voy a realizar y los riesgos asosciados a este, dispongo de los recursos necesarios y tomare las medidas de seguridad.\"</p>\n                        <div className=\"grid grid-cols-2 gap-4\">\n                             <Input placeholder=\"Nombre Completo\" value={anexoExcavaciones.responsableTrabajo?.nombre || ''} onChange={(e) => handleNestedChange('responsableTrabajo', 'nombre', e.target.value)} />\n                             <Input type=\"time\" placeholder=\"Hora\" value={anexoExcavaciones.responsableTrabajo?.hora || ''} onChange={(e) => handleNestedChange('responsableTrabajo', 'hora', e.target.value)} />\n                        </div>\n                        <Button variant=\"outline\" className=\"w-full mt-4\" onClick={() => openSignatureDialog('responsableTrabajo')}><Signature className=\"mr-2\"/>Firmar</Button>\n                        {anexoExcavaciones.responsableTrabajo?.firma && <img src={anexoExcavaciones.responsableTrabajo.firma} alt=\"Firma\" className=\"mt-2 border rounded-md max-h-20\" />}\n                    </div>\n                </div>\n            </SectionWrapper>\n            \n            <Dialog open={isSignatureDialogOpen} onOpenChange={setIsSignatureDialogOpen}>\n                <DialogContent>\n                    <DialogHeader><DialogTitle>Registrar Firma</DialogTitle></DialogHeader>\n                    <SignaturePad onSave={handleSaveSignature} />\n                </DialogContent>\n            </Dialog>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAZA;;;;;;;;;;;;;AAgBA,MAAM,iBAAgG,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,cAAc,KAAK,EAAE;IAC7I,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAc,AAAD,EAAE;IAC3C,qBACE,8OAAC,uIAAA,CAAA,cAAW;QAAC,MAAM;QAAQ,cAAc;;0BACvC,8OAAC,uIAAA,CAAA,qBAAkB;gBAAC,OAAO;0BACzB,cAAA,8OAAC,kIAAA,CAAA,SAAM;oBAAC,SAAQ;oBAAQ,WAAU;;sCAChC,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;sCACjD,8OAAC,oNAAA,CAAA,cAAW;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAG3B,8OAAC,uIAAA,CAAA,qBAAkB;gBAAC,WAAU;0BAC3B;;;;;;;;;;;;AAIT;AAEA,MAAM,kBAA8G,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,iBAC/I,8OAAC;QAAI,WAAU;;0BACX,8OAAC,iIAAA,CAAA,QAAK;gBAAC,SAAS;gBAAI,WAAU;0BAA8B;;;;;;0BAC5D,8OAAC,0IAAA,CAAA,aAAU;gBAAC,IAAI;gBAAI,OAAO,SAAS;gBAAM,eAAe;gBAAU,WAAU;;kCACzE,8OAAC;wBAAI,WAAU;;0CAA8B,8OAAC,0IAAA,CAAA,iBAAc;gCAAC,OAAM;gCAAK,IAAI,GAAG,GAAG,GAAG,CAAC;;;;;;0CAAI,8OAAC,iIAAA,CAAA,QAAK;gCAAC,SAAS,GAAG,GAAG,GAAG,CAAC;0CAAE;;;;;;;;;;;;kCACtH,8OAAC;wBAAI,WAAU;;0CAA8B,8OAAC,0IAAA,CAAA,iBAAc;gCAAC,OAAM;gCAAK,IAAI,GAAG,GAAG,GAAG,CAAC;;;;;;0CAAI,8OAAC,iIAAA,CAAA,QAAK;gCAAC,SAAS,GAAG,GAAG,GAAG,CAAC;0CAAE;;;;;;;;;;;;kCACtH,8OAAC;wBAAI,WAAU;;0CAA8B,8OAAC,0IAAA,CAAA,iBAAc;gCAAC,OAAM;gCAAK,IAAI,GAAG,GAAG,GAAG,CAAC;;;;;;0CAAI,8OAAC,iIAAA,CAAA,QAAK;gCAAC,SAAS,GAAG,GAAG,GAAG,CAAC;0CAAE;;;;;;;;;;;;;;;;;;;;;;;;AAKlI,MAAM,qBAAqB;IACvB;QAAE,IAAI;QAAsB,OAAO;IAA0I;IAC7K;QAAE,IAAI;QAAoB,OAAO;IAAqG;IACtI;QAAE,IAAI;QAAyB,OAAO;IAAoH;IAC1J;QAAE,IAAI;QAAyB,OAAO;IAAwI;IAC9K;QAAE,IAAI;QAAkB,OAAO;IAA4H;IAC3J;QAAE,IAAI;QAAqB,OAAO;IAAoI;IACtK;QAAE,IAAI;QAAuB,OAAO;IAA0I;IAC9K;QAAE,IAAI;QAAuB,OAAO;IAA2F;IAC/H;QAAE,IAAI;QAAiB,OAAO;IAA+H;IAC7J;QAAE,IAAI;QAAuB,OAAO;IAAqE;IACzG;QAAE,IAAI;QAAe,OAAO;IAAmD;IAC/E;QAAE,IAAI;QAAkB,OAAO;IAAuF;IACtH;QAAE,IAAI;QAA0B,OAAO;IAA8F;IACrI;QAAE,IAAI;QAAkB,OAAO;IAAiH;IAChJ;QAAE,IAAI;QAAqB,OAAO;IAA8I;IAChL;QAAE,IAAI;QAAqB,OAAO;IAAmH;IACrJ;QAAE,IAAI;QAAiB,OAAO;IAAyE;IACvG;QAAE,IAAI;QAAsB,OAAO;IAA6G;CACnJ;AAED,MAAM,wBAAwB;IAC1B;QAAE,IAAI;QAAgB,OAAO;IAAgB;IAC7C;QAAE,IAAI;QAAkB,OAAO;IAAiC;IAChE;QAAE,IAAI;QAAwB,OAAO;IAAwB;IAC7D;QAAE,IAAI;QAAY,OAAO;IAAW;IACpC;QAAE,IAAI;QAAqB,OAAO;IAAqB;IACvD;QAAE,IAAI;QAAoB,OAAO;IAAoB;IACrD;QAAE,IAAI;QAAwB,OAAO;IAAyB;IAC9D;QAAE,IAAI;QAA0B,OAAO;IAAoC;IAC3E;QAAE,IAAI;QAAqB,OAAO;IAAyB;IAC3D;QAAE,IAAI;QAAqB,OAAO;IAAyB;IAC3D;QAAE,IAAI;QAAqB,OAAO;IAAuB;IACzD;QAAE,IAAI;QAAiB,OAAO;IAAiB;IAC/C;QAAE,IAAI;QAA+B,OAAO;IAAgC;IAC5E;QAAE,IAAI;QAAyB,OAAO;IAA4B;IAClE;QAAE,IAAI;QAAgB,OAAO;IAAe;IAC5C;QAAE,IAAI;QAA4B,OAAO;IAA6B;CACzE;AAEM,SAAS;IACZ,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,gBAAa,AAAD;IACxC,MAAM,EAAE,WAAW,EAAE,iBAAiB,EAAE,GAAG;IAC3C,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAc,AAAD,EAAE;IACzE,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAc,AAAD,EAA8D;IAErH,MAAM,eAAe,CAAC;QAClB,SAAS;YAAE,MAAM;YAA6B;QAAQ;IAC1D;IAEA,MAAM,qBAAqB,CAAC,SAAyC,OAAe;QAChF,aAAa;YAAE,CAAC,QAAQ,EAAE;gBAAE,GAAG,AAAC,iBAAyB,CAAC,QAAQ;gBAAE,CAAC,MAAM,EAAE;YAAM;QAAE;IACzF;IAEA,MAAM,mBAAmB,CAAC,SAAuB,MAAmC,OAAe,OAA+B;QAC9H,MAAM,cAAc;eAAK,AAAC,iBAAiB,CAAC,QAAQ,EAAU,CAAC,KAAK,IAAI,EAAE;SAAE;QAC5E,WAAW,CAAC,MAAM,GAAG;YAAE,GAAG,WAAW,CAAC,MAAM;YAAE,CAAC,MAAM,EAAE;QAAM;QAC7D,mBAAmB,SAAS,MAAM;IACtC;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAe,AAAD,EAAE;QACZ,IAAI,CAAC,kBAAkB,UAAU,IAAI,CAAC,kBAAkB,UAAU,CAAC,SAAS,IAAI,kBAAkB,UAAU,CAAC,SAAS,CAAC,MAAM,KAAK,GAAG;YACjI,MAAM,sBAAsB,MAAM,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,IAAM,CAAC;oBAAE,KAAK,IAAI;oBAAG,QAAQ;oBAAI,OAAO;oBAAI,OAAO;gBAAG,CAAC;YAC5G,MAAM,wBAAwB,MAAM,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,IAAM,CAAC;oBAAE,KAAK,IAAI;oBAAG,QAAQ;oBAAI,OAAO;oBAAI,OAAO;gBAAG,CAAC;YAC9G,aAAa;gBAAE,YAAY;oBAAE,WAAW;oBAAqB,aAAa;gBAAsB;YAAE;QACtG;IACJ,GAAG;QAAC,kBAAkB,UAAU;KAAC;IAEjC,MAAM,sBAAsB,CAAC,SAAc,OAAgB;QACvD,iBAAiB;YAAE;YAAS;YAAO;QAAM;QACzC,yBAAyB;IAC7B;IAEA,MAAM,sBAAsB,CAAC;QACzB,IAAI,CAAC,eAAe;QACpB,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG;QAElC,IAAI,QAAQ,UAAU,CAAC,gBAAgB;YACnC,MAAM,CAAC,YAAY,KAAK,GAAG,QAAQ,KAAK,CAAC;YACzC,iBAAiB,YAA4B,MAAqC,OAAQ,SAAS;QACvG,OAAO,IAAI,QAAQ,UAAU,CAAC,YAAY;YACtC,MAAM,CAAC,eAAe,WAAW,GAAG,QAAQ,KAAK,CAAC;YAClD,mBAAmB,UAAU,YAAY;gBAAE,GAAI,AAAC,kBAAkB,MAAM,EAAU,CAAC,WAAW,IAAI,CAAC,CAAC;gBAAG,OAAO;YAAU;QAC5H,OAAO,IAAI,YAAY,eAAe;YACjC,mBAAmB,eAAe,SAAS;QAChD,OAAO;YACF,mBAAmB,SAAgB,SAAS;QACjD;QAEA,yBAAyB;IAC7B;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAmD;;;;;;kCACjE,8OAAC;wBAAE,WAAU;kCAAgC;;;;;;;;;;;;0BAGjD,8OAAC;gBAAe,OAAM;gBAAgC,WAAW;;kCAC7D,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;;kDAAI,8OAAC,iIAAA,CAAA,QAAK;kDAAC;;;;;;kDAAoB,8OAAC,iIAAA,CAAA,QAAK;wCAAC,OAAO,YAAY,iBAAiB,IAAI;wCAAI,QAAQ;wCAAC,QAAQ;;;;;;;;;;;;0CACpG,8OAAC;;kDAAI,8OAAC,iIAAA,CAAA,QAAK;kDAAC;;;;;;kDAAwB,8OAAC,iIAAA,CAAA,QAAK;wCAAC,OAAO,YAAY,cAAc,IAAI;wCAAI,QAAQ;wCAAC,QAAQ;;;;;;;;;;;;;;;;;;kCAExG,8OAAC;wBAAI,WAAU;;0CACZ,8OAAC;;kDAAI,8OAAC,iIAAA,CAAA,QAAK;kDAAC;;;;;;kDAA0C,8OAAC,iIAAA,CAAA,QAAK;wCAAC,OAAO,kBAAkB,UAAU,EAAE,YAAY;wCAAI,UAAU,CAAC,IAAM,mBAAmB,cAAc,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0CAC9L,8OAAC;;kDAAI,8OAAC,iIAAA,CAAA,QAAK;kDAAC;;;;;;kDAAiB,8OAAC,iIAAA,CAAA,QAAK;wCAAC,OAAO,kBAAkB,UAAU,EAAE,YAAY;wCAAI,UAAU,CAAC,IAAM,mBAAmB,cAAc,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;kCAEzK,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;;kDAAI,8OAAC,iIAAA,CAAA,QAAK;kDAAC;;;;;;kDAAoB,8OAAC,iIAAA,CAAA,QAAK;wCAAC,OAAO,kBAAkB,kBAAkB,EAAE,eAAe;wCAAI,UAAU,CAAC,IAAM,mBAAmB,sBAAsB,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0CAC9L,8OAAC;;kDAAI,8OAAC,iIAAA,CAAA,QAAK;kDAAC;;;;;;kDAAoB,8OAAC,iIAAA,CAAA,QAAK;wCAAC,OAAO,kBAAkB,kBAAkB,EAAE,eAAe;wCAAI,UAAU,CAAC,IAAM,mBAAmB,sBAAsB,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0CAC9L,8OAAC;;kDAAI,8OAAC,iIAAA,CAAA,QAAK;kDAAC;;;;;;kDAAc,8OAAC,iIAAA,CAAA,QAAK;wCAAC,OAAO,kBAAkB,kBAAkB,EAAE,SAAS;wCAAI,UAAU,CAAC,IAAM,mBAAmB,sBAAsB,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0CAC5K,8OAAC;;kDAAI,8OAAC,iIAAA,CAAA,QAAK;kDAAC;;;;;;kDAAc,8OAAC,iIAAA,CAAA,QAAK;wCAAC,OAAO,kBAAkB,kBAAkB,EAAE,SAAS;wCAAI,UAAU,CAAC,IAAM,mBAAmB,sBAAsB,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;;;;;;;0BAIpL,8OAAC;gBAAe,OAAM;0BAClB,cAAA,8OAAC;oBAAI,WAAU;8BACV,mBAAmB,GAAG,CAAC,CAAA,kBACpB,8OAAC;4BAA2B,IAAI,CAAC,QAAQ,EAAE,EAAE,EAAE,EAAE;4BAAE,OAAO,EAAE,KAAK;4BAAE,OAAO,kBAAkB,kBAAkB,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI;4BAAM,UAAU,CAAC,IAAM,mBAAmB,sBAAsB,EAAE,EAAE,EAAE;2BAA1K,EAAE,EAAE;;;;;;;;;;;;;;;0BAKtC,8OAAC;gBAAe,OAAM;0BAClB,cAAA,8OAAC;oBAAI,WAAU;8BACV,sBAAsB,GAAG,CAAC,CAAA,kBACvB,8OAAC;4BAAe,WAAU;;8CAA0B,8OAAC,oIAAA,CAAA,WAAQ;oCAAC,IAAI,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;oCAAE,SAAS,kBAAkB,YAAY,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI;oCAAO,iBAAiB,CAAC,IAAM,mBAAmB,gBAAgB,EAAE,EAAE,EAAE,CAAC,CAAC;;;;;;8CAAM,8OAAC,iIAAA,CAAA,QAAK;oCAAC,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;8CAAG,EAAE,KAAK;;;;;;;2BAArP,EAAE,EAAE;;;;;;;;;;;;;;;0BAK1B,8OAAC;gBAAe,OAAM;0BACjB,cAAA,8OAAC;oBAAI,WAAU;;sCACZ,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAE,WAAU;8CAA6B;;;;;;8CAC1C,8OAAC;oCAAE,WAAU;8CAAqC;;;;;;8CAClD,8OAAC;oCAAI,WAAU;;sDACX,8OAAC,iIAAA,CAAA,QAAK;4CAAC,aAAY;4CAAkB,OAAO,kBAAkB,aAAa,EAAE,UAAU;4CAAI,UAAU,CAAC,IAAM,mBAAmB,iBAAiB,UAAU,EAAE,MAAM,CAAC,KAAK;;;;;;sDACxK,8OAAC,iIAAA,CAAA,QAAK;4CAAC,MAAK;4CAAO,aAAY;4CAAO,OAAO,kBAAkB,aAAa,EAAE,QAAQ;4CAAI,UAAU,CAAC,IAAM,mBAAmB,iBAAiB,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAEzK,8OAAC,kIAAA,CAAA,SAAM;oCAAC,SAAQ;oCAAU,WAAU;oCAAc,SAAS,IAAM,oBAAoB;;sDAAkB,8OAAC,4MAAA,CAAA,YAAS;4CAAC,WAAU;;;;;;wCAAQ;;;;;;;gCACnI,kBAAkB,aAAa,EAAE,uBAAS,8OAAC;oCAAI,KAAK,kBAAkB,aAAa,CAAC,KAAK;oCAAE,KAAI;oCAAQ,WAAU;;;;;;;;;;;;sCAEtH,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAE,WAAU;8CAA6B;;;;;;8CAC1C,8OAAC;oCAAE,WAAU;8CAAqC;;;;;;8CAClD,8OAAC;oCAAI,WAAU;;sDACV,8OAAC,iIAAA,CAAA,QAAK;4CAAC,aAAY;4CAAkB,OAAO,kBAAkB,kBAAkB,EAAE,UAAU;4CAAI,UAAU,CAAC,IAAM,mBAAmB,sBAAsB,UAAU,EAAE,MAAM,CAAC,KAAK;;;;;;sDAClL,8OAAC,iIAAA,CAAA,QAAK;4CAAC,MAAK;4CAAO,aAAY;4CAAO,OAAO,kBAAkB,kBAAkB,EAAE,QAAQ;4CAAI,UAAU,CAAC,IAAM,mBAAmB,sBAAsB,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAEpL,8OAAC,kIAAA,CAAA,SAAM;oCAAC,SAAQ;oCAAU,WAAU;oCAAc,SAAS,IAAM,oBAAoB;;sDAAuB,8OAAC,4MAAA,CAAA,YAAS;4CAAC,WAAU;;;;;;wCAAQ;;;;;;;gCACxI,kBAAkB,kBAAkB,EAAE,uBAAS,8OAAC;oCAAI,KAAK,kBAAkB,kBAAkB,CAAC,KAAK;oCAAE,KAAI;oCAAQ,WAAU;;;;;;;;;;;;;;;;;;;;;;;0BAKxI,8OAAC,kIAAA,CAAA,SAAM;gBAAC,MAAM;gBAAuB,cAAc;0BAC/C,cAAA,8OAAC,kIAAA,CAAA,gBAAa;;sCACV,8OAAC,kIAAA,CAAA,eAAY;sCAAC,cAAA,8OAAC,kIAAA,CAAA,cAAW;0CAAC;;;;;;;;;;;sCAC3B,8OAAC,4IAAA,CAAA,eAAY;4BAAC,QAAQ;;;;;;;;;;;;;;;;;;;;;;;AAK1C","debugId":null}},
    {"offset": {"line": 9789, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/VerificacionPeligrosStep.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport { usePermitForm } from '../form-context';\nimport { Label } from '@/components/ui/label';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Button } from '@/components/ui/button';\nimport { ChevronDown } from 'lucide-react';\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible';\nimport type { VerificacionPeligros } from '@/types';\n\nconst SectionWrapper: React.FC<{ title: string; children: React.ReactNode; defaultOpen?: boolean }> = ({ title, children, defaultOpen = false }) => {\n  const [isOpen, setIsOpen] = React.useState(defaultOpen);\n  return (\n    <Collapsible open={isOpen} onOpenChange={setIsOpen}>\n      <CollapsibleTrigger asChild>\n        <Button variant=\"ghost\" className=\"w-full justify-between p-3 bg-gray-100 rounded-lg cursor-pointer border\">\n          <h3 className=\"text-lg font-bold text-gray-700\">{title}</h3>\n          <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n        </Button>\n      </CollapsibleTrigger>\n      <CollapsibleContent className=\"p-4 border-l border-r border-b rounded-b-lg\">\n        {children}\n      </CollapsibleContent>\n    </Collapsible>\n  );\n};\n\nconst RadioGroupField: React.FC<{ id: string; label: string; value: string; onChange: (value: string) => void; }> = ({ id, label, value, onChange }) => (\n    <div className=\"flex justify-between items-center p-3 border rounded-md bg-white\">\n        <Label htmlFor={id} className=\"text-sm font-medium flex-1\">{label}</Label>\n        <RadioGroup id={id} value={value || 'na'} onValueChange={onChange} className=\"flex gap-4\">\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"si\" id={`${id}-si`} /><Label htmlFor={`${id}-si`}>SI</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"no\" id={`${id}-no`} /><Label htmlFor={`${id}-no`}>NO</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"na\" id={`${id}-na`} /><Label htmlFor={`${id}-na`}>N/A</Label></div>\n        </RadioGroup>\n    </div>\n);\n\nconst peligrosCategorias = {\n    fisicos: [\n        { id: 'ruido', label: 'Ruido' },\n        { id: 'iluminacionDeficiente', label: 'Iluminación Deficiente' },\n        { id: 'temperaturasExtremas', label: 'Temperaturas Extremas' },\n        { id: 'vibracion', label: 'Vibración' },\n        { id: 'radiacionIonizante', label: 'Radiación Ionizante' },\n        { id: 'radiacionNoIonizante', label: 'Radiación NO ionizante' },\n        { id: 'disconfortTermico', label: 'Disconfort térmico' },\n        { id: 'superficiesCalientes', label: 'Superficies calientes' },\n    ],\n    quimicos: [\n        { id: 'gasesVapores', label: 'Gases y vapores' },\n        { id: 'humosMetalicos', label: 'Humos metálicos' },\n        { id: 'fibras', label: 'Fibras' },\n        { id: 'polvos', label: 'Polvos' },\n        { id: 'liquidosNieblas', label: 'Líquidos Nieblas' },\n        { id: 'liquidosRocios', label: 'Líquidos Rocios' },\n    ],\n    seguridad: [\n        { id: 'elementosMaquinas', label: 'Elementos de máquinas' },\n        { id: 'herramientasMecanicas', label: 'Herramientas mecánicas' },\n        { id: 'herramientasManuales', label: 'Herramientas manuales' },\n        { id: 'equiposMovimiento', label: 'Equipos en movimiento' },\n        { id: 'proyeccionParticulas', label: 'Proyección de partículas' },\n        { id: 'proyeccionFluidos', label: 'Proyección de fluidos' },\n        { id: 'equiposPresurizados', label: 'Equipos presurizados' },\n        { id: 'intervencionSistemasElectricos', label: 'Intervención sistemas eléctricos' },\n        { id: 'adyacenteEquiposLineasEnergizados', label: 'Adyacente equipos / líneas energizados' },\n        { id: 'altaTension', label: 'Alta tensión' },\n        { id: 'bajaTension', label: 'Baja tensión' },\n        { id: 'estatica', label: 'Estática' },\n        { id: 'fuga', label: 'Fuga' },\n        { id: 'incendio', label: 'Incendio' },\n        { id: 'explosion', label: 'Explosión' },\n    ],\n    locativos: [\n        { id: 'trabajoAlturas', label: 'Trabajo alturas' },\n        { id: 'espaciosConfinados', label: 'Espacios confinados' },\n        { id: 'superficiesIrregulares', label: 'Superficies irregulares' },\n        { id: 'superficiesDeslizantes', label: 'Superficies deslizantes' },\n        { id: 'superficiesConDesnivel', label: 'Superficies con desnivel' },\n        { id: 'condicionesOrdenAseo', label: 'Condiciones de orden y aseo' },\n        { id: 'transitoVehiculos', label: 'Tránsito de vehículos' },\n        { id: 'almacenamiento', label: 'Almacenamiento' },\n    ],\n    biologicoAmbiental: [\n        { id: 'picaduras', label: 'Picaduras' },\n        { id: 'mordeduras', label: 'Mordeduras' },\n        { id: 'bacteriasVirusHongos', label: 'Bacterias, virus hongos' },\n        { id: 'fluidosExcrementos', label: 'Fluidos o excrementos' },\n        { id: 'generacionResiduos', label: 'Generación de residuos' },\n        { id: 'emisionesVertimientos', label: 'Emisiones y/o vertimientos' },\n        { id: 'derramePotencialSustanciasQuimicas', label: 'Derrame potencial sustancias químicas' },\n        { id: 'usoMaterialArrastreCantera', label: 'Uso material de arrastre o cantera' },\n    ],\n    biomecanicos: [\n        { id: 'posturasForzadas', label: 'Posturas forzadas' },\n        { id: 'posturasProlongada', label: 'Posturas prolongada' },\n        { id: 'esfuerzo', label: 'Esfuerzo' },\n        { id: 'movimientoRepetitivo', label: 'Movimiento repetitivo' },\n        { id: 'movimientoAntigravitacional', label: 'Movimiento antigravitacional' },\n        { id: 'manipulacionManualCargas', label: 'Manipulación manual de cargas' },\n    ],\n    psicosocial: [\n        { id: 'pausas', label: 'Pausas' },\n        { id: 'trabajoNocturno', label: 'Trabajo nocturno' },\n        { id: 'rotacion', label: 'Rotación' },\n        { id: 'horasExtras', label: 'Horas extras' },\n        { id: 'turno', label: 'Turno' },\n    ],\n};\n\nexport function VerificacionPeligrosStep() {\n    const { state, dispatch } = usePermitForm();\n    const { verificacionPeligros } = state;\n\n    const handleUpdate = (categoria: keyof VerificacionPeligros, campo: string, valor: string) => {\n        dispatch({\n            type: 'UPDATE_VERIFICACION_PELIGROS',\n            payload: {\n                [categoria]: {\n                    ...verificacionPeligros?.[categoria],\n                    [campo]: valor,\n                },\n            },\n        });\n    };\n\n    return (\n        <div className=\"space-y-8\">\n            <div className=\"text-center\">\n                <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">\n                    Verificación de Peligros\n                </h2>\n                <p className=\"text-muted-foreground text-sm\">\n                    Identifique los peligros asociados a la actividad a realizar.\n                </p>\n            </div>\n\n            {Object.entries(peligrosCategorias).map(([categoria, peligros]) => (\n                <SectionWrapper key={categoria} title={categoria.charAt(0).toUpperCase() + categoria.slice(1).replace(/([A-Z])/g, ' $1')}>\n                    <div className=\"space-y-2\">\n                        {peligros.map(peligro => (\n                            <RadioGroupField\n                                key={peligro.id}\n                                id={`${categoria}-${peligro.id}`}\n                                label={peligro.label}\n                                value={(verificacionPeligros as any)?.[categoria]?.[peligro.id] || 'na'}\n                                onChange={(value) => handleUpdate(categoria as keyof VerificacionPeligros, peligro.id, value)}\n                            />\n                        ))}\n                    </div>\n                </SectionWrapper>\n            ))}\n\n            <div className=\"p-4 border-t-2 border-dashed mt-8\">\n                <h4 className=\"font-bold text-lg mb-2 text-gray-800\">PELIGROS ADICIONALES A LA ACTIVIDAD Y MEDIDAS DE CONTROL</h4>\n                <ul className=\"list-disc list-inside space-y-2 text-sm text-gray-600\">\n                    <li>Definir el área adecuada para tomar agua, refrigerio, uso del baño (si es necesario). No hacer consumo de alimentos en el área de operación.</li>\n                    <li>Todos los trabajadores envueltos en la actividad deben conocer y cumplir las reglas de seguridad de la compañía así como las propias del área.</li>\n                    <li>Cualquier cambio en las condiciones del trabajo se deberá suspender actividades y realizar un ATS complementario.</li>\n                </ul>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 10333, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/EppEmergenciasStep.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport { usePermitForm } from '../form-context';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Button } from '@/components/ui/button';\nimport { ChevronDown, AlertTriangle } from 'lucide-react';\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible';\nimport type { EppEmergencias } from '@/types';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\n\n\ninterface EppEmergenciasStepProps {\n    eppEmergencias: EppEmergencias;\n    onUpdate: (updates: Partial<EppEmergencias>) => void;\n}\n\n\nconst SectionWrapper: React.FC<{ \n    title: string; \n    children: React.ReactNode; \n    defaultOpen?: boolean \n}> = ({ title, children, defaultOpen = false }) => {\n    const [isOpen, setIsOpen] = React.useState(defaultOpen);\n    return (\n        <Collapsible open={isOpen} onOpenChange={setIsOpen}>\n            <CollapsibleTrigger asChild>\n                <Button \n                    variant=\"ghost\" \n                    className=\"w-full justify-between p-3 bg-gray-100 rounded-lg cursor-pointer border\"\n                >\n                    <h3 className=\"text-lg font-bold text-gray-700\">{title}</h3>\n                    <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n                </Button>\n            </CollapsibleTrigger>\n            <CollapsibleContent className=\"p-4 border-l border-r border-b rounded-b-lg\">\n                {children}\n            </CollapsibleContent>\n        </Collapsible>\n    );\n};\n\n\nconst RadioGroupField: React.FC<{ \n    id: string; \n    label: string; \n    value: string; \n    onChange: (value: string) => void;\n    showInput?: boolean;\n    inputValue?: string;\n    onInputChange?: (value: string) => void;\n    placeholder?: string;\n    isSelect?: boolean;\n    selectOptions?: string[];\n    hasError?: boolean;\n}> = ({ \n    id, \n    label, \n    value, \n    onChange, \n    showInput = false, \n    inputValue, \n    onInputChange, \n    placeholder,\n    isSelect = false,\n    selectOptions = [],\n    hasError = false\n}) => (\n    <div className={`flex flex-col space-y-2 p-3 border rounded-md bg-white transition-all ${\n        hasError ? 'border-red-500 border-2 bg-red-50' : ''\n    }`}>\n        <div className=\"flex justify-between items-center\">\n            <Label \n                htmlFor={id} \n                className={`text-sm font-medium flex-1 ${hasError ? 'text-red-700' : ''}`}\n            >\n                {label}\n                {hasError && (\n                    <span className=\"ml-2 text-red-600 font-bold\">\n                        ⚠️ Debe seleccionar \"SI\"\n                    </span>\n                )}\n            </Label>\n            <RadioGroup \n                id={id} \n                value={value || ''} \n                onValueChange={onChange} \n                className=\"flex gap-4\"\n            >\n                <div className=\"flex items-center space-x-2\">\n                    <RadioGroupItem value=\"si\" id={`${id}-si`} />\n                    <Label htmlFor={`${id}-si`}>SI</Label>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                    <RadioGroupItem value=\"no\" id={`${id}-no`} />\n                    <Label htmlFor={`${id}-no`}>NO</Label>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                    <RadioGroupItem value=\"na\" id={`${id}-na`} />\n                    <Label htmlFor={`${id}-na`}>N/A</Label>\n                </div>\n            </RadioGroup>\n        </div>\n        {value === 'si' && onInputChange && (\n            isSelect ? (\n                <Select value={inputValue} onValueChange={onInputChange}>\n                    <SelectTrigger className=\"mt-2\">\n                        <SelectValue placeholder={placeholder || \"Seleccione una opción\"} />\n                    </SelectTrigger>\n                    <SelectContent>\n                        {selectOptions.map(option => (\n                            <SelectItem key={option} value={option}>{option}</SelectItem>\n                        ))}\n                    </SelectContent>\n                </Select>\n            ) : showInput ? (\n                <Input \n                    className=\"mt-2\"\n                    placeholder={placeholder || 'Especificar...'}\n                    value={inputValue || ''}\n                    onChange={(e) => onInputChange(e.target.value)}\n                />\n            ) : null\n        )}\n    </div>\n);\n\n\n// ✅ MANTENIDO: Array de EPP items (oculto en UI pero disponible para futuro uso)\nexport const eppItems = [\n    { id: 'ropaTrabajo', label: 'Ropa de trabajo', manual: false },\n    { id: 'overolIgnifugo', label: 'Overol Ignífugo, Categoría:', manual: true },\n    { id: 'proteccionCuerpoSoldador', label: 'Protección cuerpo para soldador', manual: false },\n    { id: 'casco', label: 'Casco', manual: true, isSelect: true, selectOptions: ['Sin Barbuquejo', 'Con Barbuquejo'] },\n    { id: 'chavoTelaCarnaza', label: 'Chavo en tela o carnaza', manual: false },\n    { id: 'botasSeguridadDielectrica', label: 'Botas de seguridad + dielectrica', manual: false },\n    { id: 'proteccionMetatarso', label: 'Proteccion metatarso', manual: false },\n    { id: 'monogafasGafas', label: 'Monogafas / Gafas', manual: false },\n    { id: 'caretaSoldador', label: 'Careta de soldador', manual: false },\n    { id: 'gafasOxicorte', label: 'Gafas de oxicorte', manual: false },\n    { id: 'caretaProteccionTotal', label: 'Careta de proteccion total', manual: false },\n    { id: 'proteccionAuditivaInsercion', label: 'Proteccion auditiva Inserción', manual: false },\n    { id: 'proteccionAuditivaCopa', label: 'Proteccion auditiva copa', manual: false },\n    { id: 'guantesAntiCorte', label: 'Guantes anti corte', manual: false },\n    { id: 'guantesSustanciasQuimicas', label: 'Guantes sustancias químicas', manual: false },\n    { id: 'guantesTemperatura', label: 'Guantes temperatura', manual: false },\n    { id: 'arnes', label: 'Arnés, Tipo:', manual: true },\n    { id: 'mosqueton', label: 'Mosquetón', manual: false },\n    { id: 'eslinga', label: 'Eslinga, Tipo:', manual: true },\n    { id: 'lineaVida', label: 'Línea de vida, Tipo:', manual: true },\n    { id: 'puntoAnclaje', label: 'Punto de anclaje (Cual):', manual: true },\n    { id: 'senalizacion', label: 'Señalización', manual: false },\n    { id: 'barandas', label: 'Barandas', manual: false },\n    { id: 'delimitacionPerimetral', label: 'Delimitación Perimetral', manual: false },\n    { id: 'controlAcceso', label: 'Control de acceso', manual: false },\n];\n\n\n// 🔥 ITEMS DE EMERGENCIAS CON FLAG DE REQUERIDO\nconst emergenciasItems = [\n    { \n        id: 'notificacion', \n        label: 'NOTIFICACIÓN: El personal del área potencialmente afectado y los trabajadores vecinos fueron notificados del trabajo a realizar', \n        required: true \n    },\n    { \n        id: 'recordarVerificar', \n        label: 'EMERGENCIAS: Recordar y verificar', \n        required: false,\n        isHeader: true // Marca como encabezado\n    },\n    { \n        id: 'potenciales', \n        label: 'A.- Las emergencias potenciales que pueden ocurrir', \n        required: true \n    },\n    { \n        id: 'procedimientos', \n        label: 'B.- Los procedimientos establecidos para tales situaciones.', \n        required: true \n    },\n    { \n        id: 'rutasEvacuacion', \n        label: 'C.- Rutas de Evacuación', \n        required: true \n    },\n    { \n        id: 'puntosEncuentro', \n        label: 'D.- Puntos de encuentro', \n        required: true \n    },\n    { \n        id: 'equiposEmergencia', \n        label: 'E.- Ubicación de equipos de emergencia en el sitio de trabajo', \n        required: true \n    },\n    { \n        id: 'ubicacionBrigadistas', \n        label: 'F.- Ubicación de Brigadistas cercanos', \n        required: true \n    },\n];\n\n\n// 🔥 FUNCIÓN DE VALIDACIÓN EXPORTABLE\nexport const validateEmergencias = (emergencias: any): { \n    isValid: boolean; \n    errors: string[];\n    hasNoResponses: boolean;\n} => {\n    const errors: string[] = [];\n    const requiredFields = emergenciasItems.filter(item => item.required);\n    let hasNoResponses = false;\n\n    requiredFields.forEach(item => {\n        const value = emergencias?.[item.id];\n        \n        if (value === 'no') {\n            errors.push(`❌ ${item.label}`);\n            hasNoResponses = true;\n        } else if (!value || value === '') {\n            errors.push(`⚠️ ${item.label} (No seleccionado)`);\n        }\n    });\n\n    return {\n        isValid: errors.length === 0,\n        errors,\n        hasNoResponses\n    };\n};\n\n\nexport function EppEmergenciasStep({ eppEmergencias, onUpdate }: EppEmergenciasStepProps) {\n    const [validationErrors, setValidationErrors] = React.useState<string[]>([]);\n    const [showValidation, setShowValidation] = React.useState(false);\n    const [hasNoResponses, setHasNoResponses] = React.useState(false);\n\n    // 🔥 VALIDACIÓN EN TIEMPO REAL\n    React.useEffect(() => {\n        const validation = validateEmergencias(eppEmergencias.emergencias);\n        setValidationErrors(validation.errors);\n        setHasNoResponses(validation.hasNoResponses);\n    }, [eppEmergencias.emergencias]);\n\n    const handleUpdate = (section: keyof EppEmergencias, field: string, value: string) => {\n        onUpdate({\n            [section]: {\n                ...(eppEmergencias as any)[section],\n                [field]: value,\n            },\n        });\n        // Mostrar validación después del primer cambio\n        setShowValidation(true);\n    };\n\n    // 🔥 FUNCIÓN PARA VERIFICAR SI UN CAMPO TIENE ERROR\n    const hasFieldError = (fieldId: string): boolean => {\n        const item = emergenciasItems.find(i => i.id === fieldId);\n        if (!item?.required) return false;\n        \n        const value = eppEmergencias.emergencias?.[fieldId];\n        return showValidation && (value === 'no' || !value);\n    };\n\n    return (\n        <div className=\"space-y-8\">\n            <div className=\"text-center\">\n                <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">\n                    Manejo de Emergencias\n                </h2>\n                <p className=\"text-muted-foreground text-sm\">\n                    Verifique las notificaciones y procedimientos de emergencia.\n                </p>\n            </div>\n\n            {/* 🔥 ALERTA DE VALIDACIÓN */}\n            {showValidation && validationErrors.length > 0 && (\n                <Alert \n                    variant=\"destructive\" \n                    className=\"border-2 border-red-500 bg-red-50\"\n                >\n                    <AlertTriangle className=\"h-5 w-5\" />\n                    <AlertTitle className=\"font-bold text-lg\">\n                        🚫 No se puede continuar al siguiente paso\n                    </AlertTitle>\n                    <AlertDescription className=\"space-y-3\">\n                        <p className=\"font-semibold text-base\">\n                            {hasNoResponses \n                                ? 'Todas las condiciones de emergencia DEBEN cumplirse (respuesta \"SI\"):'\n                                : 'Complete los siguientes campos para continuar:'\n                            }\n                        </p>\n                        <ul className=\"list-none pl-0 space-y-2 mt-3\">\n                            {validationErrors.map((error, index) => (\n                                <li \n                                    key={index} \n                                    className=\"text-sm bg-white p-2 rounded border border-red-300\"\n                                >\n                                    {error}\n                                </li>\n                            ))}\n                        </ul>\n                        <p className=\"text-xs mt-4 font-semibold text-red-800\">\n                            💡 Todas las condiciones de la A a la F deben estar en \"SI\" para poder avanzar al siguiente paso.\n                        </p>\n                    </AlertDescription>\n                </Alert>\n            )}\n\n            <SectionWrapper title=\"Notificaciones y Manejo de Emergencias\" defaultOpen>\n                <div className=\"space-y-2\">\n                    {emergenciasItems.map(item => {\n                        // Renderizar como encabezado\n                        if (item.isHeader) {\n                            return (\n                                <h3 key={item.id} className=\"font-semibold text-gray-800 pt-4 pb-2 text-base\">\n                                    {item.label}\n                                </h3>\n                            );\n                        }\n                        \n                        // Renderizar como campo\n                        return (\n                            <RadioGroupField\n                                key={item.id}\n                                id={`emergencia-${item.id}`}\n                                label={item.label}\n                                value={eppEmergencias.emergencias?.[item.id] as string}\n                                onChange={(value) => handleUpdate('emergencias', item.id, value)}\n                                hasError={hasFieldError(item.id)}\n                            />\n                        );\n                    })}\n                </div>\n            </SectionWrapper>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 10954, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/WorkersStep.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Badge } from '@/components/ui/badge';\nimport { UserPlus, Edit, Trash2, MoreVertical, AlertCircle } from 'lucide-react';\nimport type { ExternalWorker } from '@/types';\nimport Image from 'next/image';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { usePermitForm } from '../form-context';\n\ninterface WorkersStepProps {\n  workers: ExternalWorker[];\n  onAddWorker: () => void;\n  onEditWorker: (worker: ExternalWorker, index: number) => void;\n  onRemoveWorker: (index: number) => void;\n}\n\nexport function WorkersStep({ workers, onAddWorker, onEditWorker, onRemoveWorker }: WorkersStepProps) {\n  const { state } = usePermitForm();\n  const maxTrabajadores = parseInt(state.generalInfo.numTrabajadores || '0', 10);\n  \n  // Verificar si hay trabajadores sin firma\n  const hasWorkerWithoutSignature = workers.some(worker => !worker.firmaApertura);\n  \n  // Verificar si se alcanzó el límite de trabajadores\n  const isLimitReached = workers.length >= maxTrabajadores;\n  \n  // Determinar si se puede agregar un nuevo trabajador\n  const canAddWorker = !isLimitReached && !hasWorkerWithoutSignature;\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">\n          Gestión de Trabajadores\n        </h2>\n        <div className=\"text-muted-foreground text-sm max-w-3xl mx-auto text-left space-y-2\">\n            <p className=\"font-semibold\">FIRMAS:</p>\n            <ol className=\"list-decimal list-outside space-y-2 pl-5\">\n              <li>\n                Al firmar, los trabajadores aceptan el tratamiento de sus datos personales, manifiestan su buen estado de salud y confirman haber comprendido los riesgos y controles de la actividad.\n              </li>\n              <li>\n                Se verifican certificados de aptitud médica para Trabajos en alturas y espacios confinados; según aplique, con fecha de expedición inferior a un año.\n              </li>\n              <li>\n                Se verifican competencia - entrenamiento para TSA, TEC, trabajo en caliente, energías peligrosas, operación de equipo o maquinaria, trabajos con energía eléctrica; según aplique.\n              </li>\n              <li>\n                Se verifican el estado de afiliación al sistema de seguridad social (EPS, ARL, Fondo de Pensiones).\n              </li>\n              <li>\n                Para espacios confinados aplican lo siguientes ROLES: Trabajador Entrante, Vigía, Supervisor.\n              </li>\n            </ol>\n        </div>\n      </div>\n\n      <Card>\n        <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-4\">\n          <div className=\"space-y-1\">\n            <CardTitle>Lista de Trabajadores</CardTitle>\n            <p className=\"text-sm text-muted-foreground\">\n              Ten presente que de acuerdo a la información relacionada en información general, \n              puede registrar máximo <span className=\"font-semibold text-primary\">{maxTrabajadores}</span> trabajador{maxTrabajadores !== 1 ? 'es' : ''}.\n            </p>\n          </div>\n          <Button \n            onClick={onAddWorker} \n            size=\"sm\"\n            disabled={!canAddWorker}\n          >\n            <UserPlus className=\"mr-2 h-4 w-4\" /> Agregar Trabajador\n          </Button>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          {/* Alertas de validación */}\n          {hasWorkerWithoutSignature && (\n            <Alert variant=\"destructive\">\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>\n                Debe completar la firma del trabajador anterior antes de agregar uno nuevo.\n              </AlertDescription>\n            </Alert>\n          )}\n          \n          {isLimitReached && !hasWorkerWithoutSignature && (\n            <Alert>\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>\n                Ha alcanzado el límite de {maxTrabajadores} trabajador{maxTrabajadores !== 1 ? 'es' : ''}. \n                Si necesita agregar más, actualice el número en la sección de Información General.\n              </AlertDescription>\n            </Alert>\n          )}\n\n          {/* Badge de contador */}\n          <div className=\"flex justify-between items-center pb-2\">\n            <Badge variant={workers.length === maxTrabajadores ? \"default\" : \"secondary\"}>\n              {workers.length} de {maxTrabajadores} trabajador{maxTrabajadores !== 1 ? 'es' : ''} registrado{workers.length !== 1 ? 's' : ''}\n            </Badge>\n            {workers.length > 0 && (\n              <Badge variant={hasWorkerWithoutSignature ? \"destructive\" : \"outline\"}>\n                {workers.filter(w => w.firmaApertura).length} firmado{workers.filter(w => w.firmaApertura).length !== 1 ? 's' : ''}\n              </Badge>\n            )}\n          </div>\n\n          {/* Tabla responsive */}\n          <div className=\"rounded-md border overflow-hidden\">\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead>Nombre</TableHead>\n                  <TableHead className=\"hidden md:table-cell\">Cédula</TableHead>\n                  <TableHead className=\"hidden sm:table-cell\">Rol</TableHead>\n                  <TableHead className=\"hidden lg:table-cell\">Firma Apertura</TableHead>\n                  <TableHead className=\"text-right w-[80px]\">Acciones</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {workers.length === 0 ? (\n                  <TableRow>\n                    <TableCell colSpan={5} className=\"h-32 text-center\">\n                      <div className=\"flex flex-col items-center justify-center text-muted-foreground\">\n                        <UserPlus className=\"h-10 w-10 mb-2 opacity-50\" />\n                        <p className=\"font-medium\">No hay trabajadores agregados</p>\n                        <p className=\"text-sm\">Haga clic en \"Agregar Trabajador\" para comenzar</p>\n                      </div>\n                    </TableCell>\n                  </TableRow>\n                ) : (\n                  workers.map((worker, index) => (\n                    <TableRow key={index} className={!worker.firmaApertura ? 'bg-yellow-50/50' : ''}>\n                      <TableCell className=\"font-medium\">\n                        <div className=\"flex flex-col\">\n                          <span>{worker.nombre}</span>\n                          <div className=\"flex flex-col gap-1 md:hidden mt-1\">\n                            <span className=\"text-xs text-muted-foreground\">{worker.cedula}</span>\n                            <Badge variant=\"outline\" className=\"w-fit text-xs\">{worker.rol}</Badge>\n                          </div>\n                        </div>\n                      </TableCell>\n                      <TableCell className=\"hidden md:table-cell\">{worker.cedula}</TableCell>\n                      <TableCell className=\"hidden sm:table-cell\">\n                        <Badge variant=\"outline\">{worker.rol}</Badge>\n                      </TableCell>\n                      <TableCell className=\"hidden lg:table-cell\">\n                        {worker.firmaApertura ? (\n                          <Image \n                            src={worker.firmaApertura} \n                            alt={`Firma de ${worker.nombre}`} \n                            width={80} \n                            height={40} \n                            className=\"border rounded-md\" \n                          />\n                        ) : (\n                          <Badge variant=\"destructive\" className=\"text-xs\">\n                            Sin Firma\n                          </Badge>\n                        )}\n                      </TableCell>\n                      <TableCell className=\"text-right\">\n                        <DropdownMenu>\n                          <DropdownMenuTrigger asChild>\n                            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n                              <MoreVertical className=\"h-4 w-4\" />\n                              <span className=\"sr-only\">Abrir menú</span>\n                            </Button>\n                          </DropdownMenuTrigger>\n                          <DropdownMenuContent align=\"end\" className=\"w-[160px]\">\n                            <DropdownMenuItem onClick={() => onEditWorker(worker, index)}>\n                              <Edit className=\"mr-2 h-4 w-4\" />\n                              Editar\n                            </DropdownMenuItem>\n                            <DropdownMenuItem \n                              onClick={() => onRemoveWorker(index)}\n                              className=\"text-destructive focus:text-destructive\"\n                            >\n                              <Trash2 className=\"mr-2 h-4 w-4\" />\n                              Eliminar\n                            </DropdownMenuItem>\n                          </DropdownMenuContent>\n                        </DropdownMenu>\n                      </TableCell>\n                    </TableRow>\n                  ))\n                )}\n              </TableBody>\n            </Table>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 11574, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/ReviewStep.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { usePermitForm } from '../form-context';\nimport { Card, CardHeader, CardTitle, CardContent, CardDescription } from '@/components/ui/card';\nimport { \n  FileText, \n  CheckCircle, \n  ChevronDown, \n  Users, \n  Shield, \n  AlertTriangle,\n  Clock,\n  Building2,\n  Briefcase,\n  Wrench,\n  UserCheck,\n  HardHat,\n  Activity\n} from 'lucide-react';\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible';\nimport { Badge } from '@/components/ui/badge';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { Separator } from '@/components/ui/separator';\n\nconst DetailField = ({ label, value, icon }: { label: string; value: React.ReactNode; icon?: React.ReactNode }) => (\n    <div className=\"space-y-1\">\n        <div className=\"flex items-center gap-2\">\n            {icon && <span className=\"text-primary\">{icon}</span>}\n            <p className=\"text-xs font-semibold text-muted-foreground uppercase tracking-wide\">{label}</p>\n        </div>\n        <div className=\"text-sm text-foreground font-medium pl-6\">{value || <span className=\"text-muted-foreground italic\">No especificado</span>}</div>\n    </div>\n);\n\nconst SectionHeader = ({ icon, title, count }: { icon: React.ReactNode; title: string; count?: number }) => (\n    <div className=\"flex items-center justify-between w-full\">\n        <div className=\"flex items-center gap-2\">\n            {icon}\n            <span>{title}</span>\n        </div>\n        {count !== undefined && (\n            <Badge variant=\"secondary\" className=\"ml-2\">\n                {count}\n            </Badge>\n        )}\n    </div>\n);\n\nexport function ReviewStep() {\n    const { state } = usePermitForm();\n\n    const getWorkTypesString = () => {\n        const selected = Object.entries(state.selectedWorkTypes)\n            .filter(([, value]) => value)\n            .map(([key]) => {\n                switch(key) {\n                    case 'alturas': return 'Trabajo en Alturas';\n                    case 'confinado': return 'Espacios Confinados';\n                    case 'energia': return 'Control de Energías';\n                    case 'izaje': return 'Izaje de Cargas';\n                    case 'excavacion': return 'Excavaciones';\n                    case 'general': return 'Trabajo General';\n                    default: return '';\n                }\n            })\n            .filter(Boolean);\n        \n        return selected;\n    };\n\n    const getCheckedItems = (obj: { [key: string]: any } | undefined) => {\n        if (!obj) return [];\n        return Object.entries(obj)\n            .filter(([, value]) => value === true || value === 'si')\n            .map(([key]) => key.replace(/([A-Z])/g, ' $1').replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase()));\n    };\n\n    const workTypes = getWorkTypesString();\n    const peligrosIdentificados = getCheckedItems(state.anexoATS?.peligros);\n    const eppRequeridos = getCheckedItems(state.anexoATS?.epp);\n    const workersSinFirma = state.workers?.filter(w => !w.firmaApertura).length || 0;\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"text-center space-y-3\">\n                <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-2\">\n                    <CheckCircle className=\"w-8 h-8 text-primary\" />\n                </div>\n                <h2 className=\"text-2xl md:text-3xl font-bold text-primary\">\n                    Revisión Final del Permiso\n                </h2>\n                <p className=\"text-muted-foreground text-sm max-w-2xl mx-auto\">\n                    Verifique cuidadosamente toda la información antes de guardar. Podrá realizar modificaciones desde la vista de detalles.\n                </p>\n            </div>\n\n            {/* Resumen ejecutivo */}\n            <Card className=\"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20\">\n                <CardHeader>\n                    <CardTitle className=\"text-lg flex items-center gap-2\">\n                        <Activity className=\"h-5 w-5\" />\n                        Resumen Ejecutivo\n                    </CardTitle>\n                </CardHeader>\n                <CardContent>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                        <div className=\"flex items-center gap-3 bg-white p-3 rounded-lg shadow-sm\">\n                            <div className=\"bg-blue-100 p-2 rounded-full\">\n                                <Users className=\"h-5 w-5 text-blue-600\" />\n                            </div>\n                            <div>\n                                <p className=\"text-2xl font-bold\">{state.workers?.length || 0}</p>\n                                <p className=\"text-xs text-muted-foreground\">Trabajadores</p>\n                            </div>\n                        </div>\n                        <div className=\"flex items-center gap-3 bg-white p-3 rounded-lg shadow-sm\">\n                            <div className=\"bg-orange-100 p-2 rounded-full\">\n                                <AlertTriangle className=\"h-5 w-5 text-orange-600\" />\n                            </div>\n                            <div>\n                                <p className=\"text-2xl font-bold\">{peligrosIdentificados.length}</p>\n                                <p className=\"text-xs text-muted-foreground\">Peligros</p>\n                            </div>\n                        </div>\n                        <div className=\"flex items-center gap-3 bg-white p-3 rounded-lg shadow-sm\">\n                            <div className=\"bg-green-100 p-2 rounded-full\">\n                                <HardHat className=\"h-5 w-5 text-green-600\" />\n                            </div>\n                            <div>\n                                <p className=\"text-2xl font-bold\">{eppRequeridos.length}</p>\n                                <p className=\"text-xs text-muted-foreground\">EPPs</p>\n                            </div>\n                        </div>\n                        <div className=\"flex items-center gap-3 bg-white p-3 rounded-lg shadow-sm\">\n                            <div className=\"bg-purple-100 p-2 rounded-full\">\n                                <Briefcase className=\"h-5 w-5 text-purple-600\" />\n                            </div>\n                            <div>\n                                <p className=\"text-2xl font-bold\">{workTypes.length}</p>\n                                <p className=\"text-xs text-muted-foreground\">Tipos de Trabajo</p>\n                            </div>\n                        </div>\n                    </div>\n                </CardContent>\n            </Card>\n\n            <div className=\"space-y-4\">\n                {/* General Info */}\n                <Collapsible defaultOpen>\n                    <CollapsibleTrigger className=\"flex w-full items-center justify-between rounded-lg border-2 border-primary/20 bg-white hover:bg-gray-50 px-4 py-4 text-left font-semibold transition-colors\">\n                        <SectionHeader icon={<FileText className=\"h-5 w-5 text-primary\" />} title=\"Información General del Permiso\" />\n                        <ChevronDown className=\"h-5 w-5 text-primary transition-transform data-[state=open]:rotate-180\" />\n                    </CollapsibleTrigger>\n                    <CollapsibleContent className=\"border-2 border-t-0 border-primary/20 rounded-b-lg bg-white\">\n                        <div className=\"p-6 space-y-6\">\n                            {/* Identificación */}\n                            <div>\n                                <h4 className=\"text-sm font-bold text-primary mb-3 flex items-center gap-2\">\n                                    <Building2 className=\"h-4 w-4\" />\n                                    Identificación del Trabajo\n                                </h4>\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pl-6\">\n                                    <DetailField label=\"Área Específica\" value={state.generalInfo.areaEspecifica} />\n                                    <DetailField label=\"Planta\" value={state.generalInfo.planta} />\n                                    <DetailField label=\"Proceso\" value={state.generalInfo.proceso} />\n                                    <DetailField label=\"Contrato\" value={state.generalInfo.contrato} />\n                                    <DetailField label=\"Empresa\" value={state.generalInfo.empresa} />\n                                </div>\n                            </div>\n\n                            <Separator />\n\n                            {/* Vigencia */}\n                            <div>\n                                <h4 className=\"text-sm font-bold text-primary mb-3 flex items-center gap-2\">\n                                    <Clock className=\"h-4 w-4\" />\n                                    Vigencia del Permiso\n                                </h4>\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 pl-6\">\n                                    <DetailField \n                                        label=\"Inicio\" \n                                        value={state.generalInfo.validFrom ? (\n                                            <span className=\"text-green-600 font-semibold\">\n                                                {format(new Date(state.generalInfo.validFrom), \"EEEE, dd 'de' MMMM 'de' yyyy - HH:mm\", { locale: es })}\n                                            </span>\n                                        ) : 'N/A'} \n                                    />\n                                    <DetailField \n                                        label=\"Fin\" \n                                        value={state.generalInfo.validUntil ? (\n                                            <span className=\"text-red-600 font-semibold\">\n                                                {format(new Date(state.generalInfo.validUntil), \"EEEE, dd 'de' MMMM 'de' yyyy - HH:mm\", { locale: es })}\n                                            </span>\n                                        ) : 'N/A'} \n                                    />\n                                </div>\n                            </div>\n\n                            <Separator />\n\n                            {/* Tipos de Trabajo */}\n                            <div>\n                                <h4 className=\"text-sm font-bold text-primary mb-3 flex items-center gap-2\">\n                                    <Briefcase className=\"h-4 w-4\" />\n                                    Tipos de Trabajo Autorizados\n                                </h4>\n                                <div className=\"flex flex-wrap gap-2 pl-6\">\n                                    {workTypes.length > 0 ? (\n                                        workTypes.map((type, idx) => (\n                                            <Badge key={idx} variant=\"default\" className=\"text-sm py-1 px-3\">\n                                                {type}\n                                            </Badge>\n                                        ))\n                                    ) : (\n                                        <span className=\"text-muted-foreground italic text-sm\">Ninguno seleccionado</span>\n                                    )}\n                                </div>\n                            </div>\n\n                            <Separator />\n\n                            {/* Descripción */}\n                            <div>\n                                <h4 className=\"text-sm font-bold text-primary mb-3\">Descripción de la Tarea - Alcance</h4>\n                                <div className=\"bg-gray-50 p-4 rounded-lg border pl-6\">\n                                    <p className=\"text-sm whitespace-pre-wrap text-gray-700\">\n                                        {state.generalInfo.workDescription || <span className=\"text-muted-foreground italic\">No especificado</span>}\n                                    </p>\n                                </div>\n                            </div>\n\n                            <Separator />\n\n                            {/* Herramientas */}\n                            <div>\n                                <h4 className=\"text-sm font-bold text-primary mb-3 flex items-center gap-2\">\n                                    <Wrench className=\"h-4 w-4\" />\n                                    Equipos y Herramientas ({state.generalInfo.tools?.length || 0})\n                                </h4>\n                                <div className=\"flex flex-wrap gap-2 pl-6\">\n                                    {state.generalInfo.tools && state.generalInfo.tools.length > 0 ? (\n                                        state.generalInfo.tools.map((tool, idx) => (\n                                            <Badge key={idx} variant=\"outline\" className=\"text-xs\">\n                                                {tool.name}\n                                            </Badge>\n                                        ))\n                                    ) : (\n                                        <span className=\"text-muted-foreground italic text-sm\">Ninguna herramienta especificada</span>\n                                    )}\n                                </div>\n                            </div>\n\n                            <Separator />\n\n                            {/* Responsable */}\n                            <div>\n                                <h4 className=\"text-sm font-bold text-primary mb-3 flex items-center gap-2\">\n                                    <UserCheck className=\"h-4 w-4\" />\n                                    Responsables\n                                </h4>\n                                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 pl-6\">\n                                    <DetailField label=\"Solicitante\" value={state.generalInfo.nombreSolicitante} />\n                                    <DetailField label=\"Responsable del Trabajo\" value={state.generalInfo.responsable?.nombre} />\n                                    <DetailField label=\"Cargo\" value={state.generalInfo.responsable?.cargo} />\n                                    <DetailField label=\"Compañía\" value={state.generalInfo.responsable?.compania} />\n                                    <DetailField label=\"N° Trabajadores\" value={state.generalInfo.numTrabajadores} />\n                                </div>\n                            </div>\n                        </div>\n                    </CollapsibleContent>\n                </Collapsible>\n                \n                {/* Anexo ATS */}\n                <Collapsible>\n                    <CollapsibleTrigger className=\"flex w-full items-center justify-between rounded-lg border-2 border-orange-200 bg-white hover:bg-gray-50 px-4 py-4 text-left font-semibold transition-colors\">\n                        <SectionHeader icon={<Shield className=\"h-5 w-5 text-orange-600\" />} title=\"Análisis de Trabajo Seguro (ATS)\" />\n                        <ChevronDown className=\"h-5 w-5 text-orange-600 transition-transform data-[state=open]:rotate-180\" />\n                    </CollapsibleTrigger>\n                    <CollapsibleContent className=\"border-2 border-t-0 border-orange-200 rounded-b-lg bg-white\">\n                        <div className=\"p-6 space-y-6\">\n                            {/* Peligros */}\n                            <div>\n                                <h4 className=\"text-sm font-bold text-orange-600 mb-3 flex items-center gap-2\">\n                                    <AlertTriangle className=\"h-4 w-4\" />\n                                    Peligros Identificados ({peligrosIdentificados.length})\n                                </h4>\n                                <div className=\"pl-6\">\n                                    {peligrosIdentificados.length > 0 ? (\n                                        <ul className=\"space-y-2\">\n                                            {peligrosIdentificados.map((peligro, idx) => (\n                                                <li key={idx} className=\"flex items-start gap-2 text-sm\">\n                                                    <span className=\"text-orange-600 mt-0.5\">•</span>\n                                                    <span>{peligro}</span>\n                                                </li>\n                                            ))}\n                                        </ul>\n                                    ) : (\n                                        <span className=\"text-muted-foreground italic text-sm\">Ningún peligro identificado</span>\n                                    )}\n                                </div>\n                            </div>\n\n                            <Separator />\n\n                            {/* EPP */}\n                            <div>\n                                <h4 className=\"text-sm font-bold text-orange-600 mb-3 flex items-center gap-2\">\n                                    <HardHat className=\"h-4 w-4\" />\n                                    EPP Requeridos ({eppRequeridos.length})\n                                </h4>\n                                <div className=\"flex flex-wrap gap-2 pl-6\">\n                                    {eppRequeridos.length > 0 ? (\n                                        eppRequeridos.map((epp, idx) => (\n                                            <Badge key={idx} variant=\"secondary\" className=\"text-xs\">\n                                                {epp}\n                                            </Badge>\n                                        ))\n                                    ) : (\n                                        <span className=\"text-muted-foreground italic text-sm\">Ningún EPP especificado</span>\n                                    )}\n                                </div>\n                            </div>\n\n                            <Separator />\n\n                            {/* Justificación */}\n                            <div>\n                                <h4 className=\"text-sm font-bold text-orange-600 mb-3\">Justificación de Uso del ATS</h4>\n                                <div className=\"bg-orange-50 p-4 rounded-lg border border-orange-200 pl-6\">\n                                    <p className=\"text-sm\">\n                                        {getCheckedItems(state.anexoATS?.justificacion).join(', ') || <span className=\"text-muted-foreground italic\">No especificada</span>}\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                    </CollapsibleContent>\n                </Collapsible>\n                \n                {/* Anexos condicionales */}\n                {state.selectedWorkTypes.alturas && (\n                    <Collapsible>\n                        <CollapsibleTrigger className=\"flex w-full items-center justify-between rounded-lg border-2 border-blue-200 bg-white hover:bg-gray-50 px-4 py-4 text-left font-semibold transition-colors\">\n                            <SectionHeader icon={<AlertTriangle className=\"h-5 w-5 text-blue-600\" />} title=\"Anexo: Trabajo en Alturas\" />\n                            <ChevronDown className=\"h-5 w-5 text-blue-600 transition-transform data-[state=open]:rotate-180\" />\n                        </CollapsibleTrigger>\n                        <CollapsibleContent className=\"border-2 border-t-0 border-blue-200 rounded-b-lg bg-white p-6\">\n                            <DetailField label=\"Aspectos de Seguridad Verificados\" value={\n                                getCheckedItems(state.anexoAltura?.aspectosSeguridad).join(', ') || 'Ninguno'\n                            } />\n                        </CollapsibleContent>\n                    </Collapsible>\n                )}\n\n                {state.selectedWorkTypes.confinado && (\n                    <Collapsible>\n                        <CollapsibleTrigger className=\"flex w-full items-center justify-between rounded-lg border-2 border-purple-200 bg-white hover:bg-gray-50 px-4 py-4 text-left font-semibold transition-colors\">\n                            <SectionHeader icon={<AlertTriangle className=\"h-5 w-5 text-purple-600\" />} title=\"Anexo: Espacios Confinados\" />\n                            <ChevronDown className=\"h-5 w-5 text-purple-600 transition-transform data-[state=open]:rotate-180\" />\n                        </CollapsibleTrigger>\n                        <CollapsibleContent className=\"border-2 border-t-0 border-purple-200 rounded-b-lg bg-white p-6\">\n                            <p className=\"text-sm text-muted-foreground\">Información del anexo de espacios confinados cargada.</p>\n                        </CollapsibleContent>\n                    </Collapsible>\n                )}\n\n                {/* Workers */}\n                <Collapsible>\n                    <CollapsibleTrigger className=\"flex w-full items-center justify-between rounded-lg border-2 border-green-200 bg-white hover:bg-gray-50 px-4 py-4 text-left font-semibold transition-colors\">\n                        <SectionHeader \n                            icon={<Users className=\"h-5 w-5 text-green-600\" />} \n                            title=\"Trabajadores Registrados\" \n                            count={state.workers?.length || 0}\n                        />\n                        <ChevronDown className=\"h-5 w-5 text-green-600 transition-transform data-[state=open]:rotate-180\" />\n                    </CollapsibleTrigger>\n                    <CollapsibleContent className=\"border-2 border-t-0 border-green-200 rounded-b-lg bg-white p-6\">\n                        {workersSinFirma > 0 && (\n                            <div className=\"mb-4 bg-yellow-50 border border-yellow-200 p-3 rounded-lg flex items-center gap-2\">\n                                <AlertTriangle className=\"h-4 w-4 text-yellow-600\" />\n                                <p className=\"text-sm text-yellow-800\">\n                                    <strong>{workersSinFirma}</strong> trabajador{workersSinFirma !== 1 ? 'es' : ''} sin firma de apertura\n                                </p>\n                            </div>\n                        )}\n                        <div className=\"space-y-2\">\n                            {state.workers && state.workers.length > 0 ? (\n                                state.workers.map((w, i) => (\n                                    <div key={i} className=\"flex justify-between items-center text-sm p-3 bg-gray-50 rounded-lg border hover:bg-gray-100 transition-colors\">\n                                        <div className=\"flex-1\">\n                                            <p className=\"font-semibold\">{w.nombre}</p>\n                                            <div className=\"flex gap-3 mt-1 text-xs text-muted-foreground\">\n                                                <span>CC: {w.cedula}</span>\n                                                <span>•</span>\n                                                <span>{w.rol}</span>\n                                            </div>\n                                        </div>\n                                        {w.firmaApertura ? (\n                                            <Badge variant=\"default\" className=\"bg-green-100 text-green-800 border-green-300\">\n                                                ✓ Firmado\n                                            </Badge>\n                                        ) : (\n                                            <Badge variant=\"destructive\">\n                                                Pendiente\n                                            </Badge>\n                                        )}\n                                    </div>\n                                ))\n                            ) : (\n                                <p className=\"text-center text-muted-foreground italic py-8\">No hay trabajadores registrados</p>\n                            )}\n                        </div>\n                    </CollapsibleContent>\n                </Collapsible>\n            </div>\n\n            {/* Próximos Pasos */}\n            <Card className=\"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200 shadow-md\">\n                <CardHeader>\n                    <CardTitle className=\"text-lg text-blue-900 flex items-center gap-2\">\n                        <CheckCircle className=\"h-5 w-5\" />\n                        Próximos Pasos\n                    </CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                    <div className=\"flex items-start gap-3\">\n                        <div className=\"bg-blue-200 rounded-full p-1 mt-0.5\">\n                            <span className=\"text-blue-900 font-bold text-xs px-1.5\">1</span>\n                        </div>\n                        <p className=\"text-sm text-blue-800\">\n                            Al hacer clic en <strong>\"Guardar Permiso\"</strong>, se creará un borrador del permiso en el sistema.\n                        </p>\n                    </div>\n                    <div className=\"flex items-start gap-3\">\n                        <div className=\"bg-blue-200 rounded-full p-1 mt-0.5\">\n                            <span className=\"text-blue-900 font-bold text-xs px-1.5\">2</span>\n                        </div>\n                        <p className=\"text-sm text-blue-800\">\n                            Será redirigido a la página de detalles del permiso donde el <strong>solicitante principal</strong> deberá firmar digitalmente.\n                        </p>\n                    </div>\n                    <div className=\"flex items-start gap-3\">\n                        <div className=\"bg-blue-200 rounded-full p-1 mt-0.5\">\n                            <span className=\"text-blue-900 font-bold text-xs px-1.5\">3</span>\n                        </div>\n                        <p className=\"text-sm text-blue-800\">\n                            Una vez firmado, se activará el <strong>flujo de aprobación</strong> según las configuraciones de su organización.\n                        </p>\n                    </div>\n                </CardContent>\n            </Card>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}