{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,KAAK;YACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAM,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,mBAAmB;QAAa,GAAG,KAAK;;;;;;AAEzE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,2DACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+EACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,oGACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,kDAAkD;QAC/D,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/errors.ts"],"sourcesContent":["\nexport type SecurityRuleContext = {\n  path: string;\n  operation: 'get' | 'list' | 'create' | 'update' | 'delete' | 'write';\n  requestResourceData?: any;\n};\n\nexport class FirestorePermissionError extends Error {\n  context: SecurityRuleContext;\n\n  constructor(context: SecurityRuleContext) {\n    const message = `FirestoreError: Missing or insufficient permissions. The following request was denied by Firestore Security Rules:\\n${JSON.stringify(\n      {\n        context,\n      },\n      null,\n      2\n    )}`;\n    super(message);\n    this.name = 'FirestorePermissionError';\n    this.context = context;\n\n    // This is to make the error message more readable in the console\n    Object.setPrototypeOf(this, FirestorePermissionError.prototype);\n  }\n}\n"],"names":[],"mappings":";;;AAOO,MAAM,iCAAiC;IAC5C,QAA6B;IAE7B,YAAY,OAA4B,CAAE;QACxC,MAAM,UAAU,CAAC,oHAAoH,EAAE,KAAK,SAAS,CACnJ;YACE;QACF,GACA,MACA,IACC;QACH,KAAK,CAAC;QACN,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,OAAO,GAAG;QAEf,iEAAiE;QACjE,OAAO,cAAc,CAAC,IAAI,EAAE,yBAAyB,SAAS;IAChE;AACF","debugId":null}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,gKAAA,CAAA,OAAkB;AAE/B,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,gKAAA,CAAA,OAAkB;QACjB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,8FACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG,gKAAA,CAAA,OAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,gKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,uYACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,gKAAA,CAAA,UAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,gKAAA,CAAA,UAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,mIACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,gKAAA,CAAA,UAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/page.tsx"],"sourcesContent":["\n'use client';\n\nimport { useState, useEffect, useMemo } from 'react';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { PlusCircle, Search, Loader2, FileX, ChevronRight } from 'lucide-react';\nimport Link from 'next/link';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { collection, onSnapshot, query, orderBy } from 'firebase/firestore';\nimport { db } from '@/lib/firebase';\nimport type { Permit, PermitStatus } from '@/types';\nimport { useToast } from '@/hooks/use-toast';\nimport { errorEmitter } from '@/lib/error-emitter';\nimport { FirestorePermissionError } from '@/lib/errors';\nimport { format } from 'date-fns';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\n\nconst getStatusColor = (status: string) => {\n    const statusColors: {[key: string]: string} = {\n      'borrador': 'bg-gray-100 text-gray-800',\n      'pendiente_revision': 'bg-yellow-100 text-yellow-800',\n      'aprobado': 'bg-green-100 text-green-800',\n      'en_ejecucion': 'bg-purple-100 text-purple-800',\n      'suspendido': 'bg-orange-100 text-orange-800',\n      'cerrado': 'bg-blue-100 text-blue-800',\n      'rechazado': 'bg-red-100 text-red-800',\n    };\n    return statusColors[status] || 'bg-gray-100 text-gray-800';\n  };\n\nconst getStatusText = (status: string) => {\n    const statusText: {[key: string]: string} = {\n      'borrador': 'Borrador',\n      'pendiente_revision': 'Pendiente de Revisión',\n      'aprobado': 'Aprobado',\n      'en_ejecucion': 'En Ejecución',\n      'suspendido': 'Suspendido',\n      'cerrado': 'Cerrado',\n      'rechazado': 'Rechazado'\n    };\n    return statusText[status] || status;\n  };\n\nconst parseFirestoreDate = (dateValue: any): Date | null => {\n  if (!dateValue) return null;\n  if (typeof dateValue.toDate === 'function') return dateValue.toDate();\n  if (dateValue instanceof Date) return dateValue;\n  if (typeof dateValue === 'string') return new Date(dateValue);\n  return null;\n};\n\nconst workTypes: {[key: string]: string} = {\n  'altura': 'Trabajo en Alturas',\n  'confinado': 'Espacios Confinados',\n  'energia': 'Control de Energías',\n  'izaje': 'Izaje de Cargas',\n  'caliente': 'Trabajo en Caliente',\n  'excavacion': 'Excavaciones',\n  'general': 'Trabajo General'\n};\n\nconst permitStatuses: PermitStatus[] = ['pendiente_revision', 'aprobado', 'en_ejecucion', 'cerrado', 'rechazado'];\n\nexport default function PermitsPage() {\n  const [allPermits, setAllPermits] = useState<Permit[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [activeTab, setActiveTab] = useState<PermitStatus>('pendiente_revision');\n  const { toast } = useToast();\n\n  useEffect(() => {\n    const permitsCollection = collection(db, 'permits');\n    const q = query(permitsCollection, orderBy('createdAt', 'desc'));\n\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const permitsData = snapshot.docs.map(doc => {\n        const data = doc.data();\n        return {\n          id: doc.id,\n          ...data,\n          createdAt: parseFirestoreDate(data.createdAt),\n        } as Permit;\n      });\n      setAllPermits(permitsData);\n      setLoading(false);\n    }, (serverError) => {\n        const permissionError = new FirestorePermissionError({\n          path: permitsCollection.path,\n          operation: 'list',\n        });\n        \n        errorEmitter.emit('permission-error', permissionError);\n\n        toast({\n            variant: 'destructive',\n            title: 'Error al cargar permisos',\n            description: 'No se pudieron obtener los datos de los permisos.',\n        });\n        setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, [toast]);\n  \n  const getWorkTypesString = (types: string[]): string => {\n    if (!Array.isArray(types) || types.length === 0) return 'General';\n    return types.map(key => workTypes[key] || key).join(', ');\n  }\n\n  const filteredPermits = useMemo(() => {\n    return allPermits.filter(permit => {\n      const matchesStatus = permit.status === activeTab;\n      if (!matchesStatus) return false;\n\n      const searchLower = searchTerm.toLowerCase();\n      return (\n        (permit.number || permit.id).toLowerCase().includes(searchLower) ||\n        getWorkTypesString(permit.workType).toLowerCase().includes(searchLower) ||\n        (permit.user?.displayName || '').toLowerCase().includes(searchLower)\n      );\n    });\n  }, [allPermits, activeTab, searchTerm]);\n\n  const renderPermitList = (permits: Permit[]) => {\n    if (loading) {\n      return (\n        <div className=\"flex justify-center items-center h-60\">\n            <Loader2 className=\"mx-auto h-8 w-8 animate-spin text-muted-foreground\" />\n        </div>\n      );\n    }\n\n    if (permits.length === 0) {\n      return (\n        <div className=\"h-60 text-center flex flex-col justify-center items-center\">\n            <FileX className=\"mx-auto h-12 w-12 text-muted-foreground\" />\n            <p className=\"mt-4 font-semibold\">No se encontraron permisos</p>\n            <p className=\"mt-1 text-sm text-muted-foreground\">\n              {searchTerm ? `No hay resultados para \"${searchTerm}\" en esta categoría.` : `No hay permisos con el estado \"${getStatusText(activeTab)}\".`}\n            </p>\n        </div>\n      );\n    }\n\n    return (\n      <>\n        {/* Mobile View */}\n        <div className=\"md:hidden space-y-3\">\n            {permits.map((permit) => (\n                <Link key={permit.id} href={`/permits/${permit.id}`} className=\"block\">\n                    <Card className=\"hover:bg-muted/50 transition-colors\">\n                        <CardContent className=\"p-4 flex justify-between items-center\">\n                            <div className=\"flex-1 overflow-hidden\">\n                                <p className=\"font-semibold text-primary truncate\">{permit.number || permit.id.substring(0,8)}</p>\n                                <p className=\"text-sm text-muted-foreground truncate\">{getWorkTypesString(permit.workType)}</p>\n                                <p className=\"text-xs text-muted-foreground mt-1\">{permit.createdAt ? format(permit.createdAt, \"dd/MM/yyyy\") : 'N/A'}</p>\n                            </div>\n                            <div className=\"flex flex-col items-end ml-2\">\n                                <ChevronRight className=\"h-5 w-5 text-muted-foreground\"/>\n                            </div>\n                        </CardContent>\n                    </Card>\n                </Link>\n            ))}\n        </div>\n\n        {/* Desktop View */}\n        <div className=\"rounded-md border hidden md:block\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Número</TableHead>\n                <TableHead>Tipo de Trabajo</TableHead>\n                <TableHead>Solicitante</TableHead>\n                <TableHead>Creado</TableHead>\n                <TableHead>\n                  <span className=\"sr-only\">Acciones</span>\n                </TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n                {permits.map((permit) => (\n                  <TableRow key={permit.id}>\n                    <TableCell className=\"font-medium\">\n                      <Link href={`/permits/${permit.id}`} className=\"hover:underline text-primary\">\n                        {permit.number || permit.id.substring(0, 8)}\n                      </Link>\n                    </TableCell>\n                    <TableCell>{getWorkTypesString(permit.workType)}</TableCell>\n                    <TableCell>{permit.user?.displayName || 'N/A'}</TableCell>\n                    <TableCell>\n                      {permit.createdAt ? format(permit.createdAt, \"dd/MM/yyyy HH:mm\") : 'N/A'}\n                    </TableCell>\n                    <TableCell className=\"text-right\">\n                      <Button asChild variant=\"outline\" size=\"sm\">\n                         <Link href={`/permits/${permit.id}`}>\n                          Ver Detalles\n                        </Link>\n                      </Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n            </TableBody>\n          </Table>\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <div className=\"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-8\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold tracking-tight\">Permisos de Trabajo</h1>\n          <p className=\"text-muted-foreground\">\n            Gestione todos sus permisos de trabajo aquí.\n          </p>\n        </div>\n        <Button asChild>\n          <Link href=\"/permits/create\">\n            <PlusCircle className=\"mr-2 h-4 w-4\" /> Nuevo Permiso\n          </Link>\n        </Button>\n      </div>\n      \n      <Card>\n        <CardContent className=\"p-4\">\n          <Tabs value={activeTab} onValueChange={(value) => setActiveTab(value as PermitStatus)}>\n            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\n              <TabsList className=\"grid grid-cols-3 sm:flex w-full sm:w-auto\">\n                {permitStatuses.map(status => (\n                  <TabsTrigger key={status} value={status} className=\"capitalize\">\n                    {getStatusText(status)}\n                  </TabsTrigger>\n                ))}\n              </TabsList>\n              <div className=\"relative flex-1 sm:max-w-xs\">\n                <Search className=\"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  type=\"search\"\n                  placeholder=\"Buscar en esta pestaña...\"\n                  className=\"w-full rounded-lg bg-background pl-8\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                />\n              </div>\n            </div>\n\n            {permitStatuses.map(status => (\n              <TabsContent key={status} value={status} className=\"mt-4\">\n                {renderPermitList(filteredPermits)}\n              </TabsContent>\n            ))}\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\n    "],"names":[],"mappings":"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","debugId":null}}]
}