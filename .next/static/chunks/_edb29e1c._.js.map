{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/hooks/use-user.tsx"],"sourcesContent":["\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport { doc, onSnapshot, setDoc } from 'firebase/firestore';\nimport { useAuth } from './use-auth';\nimport { db } from '@/lib/firebase';\nimport type { User } from '@/types';\n\nexport function useUser() {\n  const { user: authUser, loading: authLoading } = useAuth();\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (authLoading) {\n      setLoading(true);\n      return;\n    }\n\n    if (!authUser) {\n      setUser(null);\n      setLoading(false);\n      return;\n    }\n\n    const docRef = doc(db, 'users', authUser.uid);\n    const unsubscribe = onSnapshot(docRef, (docSnap) => {\n      if (docSnap.exists()) {\n        setUser({\n          uid: authUser.uid,\n          ...docSnap.data(),\n        } as User);\n      } else {\n        // Handle case where user exists in Auth but not in Firestore\n        const defaultUser: User = {\n          uid: authUser.uid,\n          email: authUser.email,\n          displayName: authUser.displayName,\n          photoURL: authUser.photoURL,\n          role: 'lider_tarea', // Default role\n          empresa: 'N/A',\n          ciudad: 'N/A',\n          planta: 'N/A',\n          area: 'N/A',\n          telefono: ''\n        };\n        // Create the user profile in Firestore\n        setDoc(docRef, defaultUser).then(() => {\n            setUser(defaultUser);\n        }).catch(err => {\n            console.error(\"Failed to create default user profile in Firestore\", err);\n        });\n      }\n      setLoading(false);\n    }, (error) => {\n      console.error(\"Error al obtener el perfil de usuario:\", error);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, [authUser, authLoading]);\n\n  return { user, loading };\n}\n"],"names":[],"mappings":";;;AAGA;AACA;AAAA;AACA;AACA;;AALA;;;;;AAQO,SAAS;;IACd,MAAM,EAAE,MAAM,QAAQ,EAAE,SAAS,WAAW,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IACvD,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6BAAE;YACR,IAAI,aAAa;gBACf,WAAW;gBACX;YACF;YAEA,IAAI,CAAC,UAAU;gBACb,QAAQ;gBACR,WAAW;gBACX;YACF;YAEA,MAAM,SAAS,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,yHAAA,CAAA,KAAE,EAAE,SAAS,SAAS,GAAG;YAC5C,MAAM,cAAc,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE;iDAAQ,CAAC;oBACtC,IAAI,QAAQ,MAAM,IAAI;wBACpB,QAAQ;4BACN,KAAK,SAAS,GAAG;4BACjB,GAAG,QAAQ,IAAI,EAAE;wBACnB;oBACF,OAAO;wBACL,6DAA6D;wBAC7D,MAAM,cAAoB;4BACxB,KAAK,SAAS,GAAG;4BACjB,OAAO,SAAS,KAAK;4BACrB,aAAa,SAAS,WAAW;4BACjC,UAAU,SAAS,QAAQ;4BAC3B,MAAM;4BACN,SAAS;4BACT,QAAQ;4BACR,QAAQ;4BACR,MAAM;4BACN,UAAU;wBACZ;wBACA,uCAAuC;wBACvC,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,QAAQ,aAAa,IAAI;6DAAC;gCAC7B,QAAQ;4BACZ;4DAAG,KAAK;6DAAC,CAAA;gCACL,QAAQ,KAAK,CAAC,sDAAsD;4BACxE;;oBACF;oBACA,WAAW;gBACb;;iDAAG,CAAC;oBACF,QAAQ,KAAK,CAAC,0CAA0C;oBACxD,WAAW;gBACb;;YAEA;qCAAO,IAAM;;QACf;4BAAG;QAAC;QAAU;KAAY;IAE1B,OAAO;QAAE;QAAM;IAAQ;AACzB;GAvDgB;;QACmC,+HAAA,CAAA,UAAO","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/page.tsx"],"sourcesContent":["\n'use client';\nimport { useUser } from '@/hooks/use-user';\nimport { useRouter } from 'next/navigation';\nimport { useEffect } from 'react';\nimport { Loader2 } from 'lucide-react';\n\nexport default function Home() {\n  const { user, loading } = useUser();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!loading) {\n      if (user) {\n        router.replace('/dashboard');\n      } else {\n        router.replace('/login');\n      }\n    }\n  }, [user, loading, router]);\n\n  return (\n    <div className=\"flex h-screen w-full items-center justify-center bg-background\">\n      <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AAJA;;;;;AAMe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAChC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACR,IAAI,CAAC,SAAS;gBACZ,IAAI,MAAM;oBACR,OAAO,OAAO,CAAC;gBACjB,OAAO;oBACL,OAAO,OAAO,CAAC;gBACjB;YACF;QACF;yBAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,oNAAA,CAAA,UAAO;YAAC,WAAU;;;;;;;;;;;AAGzB;GAnBwB;;QACI,+HAAA,CAAA,UAAO;QAClB,qIAAA,CAAA,YAAS;;;KAFF","debugId":null}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"file":"loader-circle.js","sources":["file:///home/user/studio/node_modules/lucide-react/src/icons/loader-circle.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }]];\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('LoaderCircle', __iconNode);\n\nexport default LoaderCircle;\n"],"names":[],"mappings":";;;;;;;;;;;AAGa,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAuB,CAAA,CAAA;IAAC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ;QAAA,CAAE;YAAA,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAA+B;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK,CAAS,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAC;KAAC;CAAA,CAAA;AAa5F,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,YAAA,CAAe,CAAA,2KAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAiB,CAAjB,CAAA,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAgB,CAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA","ignoreList":[0],"debugId":null}}]
}