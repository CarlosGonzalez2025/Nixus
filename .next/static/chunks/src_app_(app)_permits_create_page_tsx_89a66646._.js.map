{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/page.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useUser } from '@/hooks/use-user';\nimport { useToast } from '@/hooks/use-toast';\nimport { createPermit, savePermitDraft } from '../actions';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport {\n  CheckCircle,\n  XCircle,\n  AlertTriangle,\n  FileText,\n  Users,\n  Shield,\n  Upload,\n  Camera,\n  Wand2,\n  Loader2,\n  X,\n  UserPlus,\n  Signature,\n  FileUp,\n  Edit,\n  Plus,\n  Trash2,\n  Clock,\n  Check,\n  ArrowRight,\n  ArrowLeft,\n  Copy,\n  Save,\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n} from '@/components/ui/dialog';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from \"@/components/ui/alert-dialog\";\nimport type { Permit, ExternalWorker, Tool, AnexoAltura, AnexoConfinado, AnexoIzaje, MedicionAtmosferica, AnexoEnergias, AnexoATS, PermitGeneralInfo, ValidacionDiaria, AutorizacionPersona, PruebaGasesPeriodica, JustificacionATS, EppEmergencias } from '@/types';\nimport { SignaturePad } from '@/components/ui/signature-pad';\nimport Image from 'next/image';\nimport { PermitFormProvider, usePermitForm, validateEmergencias } from './form-context';\nimport { GeneralInfoStep } from './components/GeneralInfoStep';\nimport { AtsStep } from './components/AtsStep';\nimport { AnexoAlturaStep } from './components/AnexoAlturaStep';\nimport { AnexoConfinadoStep } from './components/AnexoConfinadoStep';\nimport { AnexoEnergiaStep } from './components/AnexoEnergiaStep';\nimport { AnexoIzajeStep } from './components/AnexoIzajeStep';\nimport { AnexoExcavacionesStep } from './components/AnexoExcavacionesStep';\nimport { VerificacionPeligrosStep } from './components/VerificacionPeligrosStep';\nimport { EppEmergenciasStep, eppItems } from './components/EppEmergenciasStep';\nimport { WorkersStep } from './components/WorkersStep';\nimport { ReviewStep } from './components/ReviewStep';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '@/lib/firebase';\n\nconst workerRoles = [\n  \"Trabajador autorizado\",\n  \"Ayudante de seguridad\",\n  \"Coordinador de TA\",\n  \"Supervisor de EC\",\n  \"Soldador\",\n  \"Operador de equipo para elevaci贸n de personas\",\n  \"Vig铆a\",\n  \"Otro\"\n];\n\n// Listas de entidades colombianas\nconst epsEntidades = [\n  \"Salud Total\",\n  \"Sanitas\",\n  \"Compensar\",\n  \"Sura\",\n  \"Nueva EPS\",\n  \"Famisanar\",\n  \"Coomeva\",\n  \"Medim谩s\",\n  \"Capital Salud\",\n  \"SOS\",\n  \"Cruz Blanca\",\n  \"Aliansalud\",\n  \"Coosalud\",\n  \"Mutual Ser\",\n  \"Emssanar\",\n];\n\nconst arlEntidades = [\n  \"AXA Colpatria\",\n  \"Bol铆var\",\n  \"Colmena\",\n  \"Sura\",\n  \"Positiva\",\n  \"Liberty\",\n  \"Equidad\",\n  \"Aurora\",\n];\n\nconst pensionEntidades = [\n  \"Protecci贸n\",\n  \"Porvenir\",\n  \"Colpensiones\",\n  \"Colfondos\",\n  \"Old Mutual\",\n  \"Skandia\",\n];\n\nfunction CreatePermitWizard() {\n  const { user } = useUser();\n  const { toast } = useToast();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n\n  const { state: formData, dispatch } = usePermitForm();\n  \n  const [draftId, setDraftId] = useState<string | undefined>(undefined);\n  const [isLoadingForm, setIsLoadingForm] = useState(true);\n\n  const [step, setStep] = useState(1);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isSavingDraft, setIsSavingDraft] = useState(false);\n  const [showSuccessDialog, setShowSuccessDialog] = useState(false);\n  const [newPermitInfo, setNewPermitInfo] = useState({ id: '', number: '' });\n\n  // Worker Dialog State\n  const [isWorkerDialogOpen, setIsWorkerDialogOpen] = useState(false);\n  const [currentWorker, setCurrentWorker] = useState<Partial<ExternalWorker> | null>(null);\n  const [editingWorkerIndex, setEditingWorkerIndex] = useState<number | null>(null);\n  \n  // Signature Pad State\n  const [isSignaturePadOpen, setIsSignaturePadOpen] = useState(false);\n  const [signatureTarget, setSignatureTarget] = useState<string | null>(null);\n  const [signatureContext, setSignatureContext] = useState<any>(null);\n  \n  // Scroll to top on step change\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [step]);\n\n  useEffect(() => {\n    const editId = searchParams.get('edit');\n    if (editId) {\n      setIsLoadingForm(true);\n      const fetchDraft = async () => {\n        try {\n          const docRef = doc(db, 'permits', editId);\n          const docSnap = await getDoc(docRef);\n          if (docSnap.exists() && (docSnap.data().status === 'borrador' || docSnap.data().status === 'pendiente_revision')) {\n            const draftData = docSnap.data() as Permit;\n            \n            dispatch({ type: 'SET_ENTIRE_STATE', payload: draftData });\n            \n            setDraftId(editId);\n          } else {\n            toast({ variant: \"destructive\", title: \"Permiso no encontrado o no editable\", description: \"El permiso que intenta editar no existe o ya no est谩 en estado de borrador.\" });\n            router.push('/permits');\n          }\n        } catch (error) {\n          console.error(\"Error cargando borrador:\", error);\n          toast({ variant: \"destructive\", title: \"Error al Cargar\", description: \"No se pudo cargar la informaci贸n del permiso.\" });\n        } finally {\n          setIsLoadingForm(false);\n        }\n      };\n      fetchDraft();\n    } else {\n      setIsLoadingForm(false);\n    }\n  }, [searchParams, dispatch, router, toast]);\n\n  useEffect(() => {\n    if (user && !formData.generalInfo.nombreSolicitante) {\n      dispatch({ type: 'UPDATE_GENERAL_INFO', payload: { nombreSolicitante: user.displayName || '' } });\n    }\n  }, [user, formData.generalInfo.nombreSolicitante, dispatch]);\n\n  const openNewWorkerDialog = () => {\n    setEditingWorkerIndex(null);\n    setCurrentWorker({\n      nombre: '',\n      cedula: '',\n      rol: '',\n      otroRol: '',\n      eps: '',\n      arl: '',\n      pensiones: '',\n      tsaTec: { tec: false, tsa: false },\n      entrenamiento: { tec: false, tsa: false, otro: false, otroCual: '' },\n      firmaApertura: '',\n      firmaCierre: ''\n    });\n    setIsWorkerDialogOpen(true);\n  };\n  \n  const openEditWorkerDialog = (worker: ExternalWorker, index: number) => {\n    setEditingWorkerIndex(index);\n    setCurrentWorker(worker);\n    setIsWorkerDialogOpen(true);\n  };\n\n  const handleSaveWorker = () => {\n    if (!currentWorker || !currentWorker.nombre || !currentWorker.cedula || !currentWorker.rol) {\n      toast({\n        variant: 'destructive',\n        title: 'Campos Incompletos',\n        description: 'Nombre, c茅dula y rol son requeridos.',\n      });\n      return;\n    }\n    \n    if (currentWorker.rol === 'Otro' && !currentWorker.otroRol?.trim()) {\n      toast({\n        variant: 'destructive',\n        title: 'Especificaci贸n Requerida',\n        description: 'Por favor, especifique el rol \"Otro\".',\n      });\n      return;\n    }\n\n    if (editingWorkerIndex !== null) {\n      const updatedWorkers = [...(formData.workers || [])];\n      updatedWorkers[editingWorkerIndex] = currentWorker as ExternalWorker;\n      dispatch({ type: 'SET_WORKERS', payload: updatedWorkers });\n      toast({ title: 'Trabajador Actualizado' });\n    } else {\n      dispatch({ type: 'ADD_WORKER', payload: currentWorker as ExternalWorker });\n      toast({ title: 'Trabajador Agregado' });\n    }\n\n    setIsWorkerDialogOpen(false);\n    setCurrentWorker(null);\n    setEditingWorkerIndex(null);\n  };\n  \n  const removeWorker = (index: number) => {\n    const updatedWorkers = (formData.workers || []).filter((_, i) => i !== index);\n    dispatch({ type: 'SET_WORKERS', payload: updatedWorkers });\n  };\n  \n  const handleWorkerInputChange = (field: keyof ExternalWorker, value: any) => {\n    setCurrentWorker(prev => prev ? { ...prev, [field]: value } : null);\n  };\n\n  const openSignaturePad = (target: string, context?: any) => {\n    setSignatureTarget(target);\n    setSignatureContext(context);\n    setIsSignaturePadOpen(true);\n  };\n\n  const handleSaveSignature = (signatureDataUrl: string) => {\n    if (!signatureTarget) return;\n\n    if (signatureTarget === 'worker.firmaApertura' || signatureTarget === 'worker.firmaCierre') {\n       setCurrentWorker(prev => prev ? { ...prev, [signatureTarget.split('.')[1]]: signatureDataUrl } : null);\n    } else {\n       dispatch({ type: 'UPDATE_SIGNATURE', payload: { target: signatureTarget, signature: signatureDataUrl, context: signatureContext }});\n    }\n\n    setIsSignaturePadOpen(false);\n    setSignatureTarget(null);\n    setSignatureContext(null);\n  };\n  \n  const handleSaveDraft = async () => {\n    if (!user) {\n      toast({ variant: 'destructive', title: 'Error de Autenticaci贸n' });\n      return;\n    }\n\n    setIsSavingDraft(true);\n    try {\n      const result = await savePermitDraft({\n          userId: user.uid, \n          userDisplayName: user.displayName || null, \n          userEmail: user.email || null,\n          userPhotoURL: user.photoURL || null,\n          draftId: draftId,\n          ...formData\n      });\n\n      if (result.success && result.permitId) {\n        if (!draftId) {\n          setDraftId(result.permitId);\n        }\n        toast({ title: \"Borrador Guardado\", description: \"Tu progreso ha sido guardado.\" });\n      } else {\n        throw new Error(result.error || 'No se pudo guardar el borrador.');\n      }\n    } catch (error: any) {\n      toast({ variant: 'destructive', title: 'Error al Guardar', description: error.message });\n    } finally {\n      setIsSavingDraft(false);\n    }\n  };\n\n  const colors = {\n    primary: 'hsl(var(--primary))',\n    dark: 'hsl(var(--primary))', \n    success: 'hsl(var(--accent))',\n  };\n  \n  const baseSteps = [\n    { label: \"Info General\", condition: true },\n    { label: \"ATS\", condition: true },\n    { label: \"Anexo Altura\", condition: formData.selectedWorkTypes.alturas},\n    { label: \"Anexo Confinado\", condition: formData.selectedWorkTypes.confinado},\n    { label: \"Anexo Energ铆as\", condition: formData.selectedWorkTypes.energia},\n    { label: \"Anexo Izaje\", condition: formData.selectedWorkTypes.izaje},\n    { label: \"Anexo Excavaciones\", condition: formData.selectedWorkTypes.excavacion},\n    { label: \"Verificaci贸n Peligros\", condition: false },\n    { label: \"Emergencias\", condition: true },\n    { label: \"Trabajadores\", condition: true },\n    { label: \"Revisi贸n\", condition: true }\n  ];\n\n  const steps = baseSteps.filter(s => s.condition);\n  const currentStepInfo = steps[step - 1];\n\n  //  FUNCIN DE VALIDACIN NICA (SIN DUPLICADOS)\n  const canProceed = () => {\n    const currentLabel = steps[step - 1]?.label;\n\n    if (currentLabel === 'Info General') {\n        const { areaEspecifica, planta, nombreSolicitante, validFrom, validUntil, workDescription, numTrabajadores, responsable } = formData.generalInfo;\n        const missingFields = [];\n        if (!areaEspecifica) missingFields.push(\"rea espec铆fica\");\n        if (!planta) missingFields.push(\"Planta\");\n        if (!nombreSolicitante) missingFields.push(\"Nombre solicitante\");\n        if (!validFrom) missingFields.push(\"Fecha de inicio\");\n        if (!validUntil) missingFields.push(\"Fecha de fin\");\n        if (!workDescription?.trim()) missingFields.push(\"Descripci贸n de la Tarea\");\n        if (!numTrabajadores) missingFields.push(\"No. Trabajadores\");\n        if (!responsable?.nombre) missingFields.push(\"Nombre del Responsable\");\n        if (!responsable?.cargo) missingFields.push(\"Cargo del Responsable\");\n        if (!responsable?.compania) missingFields.push(\"Compa帽铆a del Responsable\");\n\n        if (!Object.values(formData.selectedWorkTypes).some(v => v)) {\n            missingFields.push(\"Tipo de Trabajo (al menos uno)\");\n        }\n\n        if (missingFields.length > 0) {\n            toast({\n                variant: \"destructive\",\n                title: \"Campos Incompletos en Informaci贸n General\",\n                description: `Por favor, complete los siguientes campos obligatorios: ${missingFields.join(', ')}.`,\n                duration: 6000,\n            });\n            return false;\n        }\n    }\n\n    if (currentLabel === 'ATS') {\n        const { peligros, justificacion, epp, peligrosAdicionales } = formData.anexoATS || {};\n        \n        const hasPeligro = (peligros && Object.values(peligros).some(value => value === 'si')) || (peligrosAdicionales && peligrosAdicionales.length > 0);\n        if (!hasPeligro) {\n          toast({\n              variant: \"destructive\",\n              title: \"Validaci贸n Requerida en ATS\",\n              description: \"Debe seleccionar los peligros asociados e identificados para la actividad, para continuar.\",\n          });\n          return false;\n        }\n        \n        const hasEpp = epp && Object.values(epp).some(value => value === true || (typeof value === 'string' && value.trim() !== ''));\n        if (!hasEpp) {\n            toast({\n                variant: \"destructive\",\n                title: \"Validaci贸n Requerida en ATS\",\n                description: \"Debe seleccionar al menos un EPP requerido para continuar.\",\n            });\n            return false;\n        }\n\n        if (!justificacion || !Object.values(justificacion).some(value => value === true)) {\n            toast({\n                variant: \"destructive\",\n                title: \"Validaci贸n Requerida en ATS\",\n                description: \"Debe seleccionar al menos una 'Justificaci贸n para el uso del ATS' para continuar.\",\n            });\n            return false;\n        }\n    }\n    \n    if (currentLabel === 'Anexo Altura') {\n      const anexo = formData.anexoAltura;\n      if (anexo?.tipoEstructura?.otros && !anexo.tipoEstructura.otrosCual?.trim()) {\n        toast({ variant: \"destructive\", title: \"Campo Requerido\", description: \"Debe especificar el otro tipo de estructura en el Anexo de Alturas.\" });\n        return false;\n      }\n      if (!anexo?.afectaciones?.observaciones?.trim()) {\n        toast({ variant: \"destructive\", title: \"Campo Requerido\", description: \"Debe ingresar las observaciones en la secci贸n de Afectaciones del Anexo de Alturas.\" });\n        return false;\n      }\n    }\n\n    if (currentLabel === 'Anexo Confinado') {\n      const anexo = formData.anexoConfinado;\n      if (anexo?.identificacionPeligros?.procedimientoComunicacion === 'si' && !anexo.procedimientoComunicacionCual?.trim()) {\n        toast({ variant: \"destructive\", title: \"Campo Requerido\", description: \"Debe especificar cu谩l es el procedimiento de comunicaci贸n en el Anexo de Espacios Confinados.\" });\n        return false;\n      }\n    }\n    \n    if (currentLabel === 'Anexo Energ铆as') {\n      const anexo = formData.anexoEnergias;\n      const trabajosEnCaliente = anexo?.trabajosEnCaliente as any;\n      if (trabajosEnCaliente?.otro_check && !(trabajosEnCaliente?.otro || '').trim()) {\n        toast({ variant: \"destructive\", title: \"Campo Requerido\", description: \"Debe especificar el 'otro' aspecto en Trabajos en Caliente.\" });\n        return false;\n      }\n      const energiasPeligrosas = anexo?.energiasPeligrosas as any;\n      if (energiasPeligrosas?.otra_check && !(energiasPeligrosas?.otra || '').trim()) {\n          toast({ variant: \"destructive\", title: \"Campo Requerido\", description: \"Debe especificar el 'otro' tipo de energ铆a peligrosa.\" });\n          return false;\n      }\n    }\n\n    if (currentLabel === 'Verificaci贸n Peligros') {\n        const { verificacionPeligros } = formData;\n        if (!verificacionPeligros || Object.values(verificacionPeligros).every(category => !Object.values(category).some(value => value === 'si'))) {\n            toast({\n                variant: \"destructive\",\n                title: \"Validaci贸n Requerida en Verificaci贸n de Peligros\",\n                description: \"Debe seleccionar 'SI' en al menos un peligro para poder continuar.\",\n            });\n            return false;\n        }\n    }\n\n    //  VALIDACIN DE EMERGENCIAS\n    if (currentLabel === 'Emergencias') {\n        const validation = validateEmergencias(formData.eppEmergencias);\n        \n        if (!validation.isValid) {\n            window.scrollTo({ top: 0, behavior: 'smooth' });\n            \n            toast({\n                variant: 'destructive',\n                title: ' No se puede continuar',\n                description: validation.hasNoResponses \n                    ? 'TODAS las condiciones de emergencia (A-F) deben estar en \"SI\" para poder avanzar al siguiente paso.'\n                    : 'Complete todos los campos requeridos de emergencias antes de continuar.',\n                duration: 8000,\n            });\n            return false;\n        }\n    }\n\n    //  VALIDACIN DE TRABAJADORES\n    if (currentLabel === 'Trabajadores') {\n      const numTrabajadores = parseInt(formData.generalInfo.numTrabajadores || '0', 10);\n      const workers = formData.workers || [];\n\n      if (workers.length !== numTrabajadores) {\n        toast({\n          variant: \"destructive\",\n          title: \"N煤mero de Trabajadores no Coincide\",\n          description: `Ha especificado ${numTrabajadores} trabajadores, pero ha registrado ${workers.length}. Por favor, ajuste la lista.`,\n          duration: 6000,\n        });\n        return false;\n      }\n      \n      const missingSignatures = workers.filter(w => !w.firmaApertura);\n      if(missingSignatures.length > 0) {\n        toast({\n          variant: \"destructive\",\n          title: \"Faltan Firmas de Trabajadores\",\n          description: `Todos los trabajadores deben registrar su firma de apertura para poder continuar. Faltan ${missingSignatures.length} firmas.`,\n          duration: 6000,\n        });\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  const handleSavePermit = async () => {\n    if (!user) {\n      toast({ variant: 'destructive', title: 'Error de Autenticaci贸n' });\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const result = await savePermitDraft({\n        userId: user.uid,\n        userDisplayName: user.displayName || null,\n        userEmail: user.email || null,\n        userPhotoURL: user.photoURL || null,\n        draftId: draftId,\n        ...formData,\n      });\n\n      // ESTE ES EL CDIGO NUEVO Y CORRECTO\n      if (result.success && result.permitId) {\n        toast({\n          title: '隆Permiso Guardado!',\n          description: 'Redirigiendo a la p谩gina de detalles para la firma.',\n        });\n        \n        // 1. Guarda el ID del nuevo permiso para la redirecci贸n.\n        const newPermitId = result.permitId;\n        \n        // 2. Limpia el estado del formulario para la pr贸xima vez que se use.\n        dispatch({ type: 'RESET_FORM' });\n        setStep(1);\n        setDraftId(undefined);\n\n        // 3. Finalmente, redirige al usuario a la p谩gina de detalles del nuevo permiso.\n        router.push(`/permits/${newPermitId}`);\n      }\n\n       else {\n        throw new Error(result.error || 'Hubo un error guardando el permiso.');\n      }\n    } catch (error: any) {\n      toast({\n        variant: 'destructive',\n        title: 'Fall贸 el Env铆o',\n        description: error.message,\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  \n  const handleUpdateATS = useCallback((updates: Partial<AnexoATS>) => {\n    dispatch({ type: 'UPDATE_ATS', payload: updates });\n  }, [dispatch]);\n\n  const handleUpdateEppEmergencias = useCallback((updates: Partial<EppEmergencias>) => {\n    dispatch({ type: 'UPDATE_EPP_EMERGENCIAS', payload: updates });\n  }, [dispatch]);\n\n  const renderStepContent = () => {\n    if (isLoadingForm) {\n      return (\n        <div className=\"flex justify-center items-center h-64\">\n          <Loader2 className=\"h-8 w-8 animate-spin\" />\n        </div>\n      );\n    }\n\n    const currentStepLabel = steps[step - 1]?.label;\n    switch (currentStepLabel) {\n      case \"Info General\":\n        return <GeneralInfoStep />;\n      case \"ATS\":\n        return <AtsStep anexoATS={formData.anexoATS as AnexoATS} onUpdateATS={handleUpdateATS} />;\n      case \"Anexo Altura\":\n        return <AnexoAlturaStep />;\n      case \"Anexo Confinado\":\n        return <AnexoConfinadoStep />;\n      case \"Anexo Energ铆as\":\n        return <AnexoEnergiaStep />;\n      case \"Anexo Izaje\":\n        return <AnexoIzajeStep />;\n      case \"Anexo Excavaciones\":\n        return <AnexoExcavacionesStep />;\n      case \"Verificaci贸n Peligros\":\n        return <VerificacionPeligrosStep />;\n      case \"Emergencias\":\n        return <EppEmergenciasStep eppEmergencias={formData.eppEmergencias as EppEmergencias} onUpdate={handleUpdateEppEmergencias} />;\n      case \"Trabajadores\":\n        return <WorkersStep \n                  workers={formData.workers || []}\n                  onAddWorker={openNewWorkerDialog}\n                  onEditWorker={openEditWorkerDialog}\n                  onRemoveWorker={removeWorker}\n               />;\n      case \"Revisi贸n\":\n        return <ReviewStep />;\n      default:\n        return (\n          <div className=\"text-center p-8\">\n            <h3 className=\"text-xl font-bold\">Paso en Construcci贸n</h3>\n            <p className=\"text-muted-foreground\">{currentStepLabel}</p>\n          </div>\n        );\n    }\n  };\n\n  return (\n    <>\n    <div className=\"flex flex-1 flex-col bg-gray-50 min-h-screen\">\n      <header className=\"text-white shadow-lg sticky top-0 z-20\" style={{ background: `linear-gradient(135deg, ${colors.primary} 0%, ${colors.dark} 100%)` }}>\n        <div className=\"max-w-7xl mx-auto px-4 py-3 md:py-4\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <div className=\"flex items-center gap-3\">\n                <Image \n                    src=\"https://i.postimg.cc/jShP2K6k/Whats-App-Image-2025-10-20-at-10-43-48-AM.jpg\"\n                    alt=\"Crear Permiso Icon\"\n                    width={48}\n                    height={48}\n                    className=\"rounded-full\"\n                />\n                <div className=\"hidden md:block border-l border-white border-opacity-30 pl-3\">\n                  <h1 className=\"text-xl font-bold\">Nuevo Permiso de Trabajo</h1>\n                  <p className=\"text-sm text-white text-opacity-80\">\n                    Paso {step} de {steps.length}: {currentStepInfo.label}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <Button\n              onClick={() => {\n                if (confirm('驴Est谩 seguro de cancelar? Los cambios no guardados en el borrador actual se mantendr谩n.')) {\n                  router.push('/dashboard');\n                }\n              }}\n              variant=\"ghost\"\n              className=\"bg-white bg-opacity-20 hover:bg-opacity-30\"\n            >\n              <X size={18} className=\"mr-2\" />\n              <span className=\"hidden sm:inline\">Cancelar</span>\n            </Button>\n          </div>\n        </div>\n      </header>\n      \n      <div className=\"bg-white border-b shadow-sm sticky top-[68px] md:top-[80px] z-10\">\n        <div className=\"max-w-7xl mx-auto px-4 py-4 md:py-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            {steps.map((s_info, s_idx) => {\n              const s = s_idx + 1;\n              return(\n              <div key={s} className=\"flex items-center flex-1\">\n                <div className={`relative flex items-center justify-center w-8 h-8 md:w-10 md:h-10 rounded-full font-bold text-sm transition-all ${\n                  s === step ? 'ring-4 scale-110 shadow-lg text-white' :\n                  s < step ? 'text-white' :\n                  'bg-gray-200 text-gray-600'\n                }`}\n                style={s <= step ? { backgroundColor: s === step ? colors.primary : colors.success } : {}}>\n                  {s < step ? <CheckCircle size={20}/> : s_idx + 1}\n                </div>\n                {s < steps.length && (\n                  <div className=\"flex-1 h-1 mx-1 md:mx-2 rounded\" style={{ \n                    backgroundColor: s < step ? colors.success : '#E5E7EB' \n                  }} />\n                )}\n              </div>\n            )})};\n          </div>\n          <div className=\"grid\" style={{gridTemplateColumns: `repeat(${steps.length}, minmax(0, 1fr))`}}>\n            {steps.map((s_info, s_idx) => (\n              <span key={s_idx} className=\"text-[10px] md:text-xs text-center font-medium\" style={{ color: step === s_idx + 1 ? colors.primary : '#6B7280' }}>{s_info.label}</span>\n            ))}\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"max-w-5xl mx-auto p-4 pb-24 md:pb-24 w-full\">\n        <div key={step} className=\"bg-white rounded-xl shadow-xl p-6 md:p-8\">\n          {renderStepContent()}\n        </div>\n\n        {/* Navigation Buttons */}\n        <div className=\"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-sm border-t shadow-lg z-20\">\n          <div className=\"max-w-5xl mx-auto px-4 py-3 flex gap-2 sm:gap-4\">\n            <Button\n              onClick={() => setStep(step - 1)}\n              disabled={isSubmitting || step === 1}\n              variant=\"outline\"\n              className=\"px-4 py-3 h-auto md:px-6\"\n            >\n              <ArrowLeft className=\"mr-2 h-4 w-4\" />\n              Anterior\n            </Button>\n            \n            <Button\n                onClick={handleSaveDraft}\n                variant=\"secondary\"\n                disabled={isSavingDraft || isSubmitting}\n                className=\"px-4 py-3 h-auto md:px-6\"\n            >\n                {isSavingDraft ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\"/> : <Save className=\"mr-2 h-4 w-4\"/>}\n                Borrador\n            </Button>\n\n            {step < steps.length ? (\n              <Button\n                onClick={() => {\n                  if (canProceed()) {\n                    setStep(step + 1);\n                  }\n                }}\n                disabled={isSubmitting}\n                className=\"flex-1 py-3 h-auto\"\n              >\n                Siguiente\n                <ArrowRight className=\"ml-2 h-4 w-4\" />\n              </Button>\n            ) : (\n                <AlertDialog>\n                    <AlertDialogTrigger asChild>\n                         <Button\n                            disabled={isSubmitting}\n                            className=\"flex-1 py-3 h-auto bg-green-600 hover:bg-green-700 text-lg\"\n                        >\n                            {isSubmitting ? (\n                            <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                            ) : (\n                            <Save size={22} className=\"mr-2\" />\n                            )}\n                            <span>Guardar Permiso</span>\n                        </Button>\n                    </AlertDialogTrigger>\n                    <AlertDialogContent>\n                        <AlertDialogHeader>\n                            <AlertDialogTitle>驴Est谩 seguro de guardar el permiso?</AlertDialogTitle>\n                            <AlertDialogDescription>\n                                Se crear谩 un borrador del permiso. Deber谩 ir a la p谩gina de detalles para firmar y activar el flujo de aprobaci贸n.\n                            </AlertDialogDescription>\n                        </AlertDialogHeader>\n                        <AlertDialogFooter>\n                            <AlertDialogCancel>Cancelar</AlertDialogCancel>\n                            <AlertDialogAction onClick={handleSavePermit} disabled={isSubmitting}>\n                                 {isSubmitting ? 'Guardando...' : 'S铆, guardar ahora'}\n                            </AlertDialogAction>\n                        </AlertDialogFooter>\n                    </AlertDialogContent>\n                </AlertDialog>\n            )}\n          </div>\n        </div>\n      </div>\n      \n      <Dialog open={showSuccessDialog} onOpenChange={setShowSuccessDialog}>\n          <DialogContent>\n              <DialogHeader>\n                  <DialogTitle className=\"flex items-center gap-2 text-green-600\">\n                      <CheckCircle />\n                      隆Permiso Creado Exitosamente!\n                  </DialogTitle>\n                  <DialogDescription>\n                      El permiso N掳 <strong>{newPermitInfo.number}</strong> ha sido creado y enviado para revisi贸n.\n                  </DialogDescription>\n              </DialogHeader>\n              <DialogFooter className=\"sm:justify-between gap-2\">\n                  <Button variant=\"outline\" onClick={() => router.push('/dashboard')}>\n                      Ir al Dashboard\n                  </Button>\n                   <Button onClick={() => router.push(`/permits/${newPermitInfo.id}`)}>\n                      Ver Detalles del Permiso\n                   </Button>\n              </DialogFooter>\n          </DialogContent>\n      </Dialog>\n      \n        <Dialog open={isWorkerDialogOpen} onOpenChange={setIsWorkerDialogOpen}>\n            <DialogContent className=\"sm:max-w-2xl max-h-[90vh] overflow-hidden flex flex-col\">\n                <DialogHeader className=\"pb-4 border-b\">\n                    <DialogTitle className=\"flex items-center gap-2 text-xl\">\n                        <UserPlus className=\"h-5 w-5 text-primary\"/>\n                        {editingWorkerIndex !== null ? 'Editar' : 'Agregar'} Trabajador\n                    </DialogTitle>\n                    <p className=\"text-sm text-muted-foreground\">Complete la informaci贸n del trabajador</p>\n                </DialogHeader>\n                \n                <div className=\"flex-1 overflow-y-auto px-1\">\n                    <div className=\"space-y-6 py-4\">\n                        {/* Informaci贸n Personal */}\n                        <div className=\"bg-gray-50 p-4 rounded-lg space-y-4\">\n                            <h3 className=\"font-semibold text-sm text-primary flex items-center gap-2\">\n                                <Users className=\"h-4 w-4\"/>\n                                Informaci贸n Personal\n                            </h3>\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div className=\"space-y-2\">\n                                    <Label htmlFor=\"worker-name\" className=\"text-sm font-medium\">\n                                        Nombres y Apellidos <span className=\"text-red-500\">*</span>\n                                    </Label>\n                                    <Input \n                                        id=\"worker-name\" \n                                        value={currentWorker?.nombre || ''} \n                                        onChange={(e) => handleWorkerInputChange('nombre', e.target.value)}\n                                        placeholder=\"Ingrese nombre completo\"\n                                        className=\"h-10\"\n                                    />\n                                </div>\n                                <div className=\"space-y-2\">\n                                    <Label htmlFor=\"worker-cedula\" className=\"text-sm font-medium\">\n                                        C茅dula <span className=\"text-red-500\">*</span>\n                                    </Label>\n                                    <Input \n                                        id=\"worker-cedula\" \n                                        value={currentWorker?.cedula || ''} \n                                        onChange={(e) => handleWorkerInputChange('cedula', e.target.value)}\n                                        placeholder=\"N煤mero de identificaci贸n\"\n                                        className=\"h-10\"\n                                    />\n                                </div>\n                            </div>\n                            \n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div className=\"space-y-2\">\n                                    <Label htmlFor=\"worker-rol\" className=\"text-sm font-medium\">\n                                        Cargo/Rol <span className=\"text-red-500\">*</span>\n                                    </Label>\n                                    <Select value={currentWorker?.rol || ''} onValueChange={(value) => handleWorkerInputChange('rol', value)}>\n                                        <SelectTrigger id=\"worker-rol\" className=\"h-10\">\n                                            <SelectValue placeholder=\"Seleccione un rol\"/>\n                                        </SelectTrigger>\n                                        <SelectContent>\n                                            {workerRoles.map(role => <SelectItem key={role} value={role}>{role}</SelectItem>)}\n                                        </SelectContent>\n                                    </Select>\n                                </div>\n                                {currentWorker?.rol === 'Otro' && (\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"worker-otro-rol\" className=\"text-sm font-medium\">\n                                            Especifique el rol <span className=\"text-red-500\">*</span>\n                                        </Label>\n                                        <Input \n                                            id=\"worker-otro-rol\" \n                                            value={currentWorker?.otroRol || ''} \n                                            onChange={(e) => handleWorkerInputChange('otroRol', e.target.value)}\n                                            placeholder=\"Describa el rol\"\n                                            className=\"h-10\"\n                                        />\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n\n                        {/* Certificaciones */}\n                        <div className=\"bg-blue-50 p-4 rounded-lg space-y-4\">\n                            <h3 className=\"font-semibold text-sm text-primary flex items-center gap-2\">\n                                <Shield className=\"h-4 w-4\"/>\n                                Certificaciones y Entrenamiento\n                            </h3>\n                            \n                            <div className=\"space-y-3\">\n                                <div>\n                                    <Label className=\"text-sm font-medium mb-2 block\">Certificado Aptitud M茅dica</Label>\n                                    <div className=\"flex gap-6\">\n                                        <div className=\"flex items-center gap-2\">\n                                            <Checkbox \n                                                id=\"cert-tec\" \n                                                checked={currentWorker?.tsaTec?.tec || false} \n                                                onCheckedChange={checked => handleWorkerInputChange('tsaTec', { ...currentWorker?.tsaTec, tec: !!checked })} \n                                            /> \n                                            <Label htmlFor=\"cert-tec\" className=\"font-normal cursor-pointer\">TEC</Label>\n                                        </div>\n                                        <div className=\"flex items-center gap-2\">\n                                            <Checkbox \n                                                id=\"cert-tsa\" \n                                                checked={currentWorker?.tsaTec?.tsa || false} \n                                                onCheckedChange={checked => handleWorkerInputChange('tsaTec', { ...currentWorker?.tsaTec, tsa: !!checked })} \n                                            /> \n                                            <Label htmlFor=\"cert-tsa\" className=\"font-normal cursor-pointer\">TSA</Label>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div>\n                                    <Label className=\"text-sm font-medium mb-2 block\">Entrenamiento / Capacitaci贸n</Label>\n                                    <div className=\"flex flex-wrap gap-6\">\n                                        <div className=\"flex items-center gap-2\">\n                                            <Checkbox \n                                                id=\"ent-tec\" \n                                                checked={currentWorker?.entrenamiento?.tec || false} \n                                                onCheckedChange={checked => handleWorkerInputChange('entrenamiento', { ...currentWorker?.entrenamiento, tec: !!checked })} \n                                            /> \n                                            <Label htmlFor=\"ent-tec\" className=\"font-normal cursor-pointer\">TEC</Label>\n                                        </div>\n                                        <div className=\"flex items-center gap-2\">\n                                            <Checkbox \n                                                id=\"ent-tsa\" \n                                                checked={currentWorker?.entrenamiento?.tsa || false} \n                                                onCheckedChange={checked => handleWorkerInputChange('entrenamiento', { ...currentWorker?.entrenamiento, tsa: !!checked })} \n                                            /> \n                                            <Label htmlFor=\"ent-tsa\" className=\"font-normal cursor-pointer\">TSA</Label>\n                                        </div>\n                                        <div className=\"flex items-center gap-2\">\n                                            <Checkbox \n                                                id=\"ent-otro\" \n                                                checked={currentWorker?.entrenamiento?.otro || false} \n                                                onCheckedChange={checked => handleWorkerInputChange('entrenamiento', { ...currentWorker?.entrenamiento, otro: !!checked })} \n                                            /> \n                                            <Label htmlFor=\"ent-otro\" className=\"font-normal cursor-pointer\">Otro</Label>\n                                        </div>\n                                    </div>\n                                    {currentWorker?.entrenamiento?.otro && (\n                                        <Input \n                                            placeholder=\"Especificar otro entrenamiento\" \n                                            value={currentWorker?.entrenamiento?.otroCual || ''} \n                                            onChange={e => handleWorkerInputChange('entrenamiento', { ...currentWorker?.entrenamiento, otroCual: e.target.value })}\n                                            className=\"mt-2 h-10\"\n                                        />\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Afiliaciones a Seguridad Social */}\n                        <div className=\"bg-green-50 p-4 rounded-lg space-y-4\">\n                            <h3 className=\"font-semibold text-sm text-primary flex items-center gap-2\">\n                                <FileText className=\"h-4 w-4\"/>\n                                Afiliaci贸n a Seguridad Social\n                            </h3>\n                            \n                            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                                <div className=\"space-y-2\">\n                                    <Label htmlFor=\"worker-eps\" className=\"text-sm font-medium\">EPS</Label>\n                                    <Select \n                                        value={currentWorker?.eps || ''} \n                                        onValueChange={(value) => handleWorkerInputChange('eps', value)}\n                                    >\n                                        <SelectTrigger id=\"worker-eps\" className=\"h-10\">\n                                            <SelectValue placeholder=\"Seleccione EPS\"/>\n                                        </SelectTrigger>\n                                        <SelectContent className=\"max-h-[200px]\">\n                                            {epsEntidades.map(eps => (\n                                                <SelectItem key={eps} value={eps}>{eps}</SelectItem>\n                                            ))}\n                                        </SelectContent>\n                                    </Select>\n                                </div>\n\n                                <div className=\"space-y-2\">\n                                    <Label htmlFor=\"worker-arl\" className=\"text-sm font-medium\">ARL</Label>\n                                    <Select \n                                        value={currentWorker?.arl || ''} \n                                        onValueChange={(value) => handleWorkerInputChange('arl', value)}\n                                    >\n                                        <SelectTrigger id=\"worker-arl\" className=\"h-10\">\n                                            <SelectValue placeholder=\"Seleccione ARL\"/>\n                                        </SelectTrigger>\n                                        <SelectContent className=\"max-h-[200px]\">\n                                            {arlEntidades.map(arl => (\n                                                <SelectItem key={arl} value={arl}>{arl}</SelectItem>\n                                            ))}\n                                        </SelectContent>\n                                    </Select>\n                                </div>\n\n                                <div className=\"space-y-2\">\n                                    <Label htmlFor=\"worker-pension\" className=\"text-sm font-medium\">Pensi贸n</Label>\n                                    <Select \n                                        value={currentWorker?.pensiones || ''} \n                                        onValueChange={(value) => handleWorkerInputChange('pensiones', value)}\n                                    >\n                                        <SelectTrigger id=\"worker-pension\" className=\"h-10\">\n                                            <SelectValue placeholder=\"Seleccione Pensi贸n\"/>\n                                        </SelectTrigger>\n                                        <SelectContent className=\"max-h-[200px]\">\n                                            {pensionEntidades.map(pension => (\n                                                <SelectItem key={pension} value={pension}>{pension}</SelectItem>\n                                            ))}\n                                        </SelectContent>\n                                    </Select>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Firma */}\n                        <div className=\"bg-purple-50 p-4 rounded-lg space-y-3\">\n                            <h3 className=\"font-semibold text-sm text-primary flex items-center gap-2\">\n                                <Signature className=\"h-4 w-4\"/>\n                                Firma de Apertura\n                            </h3>\n                            <Button \n                                variant=\"outline\" \n                                className=\"w-full h-12 text-sm font-medium hover:bg-white\" \n                                onClick={() => openSignaturePad('worker.firmaApertura')}\n                            >\n                                <Signature className=\"mr-2 h-4 w-4\"/> \n                                {currentWorker?.firmaApertura ? 'Ver/Cambiar Firma' : 'Registrar Firma'}\n                            </Button>\n                            {currentWorker?.firmaApertura && (\n                                <div className=\"flex justify-center p-3 bg-white rounded-md border-2 border-dashed\">\n                                    <Image \n                                        src={currentWorker.firmaApertura} \n                                        alt=\"Firma Apertura\" \n                                        width={200} \n                                        height={100} \n                                        className=\"border rounded\"\n                                    />\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n\n                <DialogFooter className=\"pt-4 border-t mt-4\">\n                    <Button variant=\"outline\" onClick={() => setIsWorkerDialogOpen(false)} className=\"h-10\">\n                        Cancelar\n                    </Button>\n                    <Button onClick={handleSaveWorker} className=\"h-10\">\n                        <Check className=\"mr-2 h-4 w-4\"/>\n                        Guardar Trabajador\n                    </Button>\n                </DialogFooter>\n            </DialogContent>\n        </Dialog>\n\n       <Dialog open={isSignaturePadOpen} onOpenChange={setIsSignaturePadOpen}>\n        <DialogContent className=\"w-[90vw] max-w-lg\">\n          <DialogHeader>\n            <DialogTitle>Registrar Firma</DialogTitle>\n          </DialogHeader>\n          <SignaturePad onSave={handleSaveSignature} />\n        </DialogContent>\n      </Dialog>\n    </div>\n    </>\n  );\n}\n\nexport default function CreatePermitPage() {\n  return (\n    <PermitFormProvider>\n      <CreatePermitWizard />\n    </PermitFormProvider>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}