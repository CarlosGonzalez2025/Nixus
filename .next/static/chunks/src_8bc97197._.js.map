{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/actions.ts"],"sourcesContent":["\n'use server';\n\nimport { adminDb } from '@/lib/firebase-admin';\nimport { revalidatePath } from 'next/cache';\nimport type { Permit, ExternalWorker, PermitStatus, PermitClosure, Approval, UserRole, AnexoAltura, AnexoCaliente, AnexoConfinado, AnexoEnergias, AnexoExcavaciones, AnexoIzaje, AnexoATS, PermitGeneralInfo, JustificacionATS } from '@/types';\nimport { FieldValue } from 'firebase-admin/firestore';\nimport { sendWhatsAppNotification } from '@/lib/notifications';\nimport { config } from 'dotenv';\nconfig();\n\nconst workTypesMap: {[key: string]: string} = {\n  'alturas': 'Trabajo en Alturas',\n  'confinado': 'Espacios Confinados',\n  'energia': 'Control de Energ√≠as',\n  'izaje': 'Izaje de Cargas',\n  'caliente': 'Trabajo en Caliente',\n  'excavacion': 'Excavaciones',\n  'general': 'Trabajo General'\n};\n\nconst getWorkTypesString = (permit: Partial<Permit>): string => {\n  const selectedTypes: string[] = [];\n  if (permit.trabajoAlturas) selectedTypes.push('Trabajo en Alturas');\n  if (permit.espaciosConfinados) selectedTypes.push('Espacios Confinados');\n  if (permit.controlEnergias) selectedTypes.push('Control de Energ√≠as');\n  if (permit.izajeCargas) selectedTypes.push('Izaje de Cargas');\n  if (permit.trabajoCaliente) selectedTypes.push('Trabajo en Caliente');\n  if (permit.excavaciones) selectedTypes.push('Excavaciones');\n  \n  if (selectedTypes.length === 0) {\n    if (permit.trabajoGeneral) return 'Trabajo General';\n    // Fallback for old data structure\n    if (permit.workType && Array.isArray(permit.workType)) {\n      return permit.workType.map(key => workTypesMap[key] || key).join(', ');\n    }\n    return 'Trabajo General';\n  }\n  return selectedTypes.join(', ');\n};\n\nconst getStatusText = (status: string) => {\n    const statusText: {[key: string]: string} = {\n      'borrador': 'Borrador',\n      'pendiente_revision': 'Pendiente de Revisi√≥n',\n      'aprobado': 'Aprobado',\n      'en_ejecucion': 'En Ejecuci√≥n',\n      'suspendido': 'Suspendido',\n      'cerrado': 'Cerrado',\n      'rechazado': 'Rechazado'\n    };\n    return statusText[status] || status;\n  };\n\nconst signatureRoles: { [key in UserRole | 'sst' | 'mantenimiento']: string } = {\n  solicitante: 'QUIEN SOLICITA (JEFES Y DUE√ëOS DE AREA)',\n  autorizante: 'QUIEN AUTORIZA (L√çDER A CARGO DEL EQUIPO EJECUTANTE)',\n  mantenimiento: 'PERSONAL DE MANTENIMIENTO',\n  sst: 'AREA SST (si aplica)',\n  lider_tarea: 'L√≠der de la Tarea',\n  ejecutante: 'Ejecutante del Trabajo',\n  lider_sst: 'L√≠der SST',\n  admin: 'Administrador'\n};\n\n\ntype PermitCreateData = Omit<Permit, 'id' | 'createdAt' | 'status' | 'createdBy' | 'number' | 'user'> & {\n  userId: string;\n  userDisplayName: string | null;\n  userEmail: string | null;\n  userPhotoURL: string | null;\n};\n\nexport async function createPermit(data: PermitCreateData) {\n  if (!data.userId) {\n    return { success: false, error: 'User not authenticated' };\n  }\n\n  const { userId, userDisplayName, userEmail, userPhotoURL, ...permitData } = data;\n\n  const initialApprovals = {\n    solicitante: { status: 'pendiente' as const },\n    autorizante: { status: 'pendiente' as const },\n    mantenimiento: { status: 'pendiente' as const },\n    sst: { status: 'pendiente' as const }\n  };\n\n  const permitPayload: Partial<Permit> = {\n    ...permitData,\n    status: 'pendiente_revision' as const,\n    createdBy: userId,\n    createdAt: FieldValue.serverTimestamp(),\n    user: {\n      displayName: userDisplayName,\n      email: userEmail,\n      photoURL: userPhotoURL,\n    },\n    approvals: initialApprovals,\n    closure: {},\n  };\n  \n  try {\n    const docRef = await adminDb.collection('permits').add(permitPayload as any);\n    const permitNumber = `PT-${Date.now()}-${docRef.id.substring(0, 6).toUpperCase()}`;\n    await docRef.update({ number: permitNumber });\n    \n    console.log('‚úÖ [Action] Permiso creado con √©xito en Firestore:', docRef.id);\n\n    const workTypesText = getWorkTypesString(permitPayload);\n    const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || 'https://sgpt-movil.web.app';\n    const permitUrl = `${baseUrl}/permits/${docRef.id}`;\n    \n    const messageBody = `*¬°Alerta de Seguridad SGPT!* üö®\nSe ha creado una nueva solicitud de permiso de trabajo.\n\nüìÑ *N√∫mero:* ${permitNumber}\nüë§ *Solicitante:* ${userDisplayName || 'N/A'}\nüõ†Ô∏è *Tipo de Trabajo:* ${workTypesText}\n\nPor favor, revise la solicitud para su aprobaci√≥n en el siguiente enlace:\n${permitUrl}`;\n    \n    await sendWhatsAppNotification(messageBody);\n    \n    revalidatePath('/permits');\n    revalidatePath('/dashboard');\n    \n    return { success: true, permitId: docRef.id, permitNumber };\n  } catch (error: any) {\n    console.error(\"‚ùå [Action] Error al crear permiso:\", error);\n    return { \n      success: false, \n      error: error.message || 'Could not create permit. Please try again.' \n    };\n  }\n}\n\nexport async function addSignatureAndNotify(\n  permitId: string, \n  role: 'solicitante' | 'autorizante' | 'mantenimiento' | 'sst', \n  signatureType: 'firmaApertura' | 'firmaCierre',\n  signatureDataUrl: string,\n  user: { uid: string, displayName: string | null }\n) {\n    if (!permitId || !role || !signatureDataUrl || !user) {\n        return { success: false, error: 'Faltan par√°metros para guardar la firma.' };\n    }\n\n    try {\n        const docRef = adminDb.collection('permits').doc(permitId);\n        \n        const signaturePath = `approvals.${role}.${signatureType}`;\n        const statusPath = `approvals.${role}.status`;\n        const userIdPath = `approvals.${role}.userId`;\n        const userNamePath = `approvals.${role}.userName`;\n        const signedAtPath = `approvals.${role}.signedAt`;\n\n        const updateData: { [key: string]: any } = {\n            [signaturePath]: signatureDataUrl,\n            [`${userNamePath}`]: user.displayName,\n            [`${userIdPath}`]: user.uid,\n        };\n\n        if (signatureType === 'firmaApertura') {\n            updateData[statusPath] = 'aprobado';\n            updateData[signedAtPath] = FieldValue.serverTimestamp();\n        }\n\n        await docRef.update(updateData);\n        \n        // Fetch permit for notification\n        const permitDoc = await docRef.get();\n        const permitData = permitDoc.data() as Permit;\n        \n        const signatureRoleName = (signatureRoles as any)[role] || role;\n        const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || 'https://sgpt-movil.web.app';\n        const permitUrl = `${baseUrl}/permits/${permitId}`;\n        \n        const messageBody = `*Notificaci√≥n de Firma - SGPT* üñãÔ∏è\nEl permiso *${permitData.number || permitId}* ha sido firmado.\n\nüë§ *Qui√©n firm√≥:* ${user.displayName || 'N/A'}\n‚ú® *Rol:* ${signatureRoleName}\n‚úçÔ∏è *Tipo de firma:* ${signatureType === 'firmaApertura' ? 'Apertura' : 'Cierre'}\n\nPuede ver los detalles aqu√≠:\n${permitUrl}`;\n        \n        await sendWhatsAppNotification(messageBody);\n\n        revalidatePath(`/permits/${permitId}`);\n        return { success: true };\n\n    } catch (error: any) {\n        console.error(\"‚ùå Error al guardar firma y notificar:\", error);\n        return {\n            success: false,\n            error: error.message || 'No se pudo guardar la firma.'\n        };\n    }\n}\n\n\nexport async function updatePermitStatus(permitId: string, status: PermitStatus, reason?: string, closureData?: Partial<PermitClosure>) {\n    if (!permitId) {\n        return { success: false, error: 'Permit ID is required.' };\n    }\n\n    try {\n        const docRef = adminDb.collection('permits').doc(permitId);\n        const updateData: { status: PermitStatus; rejectionReason?: string; closure?: Partial<PermitClosure> | FieldValue } = { status };\n\n        if (status === 'rechazado' && reason) {\n            updateData.rejectionReason = reason;\n        }\n\n        if (status === 'cerrado') {\n            updateData.closure = {\n                ...(closureData || {}),\n                fechaCierre: new Date().toISOString().split('T')[0], // YYYY-MM-DD\n            };\n        }\n\n        await docRef.update(updateData);\n\n        // Fetch permit for notification\n        const permitDoc = await docRef.get();\n        const permitData = permitDoc.data() as Permit;\n\n        const statusText = getStatusText(status);\n        const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || 'https://sgpt-movil.web.app';\n        const permitUrl = `${baseUrl}/permits/${permitId}`;\n\n        let messageBody = `*Actualizaci√≥n de Estado - SGPT* üîÑ\nEl estado del permiso *${permitData.number || permitId}* ha cambiado.\n\n*Nuevo Estado:* ${statusText}\n\nPuede ver los detalles aqu√≠:\n${permitUrl}`;\n\n        if (status === 'rechazado' && reason) {\n          messageBody += `\\n\\n*Motivo del rechazo:* ${reason}`;\n        }\n        \n        await sendWhatsAppNotification(messageBody);\n        \n        revalidatePath(`/permits/${permitId}`);\n        revalidatePath('/permits');\n        revalidatePath('/dashboard');\n\n        return { success: true };\n    } catch (error: any) {\n        console.error(\"‚ùå Error updating permit status:\", error);\n        return {\n            success: false,\n            error: error.message || 'Could not update permit status.'\n        };\n    }\n}\n"],"names":[],"mappings":";;;;;;IAyEsB,eAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dialog.tsx"],"sourcesContent":["\n\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uKAAA,CAAA,OAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,uKAAA,CAAA,YAA2B;YAC1B,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE;sBAEd,cAAA,6LAAC,uMAAA,CAAA,QAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,uKAAA,CAAA,OAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 265, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/signature-pad.tsx"],"sourcesContent":["\n\"use client\";\n\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Button } from './button';\nimport { Eraser, Loader2, Save } from 'lucide-react';\nimport { DialogFooter } from './dialog';\nimport { Checkbox } from './checkbox';\nimport { Label } from './label';\n\ninterface SignaturePadProps {\n  onSave: (signature: string) => void;\n  isSaving?: boolean;\n}\n\nexport const SignaturePad: React.FC<SignaturePadProps> = ({ onSave, isSaving = false }) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [hasConsented, setHasConsented] = useState(false);\n\n  const getCanvasContext = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return null;\n    return canvas.getContext('2d');\n  };\n\n  const resizeCanvas = () => {\n    const canvas = canvasRef.current;\n    const container = containerRef.current;\n    if (canvas && container) {\n      canvas.width = container.offsetWidth;\n      canvas.height = 200; // Keep a fixed height or make it responsive too\n      const ctx = getCanvasContext();\n      if(ctx) {\n        ctx.strokeStyle = '#000';\n        ctx.lineWidth = 2;\n      }\n    }\n  };\n\n  useEffect(() => {\n    resizeCanvas();\n    window.addEventListener('resize', resizeCanvas);\n    return () => window.removeEventListener('resize', resizeCanvas);\n  }, []);\n\n  const startDrawing = (event: React.MouseEvent<HTMLCanvasElement> | React.TouchEvent<HTMLCanvasElement>) => {\n    event.preventDefault();\n    const ctx = getCanvasContext();\n    if (!ctx) return;\n    \n    const pos = getMousePos(event);\n    ctx.beginPath();\n    ctx.moveTo(pos.x, pos.y);\n    setIsDrawing(true);\n  };\n\n  const draw = (event: React.MouseEvent<HTMLCanvasElement> | React.TouchEvent<HTMLCanvasElement>) => {\n    event.preventDefault();\n    if (!isDrawing) return;\n    const ctx = getCanvasContext();\n    if (!ctx) return;\n\n    const pos = getMousePos(event);\n    ctx.lineTo(pos.x, pos.y);\n    ctx.stroke();\n  };\n\n  const stopDrawing = () => {\n    const ctx = getCanvasContext();\n    if (!ctx) return;\n    ctx.closePath();\n    setIsDrawing(false);\n  };\n  \n  const getMousePos = (event: React.MouseEvent<HTMLCanvasElement> | React.TouchEvent<HTMLCanvasElement>) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return { x: 0, y: 0 };\n    const rect = canvas.getBoundingClientRect();\n\n    let clientX, clientY;\n\n    if ('touches' in event.nativeEvent) {\n      if (event.nativeEvent.touches.length === 0) return { x: 0, y: 0};\n      clientX = event.nativeEvent.touches[0].clientX;\n      clientY = event.nativeEvent.touches[0].clientY;\n    } else {\n      clientX = (event.nativeEvent as MouseEvent).clientX;\n      clientY = (event.nativeEvent as MouseEvent).clientY;\n    }\n    \n    return {\n      x: clientX - rect.left,\n      y: clientY - rect.top,\n    };\n  }\n\n  const clearPad = () => {\n    const canvas = canvasRef.current;\n    const ctx = getCanvasContext();\n    if (canvas && ctx) {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n    }\n  };\n\n  const handleSave = () => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      const blank = document.createElement('canvas');\n      blank.width = canvas.width;\n      blank.height = canvas.height;\n      if(canvas.toDataURL() === blank.toDataURL()) {\n        alert(\"Por favor, provea una firma.\");\n        return;\n      }\n      \n      const dataUrl = canvas.toDataURL('image/png');\n      onSave(dataUrl);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center gap-4 w-full\" ref={containerRef}>\n      <canvas\n        ref={canvasRef}\n        className=\"border border-gray-300 rounded-md bg-white cursor-crosshair touch-none w-full\"\n        onMouseDown={startDrawing}\n        onMouseMove={draw}\n        onMouseUp={stopDrawing}\n        onMouseLeave={stopDrawing}\n        onTouchStart={startDrawing}\n        onTouchMove={draw}\n        onTouchEnd={stopDrawing}\n      />\n      <div className=\"flex items-start space-x-3 my-4\">\n        <Checkbox \n          id=\"terms\" \n          checked={hasConsented}\n          onCheckedChange={(checked) => setHasConsented(checked as boolean)}\n        />\n        <Label htmlFor=\"terms\" className=\"text-xs text-muted-foreground font-normal\">\n          Autorizo el tratamiento de mis datos personales y el uso de mi firma digital, de conformidad con la Ley 1581 de 2012 de Colombia, para la validaci√≥n y gesti√≥n de documentos dentro del sistema SGPT M√≥vil.\n        </Label>\n      </div>\n      <DialogFooter className=\"w-full\">\n         <Button variant=\"outline\" onClick={clearPad} disabled={isSaving}>\n          <Eraser className=\"mr-2 h-4 w-4\" />\n          Limpiar\n        </Button>\n        <Button onClick={handleSave} disabled={!hasConsented || isSaving}>\n          {isSaving ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Save className=\"mr-2 h-4 w-4\" />}\n          {isSaving ? 'Guardando...' : 'Guardar Firma'}\n        </Button>\n      </DialogFooter>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;AAPA;;;;;;;AAcO,MAAM,eAA4C,CAAC,EAAE,MAAM,EAAE,WAAW,KAAK,EAAE;;IACpF,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAqB;IAC5C,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAC5C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,mBAAmB;QACvB,MAAM,SAAS,UAAU,OAAO;QAChC,IAAI,CAAC,QAAQ,OAAO;QACpB,OAAO,OAAO,UAAU,CAAC;IAC3B;IAEA,MAAM,eAAe;QACnB,MAAM,SAAS,UAAU,OAAO;QAChC,MAAM,YAAY,aAAa,OAAO;QACtC,IAAI,UAAU,WAAW;YACvB,OAAO,KAAK,GAAG,UAAU,WAAW;YACpC,OAAO,MAAM,GAAG,KAAK,gDAAgD;YACrE,MAAM,MAAM;YACZ,IAAG,KAAK;gBACN,IAAI,WAAW,GAAG;gBAClB,IAAI,SAAS,GAAG;YAClB;QACF;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR;YACA,OAAO,gBAAgB,CAAC,UAAU;YAClC;0CAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;iCAAG,EAAE;IAEL,MAAM,eAAe,CAAC;QACpB,MAAM,cAAc;QACpB,MAAM,MAAM;QACZ,IAAI,CAAC,KAAK;QAEV,MAAM,MAAM,YAAY;QACxB,IAAI,SAAS;QACb,IAAI,MAAM,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC;QACvB,aAAa;IACf;IAEA,MAAM,OAAO,CAAC;QACZ,MAAM,cAAc;QACpB,IAAI,CAAC,WAAW;QAChB,MAAM,MAAM;QACZ,IAAI,CAAC,KAAK;QAEV,MAAM,MAAM,YAAY;QACxB,IAAI,MAAM,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC;QACvB,IAAI,MAAM;IACZ;IAEA,MAAM,cAAc;QAClB,MAAM,MAAM;QACZ,IAAI,CAAC,KAAK;QACV,IAAI,SAAS;QACb,aAAa;IACf;IAEA,MAAM,cAAc,CAAC;QACnB,MAAM,SAAS,UAAU,OAAO;QAChC,IAAI,CAAC,QAAQ,OAAO;YAAE,GAAG;YAAG,GAAG;QAAE;QACjC,MAAM,OAAO,OAAO,qBAAqB;QAEzC,IAAI,SAAS;QAEb,IAAI,aAAa,MAAM,WAAW,EAAE;YAClC,IAAI,MAAM,WAAW,CAAC,OAAO,CAAC,MAAM,KAAK,GAAG,OAAO;gBAAE,GAAG;gBAAG,GAAG;YAAC;YAC/D,UAAU,MAAM,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO;YAC9C,UAAU,MAAM,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO;QAChD,OAAO;YACL,UAAU,AAAC,MAAM,WAAW,CAAgB,OAAO;YACnD,UAAU,AAAC,MAAM,WAAW,CAAgB,OAAO;QACrD;QAEA,OAAO;YACL,GAAG,UAAU,KAAK,IAAI;YACtB,GAAG,UAAU,KAAK,GAAG;QACvB;IACF;IAEA,MAAM,WAAW;QACf,MAAM,SAAS,UAAU,OAAO;QAChC,MAAM,MAAM;QACZ,IAAI,UAAU,KAAK;YACjB,IAAI,SAAS,CAAC,GAAG,GAAG,OAAO,KAAK,EAAE,OAAO,MAAM;QACjD;IACF;IAEA,MAAM,aAAa;QACjB,MAAM,SAAS,UAAU,OAAO;QAChC,IAAI,QAAQ;YACV,MAAM,QAAQ,SAAS,aAAa,CAAC;YACrC,MAAM,KAAK,GAAG,OAAO,KAAK;YAC1B,MAAM,MAAM,GAAG,OAAO,MAAM;YAC5B,IAAG,OAAO,SAAS,OAAO,MAAM,SAAS,IAAI;gBAC3C,MAAM;gBACN;YACF;YAEA,MAAM,UAAU,OAAO,SAAS,CAAC;YACjC,OAAO;QACT;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;QAA0C,KAAK;;0BAC5D,6LAAC;gBACC,KAAK;gBACL,WAAU;gBACV,aAAa;gBACb,aAAa;gBACb,WAAW;gBACX,cAAc;gBACd,cAAc;gBACd,aAAa;gBACb,YAAY;;;;;;0BAEd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,uIAAA,CAAA,WAAQ;wBACP,IAAG;wBACH,SAAS;wBACT,iBAAiB,CAAC,UAAY,gBAAgB;;;;;;kCAEhD,6LAAC,oIAAA,CAAA,QAAK;wBAAC,SAAQ;wBAAQ,WAAU;kCAA4C;;;;;;;;;;;;0BAI/E,6LAAC,qIAAA,CAAA,eAAY;gBAAC,WAAU;;kCACrB,6LAAC,qIAAA,CAAA,SAAM;wBAAC,SAAQ;wBAAU,SAAS;wBAAU,UAAU;;0CACtD,6LAAC,yMAAA,CAAA,SAAM;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;kCAGrC,6LAAC,qIAAA,CAAA,SAAM;wBAAC,SAAS;wBAAY,UAAU,CAAC,gBAAgB;;4BACrD,yBAAW,6LAAC,oNAAA,CAAA,UAAO;gCAAC,WAAU;;;;;qDAAiC,6LAAC,qMAAA,CAAA,OAAI;gCAAC,WAAU;;;;;;4BAC/E,WAAW,iBAAiB;;;;;;;;;;;;;;;;;;;AAKvC;GA9Ia;KAAA","debugId":null}},
    {"offset": {"line": 506, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/form-context.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useReducer, useContext, Dispatch } from 'react';\nimport type { Permit, ExternalWorker, AnexoATS, AnexoAltura, AnexoConfinado, AnexoEnergias, AnexoIzaje } from '@/types';\n\n// Define the shape of the form data\ntype PermitFormData = Omit<Permit, 'id' | 'createdAt' | 'status' | 'createdBy' | 'number' | 'user' | 'approvals' | 'closure'>;\n\n// Define the shape of the state\ninterface FormState extends PermitFormData {}\n\n// Define the actions\ntype FormAction =\n  | { type: 'UPDATE_GENERAL_INFO'; payload: Partial<FormState['generalInfo']> }\n  | { type: 'UPDATE_WORK_TYPES'; payload: { type: keyof FormState['selectedWorkTypes'], value: boolean } }\n  | { type: 'UPDATE_ATS'; payload: Partial<FormState['anexoATS']> }\n  | { type: 'UPDATE_ANEXO_ALTURA'; payload: Partial<FormState['anexoAltura']> }\n  | { type: 'UPDATE_ANEXO_CONFINADO'; payload: Partial<FormState['anexoConfinado']> }\n  | { type: 'UPDATE_ANEXO_ENERGIA'; payload: Partial<FormState['anexoEnergias']> }\n  | { type: 'UPDATE_ANEXO_IZAJE'; payload: Partial<FormState['anexoIzaje']> }\n  | { type: 'SET_WORKERS'; payload: ExternalWorker[] }\n  | { type: 'ADD_WORKER'; payload: ExternalWorker }\n  | { type: 'UPDATE_SIGNATURE', payload: { target: string, signature: string, context: any } }\n  | { type: 'RESET_FORM' };\n\n\n// Initial state\nconst initialState: FormState = {\n  generalInfo: {\n    areaEspecifica: '',\n    planta: '',\n    proceso: '',\n    contrato: '',\n    empresa: '',\n    nombreSolicitante: '',\n    fechaCreacion: new Date().toISOString(),\n    validFrom: '',\n    validUntil: '',\n    workDescription: '',\n    tools: [],\n    numTrabajadores: '',\n    reunionInicio: 'na',\n    atsVerificado: 'na',\n    responsable: { nombre: '', cargo: '', compania: '', alcance: '' }\n  },\n  selectedWorkTypes: {\n    alturas: false,\n    confinado: false,\n    energia: false,\n    izaje: false,\n    caliente: false,\n    excavacion: false,\n    general: false,\n  },\n  anexoATS: {\n    peligros: {},\n    controles: {},\n    epp: {},\n    justificacion: {},\n    protocolosBioseguridad: 'no'\n  },\n  anexoAltura: {\n    tipoEstructura: {\n        escaleraCuerpo: false,\n        escaleraDosCuerpos: false,\n        andamioTubular: false,\n        andamioColgante: false,\n        plataforma: false,\n        manLift: false,\n        otros: false,\n        otrosCual: '',\n    },\n    aspectosSeguridad: {},\n    precauciones: {},\n    afectaciones: {\n        riesgoOtrasAreas: 'na',\n        otrasAreasRiesgo: 'na',\n        personalNotificado: 'na',\n        observaciones: '',\n    },\n  },\n  anexoConfinado: {\n    identificacionPeligros: {},\n    precauciones: {},\n    resultadosPruebasGases: {},\n    requerimientosEquipos: {},\n    pruebasGasesPeriodicas: {\n      intervalo: '',\n      pruebas: [],\n      pruebaRealizadaPor: '',\n      serialMonitor: '',\n      marca: '',\n      fechaCalibracion: '',\n    },\n    validacion: {\n        autoridad: [],\n        responsable: [],\n    },\n  },\n  anexoEnergias: {\n    trabajosEnCaliente: {},\n    energiasPeligrosas: {},\n    procedimientoLOTO: {},\n    trabajosConEnergiaElectrica: {},\n    tensionExpuesta: {},\n    planeacion: {},\n    metodoTrabajo: {\n      sinTension: false,\n      conTension: false,\n    },\n    trabajoConTension: {},\n    trabajoSinTension: {},\n    observaciones: '',\n  },\n  anexoIzaje: {\n    informacionGeneral: {\n        accion: {},\n        pesoCarga: {},\n        equipoUtilizar: {},\n        capacidadEquipo: '',\n    },\n    aspectosRequeridos: {},\n    precauciones: {},\n  },\n  workers: [],\n};\n\n// Reducer function\nfunction formReducer(state: FormState, action: FormAction): FormState {\n  switch (action.type) {\n    case 'UPDATE_GENERAL_INFO':\n      return {\n        ...state,\n        generalInfo: { ...state.generalInfo, ...action.payload },\n      };\n    case 'UPDATE_WORK_TYPES':\n        return {\n            ...state,\n            selectedWorkTypes: { ...state.selectedWorkTypes, [action.payload.type]: action.payload.value }\n        }\n    case 'UPDATE_ATS':\n        return {\n            ...state,\n            anexoATS: { ...state.anexoATS, ...action.payload },\n        }\n    case 'UPDATE_ANEXO_ALTURA':\n        return {\n            ...state,\n            anexoAltura: { ...state.anexoAltura, ...action.payload },\n        }\n    case 'UPDATE_ANEXO_CONFINADO':\n        return {\n            ...state,\n            anexoConfinado: { ...state.anexoConfinado, ...action.payload },\n        }\n    case 'UPDATE_ANEXO_ENERGIA':\n        return {\n            ...state,\n            anexoEnergias: { ...state.anexoEnergias, ...action.payload },\n        }\n    case 'UPDATE_ANEXO_IZAJE':\n        return {\n            ...state,\n            anexoIzaje: { ...state.anexoIzaje, ...action.payload },\n        }\n    case 'SET_WORKERS':\n        return {\n            ...state,\n            workers: action.payload,\n        }\n    case 'ADD_WORKER':\n        return {\n            ...state,\n            workers: [...(state.workers || []), action.payload]\n        }\n    case 'UPDATE_SIGNATURE':\n      // Complex logic for updating signatures in nested annexes can be handled here\n      // This is a simplified example\n      console.log('Signature update needs to be implemented in reducer:', action.payload);\n      return state;\n    case 'RESET_FORM':\n      return initialState;\n    default:\n      return state;\n  }\n}\n\n// Create the context\nconst PermitFormContext = createContext<{ state: FormState; dispatch: Dispatch<FormAction> } | undefined>(undefined);\n\n// Create the provider component\nexport function PermitFormProvider({ children }: { children: React.ReactNode }) {\n  const [state, dispatch] = useReducer(formReducer, initialState);\n\n  return (\n    <PermitFormContext.Provider value={{ state, dispatch }}>\n      {children}\n    </PermitFormContext.Provider>\n  );\n}\n\n// Custom hook to use the context\nexport function usePermitForm() {\n  const context = useContext(PermitFormContext);\n  if (!context) {\n    throw new Error('usePermitForm must be used within a PermitFormProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AA0BA,gBAAgB;AAChB,MAAM,eAA0B;IAC9B,aAAa;QACX,gBAAgB;QAChB,QAAQ;QACR,SAAS;QACT,UAAU;QACV,SAAS;QACT,mBAAmB;QACnB,eAAe,IAAI,OAAO,WAAW;QACrC,WAAW;QACX,YAAY;QACZ,iBAAiB;QACjB,OAAO,EAAE;QACT,iBAAiB;QACjB,eAAe;QACf,eAAe;QACf,aAAa;YAAE,QAAQ;YAAI,OAAO;YAAI,UAAU;YAAI,SAAS;QAAG;IAClE;IACA,mBAAmB;QACjB,SAAS;QACT,WAAW;QACX,SAAS;QACT,OAAO;QACP,UAAU;QACV,YAAY;QACZ,SAAS;IACX;IACA,UAAU;QACR,UAAU,CAAC;QACX,WAAW,CAAC;QACZ,KAAK,CAAC;QACN,eAAe,CAAC;QAChB,wBAAwB;IAC1B;IACA,aAAa;QACX,gBAAgB;YACZ,gBAAgB;YAChB,oBAAoB;YACpB,gBAAgB;YAChB,iBAAiB;YACjB,YAAY;YACZ,SAAS;YACT,OAAO;YACP,WAAW;QACf;QACA,mBAAmB,CAAC;QACpB,cAAc,CAAC;QACf,cAAc;YACV,kBAAkB;YAClB,kBAAkB;YAClB,oBAAoB;YACpB,eAAe;QACnB;IACF;IACA,gBAAgB;QACd,wBAAwB,CAAC;QACzB,cAAc,CAAC;QACf,wBAAwB,CAAC;QACzB,uBAAuB,CAAC;QACxB,wBAAwB;YACtB,WAAW;YACX,SAAS,EAAE;YACX,oBAAoB;YACpB,eAAe;YACf,OAAO;YACP,kBAAkB;QACpB;QACA,YAAY;YACR,WAAW,EAAE;YACb,aAAa,EAAE;QACnB;IACF;IACA,eAAe;QACb,oBAAoB,CAAC;QACrB,oBAAoB,CAAC;QACrB,mBAAmB,CAAC;QACpB,6BAA6B,CAAC;QAC9B,iBAAiB,CAAC;QAClB,YAAY,CAAC;QACb,eAAe;YACb,YAAY;YACZ,YAAY;QACd;QACA,mBAAmB,CAAC;QACpB,mBAAmB,CAAC;QACpB,eAAe;IACjB;IACA,YAAY;QACV,oBAAoB;YAChB,QAAQ,CAAC;YACT,WAAW,CAAC;YACZ,gBAAgB,CAAC;YACjB,iBAAiB;QACrB;QACA,oBAAoB,CAAC;QACrB,cAAc,CAAC;IACjB;IACA,SAAS,EAAE;AACb;AAEA,mBAAmB;AACnB,SAAS,YAAY,KAAgB,EAAE,MAAkB;IACvD,OAAQ,OAAO,IAAI;QACjB,KAAK;YACH,OAAO;gBACL,GAAG,KAAK;gBACR,aAAa;oBAAE,GAAG,MAAM,WAAW;oBAAE,GAAG,OAAO,OAAO;gBAAC;YACzD;QACF,KAAK;YACD,OAAO;gBACH,GAAG,KAAK;gBACR,mBAAmB;oBAAE,GAAG,MAAM,iBAAiB;oBAAE,CAAC,OAAO,OAAO,CAAC,IAAI,CAAC,EAAE,OAAO,OAAO,CAAC,KAAK;gBAAC;YACjG;QACJ,KAAK;YACD,OAAO;gBACH,GAAG,KAAK;gBACR,UAAU;oBAAE,GAAG,MAAM,QAAQ;oBAAE,GAAG,OAAO,OAAO;gBAAC;YACrD;QACJ,KAAK;YACD,OAAO;gBACH,GAAG,KAAK;gBACR,aAAa;oBAAE,GAAG,MAAM,WAAW;oBAAE,GAAG,OAAO,OAAO;gBAAC;YAC3D;QACJ,KAAK;YACD,OAAO;gBACH,GAAG,KAAK;gBACR,gBAAgB;oBAAE,GAAG,MAAM,cAAc;oBAAE,GAAG,OAAO,OAAO;gBAAC;YACjE;QACJ,KAAK;YACD,OAAO;gBACH,GAAG,KAAK;gBACR,eAAe;oBAAE,GAAG,MAAM,aAAa;oBAAE,GAAG,OAAO,OAAO;gBAAC;YAC/D;QACJ,KAAK;YACD,OAAO;gBACH,GAAG,KAAK;gBACR,YAAY;oBAAE,GAAG,MAAM,UAAU;oBAAE,GAAG,OAAO,OAAO;gBAAC;YACzD;QACJ,KAAK;YACD,OAAO;gBACH,GAAG,KAAK;gBACR,SAAS,OAAO,OAAO;YAC3B;QACJ,KAAK;YACD,OAAO;gBACH,GAAG,KAAK;gBACR,SAAS;uBAAK,MAAM,OAAO,IAAI,EAAE;oBAAG,OAAO,OAAO;iBAAC;YACvD;QACJ,KAAK;YACH,8EAA8E;YAC9E,+BAA+B;YAC/B,QAAQ,GAAG,CAAC,wDAAwD,OAAO,OAAO;YAClF,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AAEA,qBAAqB;AACrB,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAoE;AAGnG,SAAS,mBAAmB,EAAE,QAAQ,EAAiC;;IAC5E,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE,aAAa;IAElD,qBACE,6LAAC,kBAAkB,QAAQ;QAAC,OAAO;YAAE;YAAO;QAAS;kBAClD;;;;;;AAGP;GARgB;KAAA;AAWT,SAAS;;IACd,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 743, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 778, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 993, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/GeneralInfoStep.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { usePermitForm } from '../form-context';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Button } from '@/components/ui/button';\nimport { Plus, Trash2 } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { collection, onSnapshot, doc } from 'firebase/firestore';\nimport { db } from '@/lib/firebase';\n\nconst workTypes: { key: keyof ReturnType<typeof usePermitForm>['state']['selectedWorkTypes'], name: string }[] = [\n  { key: 'alturas', name: 'Trabajo en Alturas' },\n  { key: 'confinado', name: 'Espacios Confinados' },\n  { key: 'energia', name: 'Control de Energ√≠as' },\n  { key: 'izaje', name: 'Izaje de Cargas' },\n  { key: 'caliente', name: 'Trabajo en Caliente' },\n  { key: 'excavacion', name: 'Excavaciones' },\n  { key: 'general', name: 'Trabajo General' },\n];\n\nexport function GeneralInfoStep() {\n  const { state, dispatch } = usePermitForm();\n  const { generalInfo, selectedWorkTypes } = state;\n  const { toast } = useToast();\n\n  const [newToolName, setNewToolName] = React.useState('');\n\n  const [dynamicLists, setDynamicLists] = React.useState({\n    areas: [] as string[],\n    plantas: [] as string[],\n    procesos: [] as string[],\n    contratos: [] as string[],\n    empresas: [] as string[],\n  });\n  const [loadingLists, setLoadingLists] = React.useState(true);\n\n  React.useEffect(() => {\n    setLoadingLists(true);\n    const listNames = ['areas', 'plantas', 'procesos', 'contratos', 'empresas'];\n    const unsubscribers = listNames.map(listName => {\n      const docRef = doc(db, 'dynamic_lists', listName);\n      return onSnapshot(docRef, (docSnap) => {\n        setDynamicLists(prev => ({\n          ...prev,\n          [listName]: docSnap.exists() ? docSnap.data().items?.sort() || [] : []\n        }));\n      }, (error) => {\n        console.error(`Error fetching ${listName}:`, error);\n        toast({\n          variant: \"destructive\",\n          title: \"Error de Carga\",\n          description: `No se pudo cargar la lista para ${listName}.`,\n        });\n      });\n    });\n\n    // This is a bit of a hack to know when all listeners have fired at least once\n    Promise.all(listNames.map(listName => new Promise(resolve => {\n      const docRef = doc(db, 'dynamic_lists', listName);\n      onSnapshot(docRef, () => resolve(true), () => resolve(true)); // Resolve even on error\n    }))).then(() => setLoadingLists(false));\n\n    return () => unsubscribers.forEach(unsub => unsub());\n  }, [toast]);\n\n\n  const handleInputChange = (field: keyof typeof generalInfo, value: any) => {\n    dispatch({ type: 'UPDATE_GENERAL_INFO', payload: { [field]: value } });\n  };\n\n  const handleWorkTypeChange = (type: keyof typeof selectedWorkTypes, value: boolean) => {\n    dispatch({ type: 'UPDATE_WORK_TYPES', payload: { type, value } });\n  };\n  \n  const handleResponsableChange = (field: keyof typeof generalInfo.responsable, value: string) => {\n    const newResponsable = { ...generalInfo.responsable, [field]: value };\n    handleInputChange('responsable', newResponsable);\n  };\n\n  const addTool = () => {\n    if (newToolName.trim()) {\n      const newTools = [...(generalInfo.tools || []), { name: newToolName.trim(), status: 'B' }];\n      handleInputChange('tools', newTools);\n      setNewToolName('');\n    }\n  };\n\n  const removeTool = (index: number) => {\n    const newTools = (generalInfo.tools || []).filter((_, i) => i !== index);\n    handleInputChange('tools', newTools);\n  };\n\n  const renderDynamicSelect = React.useCallback((listKey: keyof typeof dynamicLists, fieldKey: keyof typeof generalInfo, label: string, required: boolean) => (\n    <div>\n      <Label className={`font-bold text-gray-700 ${required ? 'after:content-[\"*\"] after:ml-0.5 after:text-red-500' : ''}`}>{label}</Label>\n      <Select\n        value={(generalInfo as any)[fieldKey] || ''}\n        onValueChange={(value) => handleInputChange(fieldKey, value)}\n        disabled={loadingLists}\n      >\n        <SelectTrigger>\n          <SelectValue placeholder={loadingLists ? \"Cargando...\" : `Seleccione una opci√≥n...`} />\n        </SelectTrigger>\n        <SelectContent>\n          {dynamicLists[listKey].map((item) => (\n            <SelectItem key={item} value={item}>{item}</SelectItem>\n          ))}\n        </SelectContent>\n      </Select>\n    </div>\n  ), [generalInfo, dynamicLists, loadingLists, handleInputChange]);\n\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"text-center mb-6\">\n        <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">\n          Informaci√≥n General del Permiso\n        </h2>\n        <p className=\"text-muted-foreground text-sm\">Complete todos los campos obligatorios (*)</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {renderDynamicSelect('areas', 'areaEspecifica', '√Årea o equipo espec√≠fico', true)}\n        {renderDynamicSelect('plantas', 'planta', 'Planta', true)}\n        {renderDynamicSelect('procesos', 'proceso', 'Proceso', false)}\n        {renderDynamicSelect('contratos', 'contrato', 'Contrato', false)}\n        {renderDynamicSelect('empresas', 'empresa', 'Empresa', false)}\n        <div>\n          <Label className=\"font-bold text-gray-700 after:content-['*'] after:ml-0.5 after:text-red-500\">Nombre del solicitante</Label>\n          <Input value={generalInfo.nombreSolicitante || ''} readOnly disabled />\n        </div>\n      </div>\n\n      <div>\n        <Label className=\"font-bold text-gray-700\">Listas de Verificaci√≥n Complementarias *</Label>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-4 p-4 border rounded-lg mt-2\">\n          {workTypes.map(({ key, name }) => (\n            <div key={key} className=\"flex items-center space-x-2\">\n              <Checkbox\n                id={key}\n                checked={selectedWorkTypes[key]}\n                onCheckedChange={(checked) => handleWorkTypeChange(key, !!checked)}\n              />\n              <label htmlFor={key} className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\n                {name}\n              </label>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div>\n        <Label className=\"font-bold text-gray-700\">Duraci√≥n del Permiso *</Label>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 border rounded-lg\">\n          <div>\n            <label className=\"text-sm font-medium\">Desde</label>\n            <Input\n              type=\"datetime-local\"\n              value={generalInfo.validFrom}\n              onChange={(e) => handleInputChange('validFrom', e.target.value)}\n            />\n          </div>\n          <div>\n            <label className=\"text-sm font-medium\">Hasta</label>\n            <Input\n              type=\"datetime-local\"\n              value={generalInfo.validUntil}\n              onChange={(e) => handleInputChange('validUntil', e.target.value)}\n            />\n          </div>\n        </div>\n      </div>\n\n      <div>\n        <Label className=\"font-bold\">Descripci√≥n de la Tarea - ALCANCE *</Label>\n        <Textarea\n          value={generalInfo.workDescription}\n          onChange={(e) => handleInputChange('workDescription', e.target.value)}\n          rows={3}\n          className=\"w-full mt-1\"\n          placeholder=\"Describa el alcance, descripci√≥n y √°rea/equipo...\"\n        />\n      </div>\n\n      <div>\n        <Label className=\"font-bold text-gray-700\">Equipos y/o Herramientas</Label>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border rounded-lg mt-2\">\n            <div className=\"space-y-2\">\n                {generalInfo.tools?.slice(0, 4).map((tool, index) => (\n                    <div key={index} className=\"flex items-center gap-4 p-2 bg-gray-50 rounded\">\n                    <span className=\"flex-1\">{tool.name}</span>\n                    <Button variant=\"ghost\" size=\"icon\" onClick={() => removeTool(index)}><Trash2 className=\"h-4 w-4 text-destructive\"/></Button>\n                    </div>\n                ))}\n            </div>\n              <div className=\"space-y-2\">\n                {generalInfo.tools?.slice(4, 8).map((tool, index) => (\n                    <div key={index + 4} className=\"flex items-center gap-4 p-2 bg-gray-50 rounded\">\n                    <span className=\"flex-1\">{tool.name}</span>\n                    <Button variant=\"ghost\" size=\"icon\" onClick={() => removeTool(index + 4)}><Trash2 className=\"h-4 w-4 text-destructive\"/></Button>\n                    </div>\n                ))}\n            </div>\n            <div className=\"md:col-span-2 flex gap-2\">\n                <Input value={newToolName} onChange={(e) => setNewToolName(e.target.value)} placeholder=\"Nueva herramienta...\" />\n                <Button onClick={addTool}><Plus/></Button>\n            </div>\n        </div>\n      </div>\n\n      <div>\n        <Label className=\"font-bold text-gray-700\">No. Trabajadores *</Label>\n        <Input type=\"number\" value={generalInfo.numTrabajadores} onChange={e => handleInputChange('numTrabajadores', e.target.value)} placeholder=\"Cantidad de trabajadores\" />\n      </div>\n\n      {/* Boolean Radios would go here */}\n\n      <div>\n        <Label className=\"font-bold text-gray-700\">Responsable del Trabajo / Ejecutor</Label>\n        <div className=\"p-4 border rounded-lg mt-2 space-y-4\">\n          <Input placeholder=\"Nombre completo\" value={generalInfo.responsable?.nombre} onChange={e => handleResponsableChange('nombre', e.target.value)} />\n          <Input placeholder=\"Cargo\" value={generalInfo.responsable?.cargo} onChange={e => handleResponsableChange('cargo', e.target.value)} />\n          <Input placeholder=\"Compa√±√≠a\" value={generalInfo.responsable?.compania} onChange={e => handleResponsableChange('compania', e.target.value)} />\n          <Textarea placeholder=\"Alcance\" value={generalInfo.responsable?.alcance} onChange={e => handleResponsableChange('alcance', e.target.value)} />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1700, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/collapsible.tsx"],"sourcesContent":["\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;AAIA,MAAM,cAAc,0KAAA,CAAA,OAAyB;AAE7C,MAAM,qBAAqB,0KAAA,CAAA,qBAAuC;AAElE,MAAM,qBAAqB,0KAAA,CAAA,qBAAuC","debugId":null}},
    {"offset": {"line": 1721, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/radio-group.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC,6KAAA,CAAA,OAAwB;QACvB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;QAC3B,GAAG,KAAK;QACT,KAAK;;;;;;AAGX;;AACA,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4OACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,YAA6B;YAAC,WAAU;sBACvC,cAAA,6LAAC,yMAAA,CAAA,SAAM;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI1B;;AACA,eAAe,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1791, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/AtsStep.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { Label } from '@/components/ui/label';\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from '@/components/ui/collapsible';\nimport { Button } from '@/components/ui/button';\nimport { ChevronDown, Plus, Trash2 } from 'lucide-react';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport type { AnexoATS } from '@/types';\n\n// Props del componente\ninterface AtsStepProps {\n  anexoATS: AnexoATS;\n  onUpdateATS: (updates: Partial<AnexoATS>) => void;\n}\n\nconst hazardCategories = {\n  LOCATIVOS: [\n    { id: 'superficies_irregulares', label: 'Superficies irregulares', control: 'Uso de botas de seguridad con suela antideslizante. Controlar escapes, derrames o goteras sobre los sitios de desplazamiento. Limpiar de inmediato cualquier l√≠quido que se derrame en el piso. Caminar con precauci√≥n. No cargar piezas o equipos que limiten la vista. Respetar la se√±alizaci√≥n. Transitar con precauci√≥n verificando rutas de tr√°nsito; no pasar donde haya presencia de materiales u obst√°culos; mantener el √°rea ordenada.' },\n    { id: 'superficies_deslizantes', label: 'Superficies deslizantes', control: 'Al subir o bajar escaleras utilizar todos los pelda√±os y sujetarse del pasamanos; mantener los tres puntos de apoyo; ascender y descender pausadamente.' },\n    { id: 'diferencia_nivel', label: 'Superficies con diferencia de nivel', control: 'No caminar hacia atr√°s. No acercarse a los vac√≠os existentes cerca al √°rea de trabajo. Informar cualquier condici√≥n de inseguridad que observe en las √°reas de trabajo.' },\n    { id: 'techos_mal_estado', label: 'Techos, muros, pisos o paredes en mas estado', control: 'Hacer uso de los elementos de prevenci√≥n y protecci√≥n contra ca√≠das, diligenciar permiso de trabajo en alturas si se supera el 2,0 metros.' },\n    { id: 'espacios_reducidos', label: 'Espacios reducidos de trabajo', control: 'Si esta catalogado como espacio confinado, aplica permiso de trabajo en espacio confinado, aplique las medidas de prevenci√≥n y protecci√≥n definidas por la empesa' },\n  ],\n  F√çSICOS: [\n    { id: 'deficiencia_iluminacion', label: 'Deficiencia de iluminaci√≥n', control: 'Uso de reflectores y/o l√°mparas en √°reas con iluminaci√≥n deficiente y en trabajo nocturno. Informar al due√±o de √°rea ausencia o da√±o de iluminaci√≥n artificial. Usar gafas claras todo el tiempo en caso de luz deficiente. Permanecer √∫nicamente en el sitio autorizado de trabajo.' },\n    { id: 'exceso_iluminacion', label: 'Exceso de iluminaci√≥n', control: 'En trabajos en el exterior, uso de gafas oscuras en caso de exceso de iluminaci√≥n; evitar cambios bruscos de iluminaci√≥n (deslumbramientos)' },\n    { id: 'ruido_intermitente', label: 'Ruido (Intermitente/Continuo)', control: 'Usar de manera permanente protecci√≥n auditiva tipo copa o de inserci√≥n y no retirarlo durante toda la tarea.' },\n    { id: 'contacto_superficies_calientes', label: 'Contacto superficies calientes', control: 'Usar de manera permanente guantes de protecci√≥n, uso de ropa manga larga, identificar con se√±alizaci√≥n o superficies calientes' },\n    { id: 'exposicion_soldadura', label: 'Exposici√≥n a arco de soldadura', control: 'Utilizar yelmo de soldar o la pantalla de mano siempre que se suelde, no mira nunca directamente al arco voltaico, no pique el cord√≥n de soldadura sin protecci√≥n ocular' },\n  ],\n  QU√çMICOS: [\n    { id: 'gases_humos_vapores', label: 'Gases, humos, vapores y neblinas', control: 'Uso permanente de protecci√≥n respiratoria de acuerdo al tipo de exposici√≥n. En caso de uso de mascarilla con filtros, verificar que se usen los adecuados para el tipo de agente qu√≠mico (gas, vapor, humo, material particulado, polvos, nieblas, roc√≠os, etc.)' },\n    { id: 'material_particulado', label: 'Material particulado', control: 'Realizar mantenimiento peri√≥dico de la mascarilla y hacer el cambio cuando sea necesario. Asegurar el sello efectivo de la mascarilla media cara al contacto con la piel.' },\n    { id: 'contacto_sustancias_peligrosas', label: 'Uso o contacto con materiales y sustancias peligrosas', control: 'Uso de elementos de protecci√≥n personal de acuerdo a la FDS Ficha de Datos de Seguridad, disponer en sitio de las medidas de protecci√≥n se√±aladas en la Ficha en caso de contacto accidental' },\n    { id: 'derrame_productos_quimicos', label: 'Derrame o fugas de productos Qu√≠micos', control: 'Definir un plan de emergencia en caso de derrame o fuga de productos qu√≠micos, contar con kit antiderrames y elementos de protecci√≥n personal aocrdes al producto qu√≠mico que se este usando' },\n  ],\n  MEC√ÅNICOS: [\n    { id: 'proyeccion_particulas', label: 'Proyecci√≥n de particulas y fracmentos', control: 'Uso obligatorio y permanente de elementos de protecci√≥n individual, protecci√≥n f√°cil y visual' },\n    { id: 'mecanismo_movimiento', label: 'Mecanismo en movimiento', control: 'Mantener protecciones como guardas y dispositivos instalados en el equipo, no posicionar segmentos corporales en √°reas de peligros, por ning√∫n motivo violar una guarda de seguridad' },\n    { id: 'manejo_herramientas', label: 'Manejo de herrramienta o equipos electricos', control: 'Uso de equipos y herramientas el√©ctricas en condiciones operativas que no exponen al trabajador a riesgos, realizar inspecci√≥n preoperacional' },\n    { id: 'movimiento_equipos_pesados', label: 'Movimiento de equipos de trabajo pesado en sitio', control: 'Se√±alizaci√≥n en sitio de trabajo, personal con paleta de pare y siga acompa√±ando el desplazamiento por v√≠as internas, manejo de trafico y control de senderos peatonas' },\n    { id: 'exposicion_vibraciones', label: 'Exposici√≥n a vibraciones por equipos', control: 'Pausas activas durante la jornada laboral, rotaci√≥n de personal para realizar la labor en jornada prolongadas donde se exponga a vibraciones' },\n  ],\n  BIOL√ìGICOS: [\n      { id: 'exposicion_vectores', label: 'Exposici√≥n a vectores transmisi√≥n de enfermedades', control: 'Orden y aseo en el lugar de trabajo, evitar la acumulaci√≥n de agua que pueda ser foco de proliferaci√≥n de vectores' },\n      { id: 'contaminacion_biologica', label: 'Contaminaci√≥n biol√≥gica', control: 'Prevenir y contener derrames de productos peligros, ubicaci√≥n y disposici√≥n de kit de contenci√≥n de derrames' },\n  ],\n  VIAL: [\n      { id: 'accidente_incidente_vial', label: 'Accidente o incidente vial', control: 'Para el transito peatonal hacer uso de las vias definidas por la empresa para el desplazamiento seguro' },\n      { id: 'atropellamiento_personas', label: 'Atropellamiento a personas', control: 'Respatar los limites de velocidad definidos por Italcol de 10 Km/h, no usar dispostivos de comunicaci√≥n como telefono celular.' },\n  ],\n  BIOMEC√ÅNICOS: [\n      { id: 'carga_estatica', label: 'Carga Est√°tica (Posturas inadecuadas, prolongadas, forzadas, antigravitaci√≥n)', control: 'Realizar calentamiento previo al inicio de las actividades (ejercicios pre-laborales); Tomar pausas activas. Higiene postural. Realizar cambios peri√≥dicos de actividad dentro de la tarea a ejecutar.' },\n      { id: 'carga_dinamica', label: 'Carga Din√°mica (Esfuerzo, Movilizaci√≥n de cargas, Movimientos repetitivos / repetidos)', control: 'No levantar cargas superiores a 25 kg (hombres) / 12.5Kg (mujeres) de peso; levantar una carga a la vez, en piezas pesadas y/o voluminosas, hacer el movimiento entre 2 personas. Aplicar t√©cnicas de levantamiento de cargas, manteniendo la espalda recta y flexionando las piernas, busque siempre primero ayudas mec√°nicas.' },\n  ],\n  AMBIENTALES: [\n      { id: 'generacion_residuos', label: 'Generaci√≥n de residuos escombros', control: 'ReaIizar la separaci√≥n y disponer de acuerdo a la clasificaci√≥n de colores definida por Italcol , disposici√≥n de residuos fuera de las instalaciones de acuerdo al marco normativo definido' },\n      { id: 'consumo_agua', label: 'Consumo de agua en grandes cantidades', control: 'Uso eficiente de recursos, eliminaci√≥n de fugas de agua, prevenir y contener derrames de productos peligrosos.' },\n      { id: 'mezcla_concreto', label: 'Mezcla de concreto en suelo', control: 'Uso de mezcladora o recipiente para evitar la mezcla en piso, de no ser posible utilizar una barrera fisica que aisle los materiales de cosntroccu√≥n de las superficies y sirvan como mecaniosmo de contenci√≥n.' },\n      { id: 'emisiones_material_particulado', label: 'Emisiones de material particulado', control: 'Cubrir materiales que puedan generar material particulado o barreras fisicas que mitiguen la generaci√≥n al medio ambiente' },\n  ],\n};\n\nconst eppOptions = {\n    'Equipos Especiales': [\n        { id: 'aire_respirable', label: 'Aire respirable (compresor o cilindro)', type: 'boolean' },\n        { id: 'tapete_dielectrico', label: 'Tapete diel√©ctrico clase', type: 'text' },\n    ],\n    'Protecci√≥n Corporal': [\n        { id: 'traje_tyvek', label: 'Traje tyvek', type: 'boolean' },\n        { id: 'chaleco_reflectivo', label: 'Chaleco reflectivo', type: 'boolean' },\n        { id: 'chaqueta_cuero_carnaza', label: 'Chaqueta de cuero o carnaza', type: 'boolean' },\n        { id: 'delantal_cuero_carnaza', label: 'Delantal de cuero o carnaza', type: 'boolean' },\n        { id: 'delantal_pvc', label: 'Delantal de PVC', type: 'boolean' },\n        { id: 'overol_trabajo', label: 'Overol de trabajo', type: 'boolean' },\n        { id: 'overol_ignifugo', label: 'Overol ign√≠fugo clase', type: 'text' },\n        { id: 'polainas', label: 'Polainas', type: 'boolean' },\n    ],\n    'Protecci√≥n para Pies': [\n        { id: 'botas_caucho_seguridad', label: 'Botas de caucho de seguridad', type: 'boolean' },\n        { id: 'botas_dielectricas', label: 'Botas diel√©ctricas', type: 'boolean' },\n        { id: 'botas_seguridad', label: 'Botas de seguridad', type: 'boolean' },\n    ],\n    'Protecci√≥n Contra Ca√≠das': [\n        { id: 'eslinga', label: 'Eslinga tipo/absorbedor', type: 'text' },\n        { id: 'linea_vida', label: 'L√≠nea de vida', type: 'text' },\n        { id: 'arnes', label: 'Arn√©s', type: 'boolean' },\n        { id: 'adaptador_anclaje', label: 'Adaptador de anclaje', type: 'text' },\n    ],\n    'Protecci√≥n para la Cabeza': [\n        { id: 'casco_seguridad', label: 'Casco de seguridad Tipo/Clase/Barbuquejo', type: 'text' },\n    ],\n    'Protecci√≥n para Manos': [\n        { id: 'guante_dielectrico', label: 'Guante diel√©ctrico clase (guant√≠n, guante diel√©ctrico, protecci√≥n mec√°nica)', type: 'text' },\n        { id: 'guante_caucho_nitrilo', label: 'Guante de caucho y/o nitrilo', type: 'boolean' },\n        { id: 'guante_cuero_carnaza', label: 'Guante de cuero o carnaza', type: 'boolean' },\n        { id: 'guante_vaqueta_anticorte', label: 'Guante de vaqueta o Anticorte', type: 'boolean' },\n    ],\n    'Protecci√≥n Respiratoria': [\n        { id: 'mascarilla_filtro', label: 'Mascarilla con filtro', type: 'text' },\n        { id: 'mascarilla_material_particulado', label: 'Mascarilla material particulado', type: 'boolean' },\n    ],\n    'Protecci√≥n Auditiva': [\n        { id: 'protector_auditivo', label: 'Protector auditivo tipo', type: 'text' },\n    ],\n    'Protecci√≥n Visual y Facial': [\n        { id: 'gafas_antisalpicaduras', label: 'Gafas antisalpicaduras', type: 'boolean' },\n        { id: 'gafas_seguridad', label: 'Gafas de seguridad', type: 'boolean' },\n        { id: 'visor_careta', label: 'Visor / careta para', type: 'text' },\n        { id: 'careta_arco_electrico', label: 'Careta arco el√©ctrico clase', type: 'text' },\n    ],\n    'Otro': [\n        { id: 'otro_epp', label: 'Otro:', type: 'text' },\n    ],\n};\n\nconst justificacionOptions = [\n    { id: 'rutinario_3_meses', label: 'TRABAJO RUTINARIO REALIZADO 1 VEZ CADA 3 MESES' },\n    { id: 'no_rutinario_emergencia', label: 'TRABAJO NO RUTINARIO (EMERGENCIA)' },\n    { id: 'rutinario_sin_procedimiento', label: 'TRABAJO RUTINARIO QUE NO POSEE UN PROCEDIMIENTO SEGURO DE TRABAJO O INDICACI√ìN CORRECTA DE RIESGOS O MEDIDAS PREVENTIVAS' },\n    { id: 'no_rutinario_planeado', label: 'TRABAJO NO RUTINARIO (PLANEADO)' },\n    { id: 'rutinario_condicion_especifica', label: 'TRABAJO RUTINARIO QUE POR UNA CONDICI√ìN ESPEC√çFICA/TEMPORAL, NO ES POSIBLE APLICAR UN PROCEDIMIENTO DE FORMA INTEGRAL' },\n];\n\nexport function AtsStep({ anexoATS, onUpdateATS }: AtsStepProps) {\n  // Estado controlado para TODAS las secciones\n  const [openSections, setOpenSections] = React.useState<Record<string, boolean>>({\n    peligros: true, // Secci√≥n 1 abierta por defecto\n    bioseguridad: false,\n    epp: false,\n    justificacion: false\n  });\n  \n  const [newPeligro, setNewPeligro] = React.useState('');\n  const [newPeligroDesc, setNewPeligroDesc] = React.useState('');\n\n  const toggleSection = (sectionId: string) => {\n    setOpenSections(prev => ({\n      ...prev,\n      [sectionId]: !prev[sectionId]\n    }));\n  };\n\n  const handlePeligroChange = (id: string, value: 'si' | 'no') => {\n    onUpdateATS({ \n      peligros: { ...anexoATS.peligros, [id]: value } \n    });\n  };\n  \n  const handleEppChange = (id: string, value: boolean | string) => {\n    onUpdateATS({ \n      epp: { ...anexoATS.epp, [id]: value } \n    });\n  };\n\n  const handleJustificacionChange = (id: string, value: boolean) => {\n    onUpdateATS({ \n      justificacion: { ...anexoATS.justificacion, [id]: value } \n    });\n  };\n  \n  const handleProtocoloChange = (value: 'si' | 'no') => {\n    onUpdateATS({ \n      protocolosBioseguridad: value \n    });\n  };\n\n  const handleAddOtroPeligro = () => {\n    if (newPeligro.trim() && newPeligroDesc.trim()) {\n        const newPeligros = [...(anexoATS.peligrosAdicionales || []), { peligro: newPeligro, descripcion: newPeligroDesc }];\n        onUpdateATS({ peligrosAdicionales: newPeligros });\n        setNewPeligro('');\n        setNewPeligroDesc('');\n    }\n  };\n\n  const handleRemoveOtroPeligro = (index: number) => {\n    const newPeligros = (anexoATS.peligrosAdicionales || []).filter((_, i) => i !== index);\n    onUpdateATS({ peligrosAdicionales: newPeligros });\n  };\n\n  // SectionWrapper con estado controlado\n  const SectionWrapper: React.FC<{ title: string; children: React.ReactNode; sectionId: string }> = ({ title, children, sectionId }) => (\n    <Collapsible open={openSections[sectionId]} onOpenChange={() => toggleSection(sectionId)}>\n      <CollapsibleTrigger asChild>\n        <Button variant=\"ghost\" className=\"w-full justify-between p-3 bg-gray-100 rounded-lg cursor-pointer border\">\n          <h3 className=\"text-lg font-bold text-gray-700\">{title}</h3>\n          <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n        </Button>\n      </CollapsibleTrigger>\n      <CollapsibleContent className=\"p-4 border-l border-r border-b rounded-b-lg\">\n        {children}\n      </CollapsibleContent>\n    </Collapsible>\n  );\n\n  return (\n    <div className=\"space-y-8\">\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">\n          An√°lisis de Peligros y ATS\n        </h2>\n        <p className=\"text-muted-foreground text-sm\">\n          Identifique los peligros, controles y EPP necesarios para la tarea.\n        </p>\n      </div>\n\n      <SectionWrapper title=\"1. Identificaci√≥n de Peligros, Riesgos y Controles\" sectionId=\"peligros\">\n        <p className=\"text-xs text-muted-foreground mb-4\">\n          Coloque \"SI\" o \"NO\" para los peligros envueltos en el trabajo. Cuando asigne un \"SI\", se desplegar√°n los controles recomendados.\n        </p>\n        <div className=\"space-y-2\">\n          {Object.entries(hazardCategories).map(([category, hazards]) => (\n            <Collapsible key={category} open={openSections[category]} onOpenChange={() => toggleSection(category)}>\n              <CollapsibleTrigger asChild>\n                <Button variant=\"ghost\" className=\"w-full justify-between p-4 border rounded-lg\">\n                  <span className=\"font-semibold\">{category}</span>\n                  <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n                </Button>\n              </CollapsibleTrigger>\n              <CollapsibleContent className=\"p-4 border border-t-0 rounded-b-lg space-y-4\">\n                {hazards.map((hazard) => (\n                  <div key={hazard.id} className=\"space-y-3 p-3 bg-gray-50/50 rounded-md\">\n                    <div className=\"flex items-center justify-between\">\n                      <Label htmlFor={hazard.id} className=\"font-medium flex-1\">\n                        {hazard.label}\n                      </Label>\n                      <RadioGroup\n                        value={anexoATS.peligros?.[hazard.id]}\n                        onValueChange={(value: 'si' | 'no') => handlePeligroChange(hazard.id, value)}\n                        className=\"flex gap-4\"\n                      >\n                        <div className=\"flex items-center space-x-2\">\n                          <RadioGroupItem value=\"si\" id={`${hazard.id}-si`} />\n                          <Label htmlFor={`${hazard.id}-si`}>SI</Label>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <RadioGroupItem value=\"no\" id={`${hazard.id}-no`} />\n                          <Label htmlFor={`${hazard.id}-no`}>NO</Label>\n                        </div>\n                      </RadioGroup>\n                    </div>\n                    {anexoATS.peligros?.[hazard.id] === 'si' && (\n                      <div className=\"pl-4 border-l-4 border-primary/50 ml-2\">\n                        <p className=\"text-xs font-semibold text-primary mb-1\">CONTROL RECOMENDADO:</p>\n                        <p className=\"text-xs text-muted-foreground\">{hazard.control}</p>\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </CollapsibleContent>\n            </Collapsible>\n          ))}\n        </div>\n        <div className=\"mt-6\">\n            <h4 className=\"font-semibold text-lg text-gray-700 mb-2\">Otros Peligros</h4>\n            <div className=\"p-4 border rounded-lg space-y-4\">\n            {anexoATS.peligrosAdicionales?.map((item, index) => (\n                <div key={index} className=\"flex items-start gap-2 p-3 bg-gray-50 rounded-md\">\n                    <div className=\"flex-1\">\n                        <p className=\"font-bold\">{item.peligro}</p>\n                        <p className=\"text-sm text-muted-foreground\">{item.descripcion}</p>\n                    </div>\n                    <Button variant=\"ghost\" size=\"icon\" onClick={() => handleRemoveOtroPeligro(index)}>\n                        <Trash2 className=\"h-4 w-4 text-destructive\" />\n                    </Button>\n                </div>\n            ))}\n            <div className=\"space-y-2\">\n                <Input value={newPeligro} onChange={(e) => setNewPeligro(e.target.value)} placeholder=\"Nombre del nuevo peligro\"/>\n                <Textarea value={newPeligroDesc} onChange={(e) => setNewPeligroDesc(e.target.value)} placeholder=\"Descripci√≥n y control del peligro\"/>\n            </div>\n            <Button onClick={handleAddOtroPeligro} size=\"sm\">\n                <Plus className=\"mr-2 h-4 w-4\" /> Agregar Peligro\n            </Button>\n            </div>\n        </div>\n      </SectionWrapper>\n\n      <SectionWrapper title=\"2. ¬øProtocolos de bioseguridad?\" sectionId=\"bioseguridad\">\n        <div className=\"p-4 border rounded-lg flex items-center justify-between\">\n            <p className=\"text-sm text-muted-foreground flex-1 pr-4\">Respetar distanciamiento social de 2m, uso de tapabocas permanente cubriendo nariz y boca, asegurar punto de lavado de manos y desinfecci√≥n de superficies, herramientas y equipos. Reporte diarios de condiciones de salud, reporte y aislamiento preventivo en caso de nexo epidemiol√≥gico o contagio con COVID -19. Cumplimiento de Protocolos de Bioseguridad establecidos y disposiciones legales vigentes.</p>\n             <RadioGroup\n                value={anexoATS.protocolosBioseguridad}\n                onValueChange={(value: 'si' | 'no') => handleProtocoloChange(value)}\n                className=\"flex gap-4\"\n                >\n                <div className=\"flex items-center space-x-2\">\n                    <RadioGroupItem value=\"si\" id=\"bioseguridad-si\" />\n                    <Label htmlFor=\"bioseguridad-si\">SI</Label>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                    <RadioGroupItem value=\"no\" id=\"bioseguridad-no\" />\n                    <Label htmlFor=\"bioseguridad-no\">NO</Label>\n                </div>\n            </RadioGroup>\n        </div>\n       </SectionWrapper>\n\n      <SectionWrapper title=\"3. EPP Requeridos\" sectionId=\"epp\">\n         <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6\">\n            {Object.entries(eppOptions).map(([category, items]) => (\n                <div key={category} className=\"space-y-3\">\n                    <h4 className=\"font-semibold text-md text-gray-700\">{category}</h4>\n                    <div className=\"space-y-2 p-3 border rounded-md\">\n                        {items.map(item => (\n                             <div key={item.id} className=\"flex flex-col gap-1\">\n                                <div className=\"flex items-center space-x-2\">\n                                    <Checkbox \n                                        id={item.id} \n                                        checked={!!anexoATS.epp?.[item.id]} \n                                        onCheckedChange={(checked) => {\n                                            if (item.type === 'boolean') {\n                                                handleEppChange(item.id, !!checked);\n                                            } else if (item.type === 'text') {\n                                                if (checked) {\n                                                    handleEppChange(item.id, true);\n                                                } else {\n                                                    handleEppChange(item.id, false);\n                                                    handleEppChange(`${item.id}_spec`, '');\n                                                }\n                                            }\n                                        }}\n                                    />\n                                    <Label htmlFor={item.id} className=\"text-sm\">{item.label}</Label>\n                                </div>\n                                {item.type === 'text' && anexoATS.epp?.[item.id] && (\n                                     <Input \n                                        className=\"h-8 text-xs ml-6\"\n                                        placeholder=\"Especificar...\"\n                                        value={typeof anexoATS.epp?.[`${item.id}_spec`] === 'string' ? (anexoATS.epp[`${item.id}_spec`] as string) : ''}\n                                        onChange={(e) => handleEppChange(`${item.id}_spec`, e.target.value)}\n                                     />\n                                )}\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            ))}\n         </div>\n      </SectionWrapper>\n      \n      <SectionWrapper title=\"4. Justificaci√≥n para el uso del ATS\" sectionId=\"justificacion\">\n        <div className=\"space-y-3 p-4 border rounded-lg\">\n            {justificacionOptions.map(option => (\n                <div key={option.id} className=\"flex items-center space-x-3\">\n                    <Checkbox\n                        id={option.id}\n                        checked={!!anexoATS.justificacion?.[option.id]}\n                        onCheckedChange={(checked) => handleJustificacionChange(option.id, !!checked)}\n                    />\n                    <Label htmlFor={option.id} className=\"text-sm font-normal\">{option.label}</Label>\n                </div>\n            ))}\n        </div>\n      </SectionWrapper>\n\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2874, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YACC,KAAK;YACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;;AAIf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAM,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,mBAAmB;QAAa,GAAG,KAAK;;;;;;;AAEzE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,2DACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+EACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,oGACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,kDAAkD;QAC/D,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;;AAGb,aAAa,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 3012, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/AnexoAlturaStep.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { usePermitForm } from '../form-context';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Button } from '@/components/ui/button';\nimport { Signature, Trash2, Plus, ChevronDown } from 'lucide-react';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { SignaturePad } from '@/components/ui/signature-pad';\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from '@/components/ui/collapsible';\n\nconst anexoAlturaEstructuras = [\n  { id: 'escaleraCuerpo', label: 'Escalera de un cuerpo' },\n  { id: 'escaleraDosCuerpos', label: 'Escalera de dos cuerpos o mas' },\n  { id: 'andamioTubular', label: 'Andamio Tubular Certificado' },\n  { id: 'andamioColgante', label: 'Andamio Colgante' },\n  { id: 'plataforma', label: 'Plataforma' },\n  { id: 'manLift', label: 'Man Lift o Camion Canasta' },\n  { id: 'otros', label: 'Otros' },\n];\n\nconst anexoAlturaAspectos = [\n    { id: 'afiliacionVigente', label: 'A. EL PERSONAL EJECUTANTE DE LA ACTIVIDAD TIENE LA AFILIACI√ìN VIGENTE A SEGURIDAD SOCIAL? '},\n    { id: 'procedimientoActividad', label: 'B. SE CUENTA CON EL PROCEDIMIENTO DE LA ACTIVIDAD A EJECUTAR?' },\n    { id: 'medidasPrevencion', label: 'C. SE HAN DETERMINADO LAS MEDIDAS DE PREVENCI√ìN CONTRA CA√çDAS?' },\n    { id: 'conocenMedidas', label: 'D. TODOS LOS EJECUTANTES CONOCEN LAS MEDIDAS DE PRECAUCI√ìN ESTABLECIDAS EN LA EVALUACI√ìN DE RIESGOS?'},\n    { id: 'entrenadosCertificados', label: 'E. EST√ÅN LOS EJECUTANTES ENTRENADOS Y SE ENCUENTRAN LOS CERTIFICADOS EN SITIO PARA REALIZAR   TRABAJOS EN ALTURA?'},\n    { id: 'elementosProteccionCertificados', label: 'F. EST√ÅN TODOS LOS ELEMENTOS DE PROTECCI√ìN CONTRA CA√çDAS EN BUEN ESTADO Y CERTIFICADOS?' },\n    { id: 'sistemaAseguramientoVerificado', label: 'G. SE VERIFICO EL SISTEMA DE ASEGURAMIENTO DE LA ESCALERA , ANDAMIO O PLATAFORMA A UNA ESTRUCTURA FIJA' },\n    { id: 'estadoElementosVerificado', label: 'H. SE VERIFICO EL ESTADO DE: ESLINGAS, ARNES, CASCO, MOSQUETONES, CASCO, Y DEMAS ELEMENTOS NECESARIOS PARA REALIZAR EL TRABAJO.' },\n    { id: 'puntosAnclajeCertificados', label: 'I. LOS PUNTOS DE ANCLAJE Y DEMAS ELEMENTOS CUMPLEN CON LA RESISTENCIA DE 5000 LBS POR PERSONA Y ESTAN CERTIFICADOS?' },\n    { id: 'areaDelimitada', label: 'J. ESTA DELIMITADA Y SE√ëALIZADA EL AREA DE TRABAJO' },\n    { id: 'personalSaludable', label: 'K. EL PERSONAL QUE REALIZA EL TRABAJO SE ENCUENTRA EN CONDICIONES ADECUADAS DE SALUD PARA LA ACTIVIDAD?.' },\n    { id: 'equiposAccesoBuenEstado', label: 'L. SE CUENTA CON TODOS LOS EQUIPOS Y SISTEMAS DE ACCESO PARA TRABJO EN ALTURAS EN BUEN ESTADO?' },\n    { id: 'espacioCaidaLibreSuficiente', label: 'M. EL ESPACIO DE CAIDA LIBRE ES SUFICIENTE PARA EVITAR QUE LA PERSONA SE GOLPEE CONTRA EL NIVEL INFERIOR.' },\n    { id: 'equiposEmergenciaDisponibles', label: 'N. SE CUENTA CON ELEMENTOS PARA ATENCION DE EMERGENCIAS EN EL AREA Y PLAN DE EMERGENCIAS PARA RESCATE EN ALTURAS?' },\n    { id: 'eppSeleccionadosCorrectamente', label: 'O. EST√ÅN LOS ELEMENTOS DE PROTECCI√ìN PERSONAL SELECCIONADOS TENIENDO EN CUENTA LOS RIESGOS Y REQUERIMIENTOS DE LA TAREA?' },\n    { id: 'plataformaSoportaCarga', label: 'P.LA PLATAFORMA O ESTRUCTURA SOPORTA LA CARGA DE TRABAJO, ES FIRME Y SE EVITA LA CA√çDA DE OBJETOS O HERRAMIENTAS?' },\n    { id: 'supervisorConstante', label: 'Q.EXISTE UN SUPERVISOR O ACOMPA√ëANTE CONSTASTE DURANTE EL TRABAJO' },\n    { id: 'andamiosCompletos', label: 'R. EN CASO DE TRABAJOS SOBRE ANDAMIOS, ESTOS ESTAN COMPLETOS Y ADECUADAMENTE ARMADOS (RODAPIES, BARANDAS, ETC.)' },\n    { id: 'condicionesClimaticasAdecuadas', label: 'S.LAS CONDICIONES CLIMATICAS SON ADECUADAS PARA REALIZAR EL TRABAJO' },\n    { id: 'metodoSubirHerramientasSeguro', label: 'T.EL METODO DE SUBIR HERRAMIENTAS ES SEGURO' },\n    { id: 'sistemasRestriccion', label: 'U. EN CASO DE REQUERIRSE SE CUENTA CON SISTEMAS DE RESTRICCI√ìN' },\n    { id: 'sistemasPosicionamiento', label: 'V. EN CASO DE REQUERIRSE SE CUENTA CON SISTEMAS DE POSICIONAMIENTO' },\n];\n\nconst anexoAlturaPrecauciones = [\n    { id: 'despresurizar', label: 'DESPRESURIZAR' },\n    { id: 'revisarEquipos', label: 'REVISAR EQUIPOS Y HERRAMIENTAS' },\n    { id: 'sistemaContencionDerrames', label: 'SISTEMA CONTENCION DERRAMES' },\n    { id: 'monitoreoAtmosferas', label: 'MONITOREO DE ATMOSFERAS' },\n    { id: 'verificarListaChequeo', label: 'VERIFICAR LISTA DE CHEQUEO' },\n    { id: 'clasificacionResiduos', label: 'CLASIFICACION DE RESIDUOS' },\n    { id: 'aislamientoMecanico', label: 'AISLAMIENTO MECACNICO' },\n    { id: 'aterrizarEquipo', label: 'ATERRIZAR EQUIPO' },\n    { id: 'planIzaje', label: 'PLAN DE IZAJE' },\n    { id: 'aislamientoProceso', label: 'AISLAMIENTO DE PROCESO' },\n    { id: 'instalarLineasVida', label: 'INSTALAR LINEAS DE VIDA ADICIONALES' },\n    { id: 'fichaSeguridad', label: 'FICHA DE SEGURIDAD' },\n    { id: 'aislamientoElectrico', label: 'AISLAMIENTO ELECTRICO' },\n    { id: 'drenar', label: 'DRENAR' },\n    { id: 'cierreRecipientes', label: 'CIERRE DE RECIPIENTES SIN USO' },\n    { id: 'bloqueoEtiquetado', label: 'BLOQUEO Y ETIQUETADO' },\n    { id: 'ventilar', label: 'VENTILAR' },\n    { id: 'usoEppEspeciales', label: 'USO DE EPPS ESPECIALES' },\n    { id: 'etiquetadoProductosQuimicos', label: 'ETIQUETADO PRODUCTOS QUIMICOS' },\n    { id: 'equipoContraIncendio', label: 'EQUIPO CONTRA INCENDIO' },\n    { id: 'requiereVigia', label: 'REQUIERE VIGIA' },\n    { id: 'senalizacion', label: 'SE√ëALIZACION' },\n    { id: 'kitDerrames', label: 'KIT DERRAMES' },\n    { id: 'otro', label: 'OTRO, CUAL:' },\n];\n\nconst RadioGroupField = ({ id, label, value, onChange }: { id: string; label: string; value: 'si' | 'no' | 'na'; onChange: (value: 'si' | 'no' | 'na') => void; }) => (\n  <div className=\"flex justify-between items-center p-3 border rounded-md bg-white\">\n      <Label htmlFor={id} className=\"text-sm font-medium flex-1\">{label}</Label>\n      <RadioGroup id={id} value={value || 'na'} onValueChange={onChange} className=\"flex gap-4\">\n          <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"si\" id={`${id}-si`} /><Label htmlFor={`${id}-si`}>SI</Label></div>\n          <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"no\" id={`${id}-no`} /><Label htmlFor={`${id}-no`}>NO</Label></div>\n          <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"na\" id={`${id}-na`} /><Label htmlFor={`${id}-na`}>N/A</Label></div>\n      </RadioGroup>\n  </div>\n);\n\nconst SectionWrapper: React.FC<{ title: string; children: React.ReactNode; defaultOpen?: boolean }> = ({ title, children, defaultOpen = false }) => (\n    <Collapsible defaultOpen={defaultOpen}>\n      <CollapsibleTrigger asChild>\n        <Button variant=\"ghost\" className=\"w-full justify-between p-3 bg-gray-100 rounded-lg cursor-pointer border\">\n          <h3 className=\"text-lg font-bold text-gray-700\">{title}</h3>\n          <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n        </Button>\n      </CollapsibleTrigger>\n      <CollapsibleContent className=\"p-4 border-l border-r border-b rounded-b-lg\">\n        {children}\n      </CollapsibleContent>\n    </Collapsible>\n);\n\nexport function AnexoAlturaStep() {\n  const { state, dispatch } = usePermitForm();\n  const { generalInfo, anexoAltura } = state;\n  const [isSignatureDialogOpen, setIsSignatureDialogOpen] = React.useState(false);\n  const [signingTarget, setSigningTarget] = React.useState<{ section: string; field: string; index?: number } | null>(null);\n\n  // Funci√≥n principal para actualizar campos del anexo\n  const handleFieldChange = (field: string, value: any) => {\n    dispatch({\n      type: 'UPDATE_ANEXO_ALTURA',\n      payload: {\n        [field]: value\n      }\n    });\n  };\n\n  // Funci√≥n para campos anidados (ej: emergencia.contacto)\n  const handleNestedFieldChange = (section: string, field: string, value: any) => {\n    const currentSection = (anexoAltura as any)[section] || {};\n    handleFieldChange(section, {\n      ...currentSection,\n      [field]: value\n    });\n  };\n\n  // Funci√≥n para campos anidados profundos (ej: cierre.autoridad.nombre)\n  const handleDeepNestedChange = (section: string, subSection: string, field: string, value: any) => {\n    const currentSection = (anexoAltura as any)[section] || {};\n    const currentSubSection = currentSection[subSection] || {};\n    \n    handleFieldChange(section, {\n      ...currentSection,\n      [subSection]: {\n        ...currentSubSection,\n        [field]: value\n      }\n    });\n  };\n\n  // Funci√≥n para listas (ej: validacion.autoridad[index])\n  const handleListChange = (section: string, listName: string, index: number, field: string, value: any) => {\n    const currentSection = (anexoAltura as any)[section] || {};\n    const currentList = [...(currentSection[listName] || [])];\n    \n    // Asegurar que el √≠ndice existe\n    while (currentList.length <= index) {\n      currentList.push({ dia: currentList.length + 1, nombre: '', firma: '', fecha: '' });\n    }\n    \n    currentList[index] = { ...currentList[index], [field]: value };\n    \n    handleFieldChange(section, {\n      ...currentSection,\n      [listName]: currentList\n    });\n  };\n\n  // Inicializar validaci√≥n diaria\n  React.useEffect(() => {\n    if (!anexoAltura.validacion) {\n      const autoridad = Array(7).fill(0).map((_, i) => ({ \n        dia: i + 1, \n        nombre: '', \n        firma: '', \n        fecha: '' \n      }));\n      const responsable = Array(7).fill(0).map((_, i) => ({ \n        dia: i + 1, \n        nombre: '', \n        firma: '', \n        fecha: '' \n      }));\n      \n      handleFieldChange('validacion', { autoridad, responsable });\n    }\n  }, []); // Solo ejecutar una vez\n\n  const openSignatureDialog = (section: string, field: string, index?: number) => {\n    setSigningTarget({ section, field, index });\n    setIsSignatureDialogOpen(true);\n  };\n\n  const handleSaveSignature = (signature: string) => {\n    if (!signingTarget) return;\n\n    const { section, field, index } = signingTarget;\n\n    if (index !== undefined) {\n      // Para listas como validacion.autoridad[0].firma\n      handleListChange(section, field, index, 'firma', signature);\n    } else if (section.includes('.')) {\n      // Para campos anidados profundos como cierre.autoridad.firma\n      const [mainSection, subSection] = section.split('.');\n      handleDeepNestedChange(mainSection, subSection, 'firma', signature);\n    } else {\n      // Para campos directos como autoridadArea.firma\n      handleNestedFieldChange(section, 'firma', signature);\n    }\n\n    setIsSignatureDialogOpen(false);\n    setSigningTarget(null);\n  };\n\n  return (\n    <>\n    <div className=\"space-y-8\">\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">\n          Anexo de Trabajo en Alturas\n        </h2>\n        <p className=\"text-muted-foreground text-sm\">\n          Complete la informaci√≥n requerida para trabajos en alturas.\n        </p>\n      </div>\n      \n      <SectionWrapper title=\"Informaci√≥n General del Anexo\" defaultOpen>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div><Label>Emitido por:</Label><Input value={generalInfo.nombreSolicitante || ''} readOnly disabled /></div>\n            <div><Label>√Årea de Trabajo:</Label><Input value={generalInfo.areaEspecifica || ''} readOnly disabled /></div>\n            <div><Label>Equipo o √Årea Espec√≠fica:</Label><Input value={generalInfo.proceso || ''} readOnly disabled /></div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\n            <div><Label>Responsable (Nombre):</Label><Input value={generalInfo.responsable?.nombre || ''} readOnly disabled /></div>\n            <div><Label>Cargo:</Label><Input value={generalInfo.responsable?.cargo || ''} readOnly disabled /></div>\n            <div><Label>Compa√±√≠a:</Label><Input value={generalInfo.responsable?.compania || ''} readOnly disabled /></div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n            <div><Label>En caso de emergencia contactar a:</Label><Input value={anexoAltura.emergencia?.contacto || ''} onChange={(e) => handleNestedFieldChange('emergencia', 'contacto', e.target.value)} /></div>\n            <div><Label>Tel√©fono:</Label><Input value={anexoAltura.emergencia?.telefono || ''} onChange={(e) => handleNestedFieldChange('emergencia', 'telefono', e.target.value)} /></div>\n        </div>\n        <div className=\"mt-4\">\n            <Label>Altura aproximada a la cual se va a desarrollar la actividad (Indicar en metros)</Label>\n            <Input type=\"number\" value={anexoAltura.alturaAproximada || ''} onChange={(e) => handleFieldChange('alturaAproximada', e.target.value)} />\n        </div>\n      </SectionWrapper>\n      \n      <SectionWrapper title=\"Identificaci√≥n de Peligros y Aspectos para Trabajo en Alturas\">\n        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n            {anexoAlturaEstructuras.map(item => (\n                <div key={item.id} className=\"flex items-center space-x-2\">\n                    <Checkbox \n                      id={`struct-${item.id}`} \n                      checked={!!anexoAltura.tipoEstructura?.[item.id]} \n                      onCheckedChange={(checked) => handleNestedFieldChange('tipoEstructura', item.id, !!checked)} \n                    />\n                    <Label htmlFor={`struct-${item.id}`}>{item.label}</Label>\n                </div>\n            ))}\n        </div>\n        {anexoAltura.tipoEstructura?.otros && (\n            <Input \n              placeholder=\"Especifique otros\" \n              value={anexoAltura.tipoEstructura.otrosCual || ''} \n              onChange={(e) => handleNestedFieldChange('tipoEstructura', 'otrosCual', e.target.value)} \n              className=\"mt-4\" \n            />\n        )}\n      </SectionWrapper>\n\n      <SectionWrapper title=\"Aspectos de Seguridad para Trabajo en Alturas\">\n        <div className=\"space-y-3\">\n            {anexoAlturaAspectos.map(item => (\n                <RadioGroupField \n                  key={item.id} \n                  id={`aspecto-${item.id}`} \n                  label={item.label} \n                  value={anexoAltura.aspectosSeguridad?.[item.id] || 'na'} \n                  onChange={(value) => handleNestedFieldChange('aspectosSeguridad', item.id, value)} \n                />\n            ))}\n        </div>\n      </SectionWrapper>\n\n      <SectionWrapper title=\"Precauciones y Controles Espec√≠ficos\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n             {anexoAlturaPrecauciones.map(item => (\n                <RadioGroupField \n                  key={item.id} \n                  id={`precaucion-${item.id}`} \n                  label={item.label} \n                  value={anexoAltura.precauciones?.[item.id] || 'na'} \n                  onChange={(value) => handleNestedFieldChange('precauciones', item.id, value)} \n                />\n            ))}\n        </div>\n         {anexoAltura.precauciones?.otro === 'si' && (\n            <Input \n              placeholder=\"Especifique otra precauci√≥n\" \n              value={anexoAltura.precauciones.otroCual || ''} \n              onChange={(e) => handleNestedFieldChange('precauciones', 'otroCual', e.target.value)} \n              className=\"mt-4\" \n            />\n        )}\n      </SectionWrapper>\n      \n       <SectionWrapper title=\"Afectaciones\">\n        <div className=\"space-y-4\">\n            <RadioGroupField \n              id=\"afect-riesgo-otras\" \n              label=\"¬øEste trabajo produce riesgos para otros trabajos en √°reas adyacentes?\" \n              value={anexoAltura.afectaciones?.riesgoOtrasAreas || 'na'} \n              onChange={(value) => handleNestedFieldChange('afectaciones', 'riesgoOtrasAreas', value)} \n            />\n            <RadioGroupField \n              id=\"afect-otras-riesgo\" \n              label=\"¬øLos otros trabajos en √°reas adyacentes producen riesgo a este trabajo?\" \n              value={anexoAltura.afectaciones?.otrasAreasRiesgo || 'na'} \n              onChange={(value) => handleNestedFieldChange('afectaciones', 'otrasAreasRiesgo', value)} \n            />\n            <RadioGroupField \n              id=\"afect-personal-notificado\" \n              label=\"¬øEl personal del √°rea potencialmente afectado y los trabajadores fueron notificados del trabajo a realizar?\" \n              value={anexoAltura.afectaciones?.personalNotificado || 'na'} \n              onChange={(value) => handleNestedFieldChange('afectaciones', 'personalNotificado', value)} \n            />\n            <div>\n              <Label>Observaciones:</Label>\n              <Textarea \n                value={anexoAltura.afectaciones?.observaciones || ''} \n                onChange={(e) => handleNestedFieldChange('afectaciones', 'observaciones', e.target.value)} \n              />\n            </div>\n        </div>\n       </SectionWrapper>\n\n        <SectionWrapper title=\"Autorizaciones\">\n            <div className=\"space-y-6\">\n                <div className=\"p-4 border rounded-lg\">\n                    <p className=\"text-sm font-semibold mb-2\">Autoridad del √Årea</p>\n                    <p className=\"text-xs text-muted-foreground mb-4\">\"Al firmar como Autoridad del √Årea, estoy enterado del trabajo a realizar y apruebo su ejecuci√≥n bajo las medidas de seguridad contempladas en este permiso y sus documentos complementarios.\"</p>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <Input \n                          placeholder=\"Nombre Completo\" \n                          value={anexoAltura.autoridadArea?.nombre || ''} \n                          onChange={(e) => handleNestedFieldChange('autoridadArea', 'nombre', e.target.value)} \n                        />\n                        <Input \n                          type=\"time\" \n                          placeholder=\"Hora\" \n                          value={anexoAltura.autoridadArea?.hora || ''} \n                          onChange={(e) => handleNestedFieldChange('autoridadArea', 'hora', e.target.value)} \n                        />\n                    </div>\n                    <Button \n                      variant=\"outline\" \n                      className=\"w-full mt-4\" \n                      onClick={() => openSignatureDialog('autoridadArea', 'firma')}\n                    >\n                      <Signature className=\"mr-2\"/>Firmar\n                    </Button>\n                    {anexoAltura.autoridadArea?.firma && (\n                      <img src={anexoAltura.autoridadArea.firma} alt=\"Firma\" className=\"mt-2 border rounded-md max-h-20\" />\n                    )}\n                </div>\n                \n                <div className=\"p-4 border rounded-lg\">\n                    <p className=\"text-sm font-semibold mb-2\">Responsable del Trabajo</p>\n                    <p className=\"text-xs text-muted-foreground mb-4\">\"Manifiesto que entiendo el trabajo que voy a realizar y los riesgos asociados a este, dispongo de los recursos necesarios y tomar√© las medidas de seguridad...\"</p>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <Input \n                          placeholder=\"Nombre Completo\" \n                          value={anexoAltura.responsableTrabajo?.nombre || ''} \n                          onChange={(e) => handleNestedFieldChange('responsableTrabajo', 'nombre', e.target.value)} \n                        />\n                        <Input \n                          type=\"time\" \n                          placeholder=\"Hora\" \n                          value={anexoAltura.responsableTrabajo?.hora || ''} \n                          onChange={(e) => handleNestedFieldChange('responsableTrabajo', 'hora', e.target.value)} \n                        />\n                    </div>\n                    <Button \n                      variant=\"outline\" \n                      className=\"w-full mt-4\" \n                      onClick={() => openSignatureDialog('responsableTrabajo', 'firma')}\n                    >\n                      <Signature className=\"mr-2\"/>Firmar\n                    </Button>\n                    {anexoAltura.responsableTrabajo?.firma && (\n                      <img src={anexoAltura.responsableTrabajo.firma} alt=\"Firma\" className=\"mt-2 border rounded-md max-h-20\" />\n                    )}\n                </div>\n                \n                <div className=\"p-4 border rounded-lg\">\n                    <p className=\"text-sm font-semibold mb-2\">Coordinador de Trabajos en Alturas</p>\n                    <p className=\"text-xs text-muted-foreground mb-4\">\"Manifiesto que entiendo el trabajo que se va a realizar y sus peligros, se han verificado las condiciones y formulado las medidas de prevenci√≥n necesarias.\"</p>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <Input \n                          placeholder=\"Nombre Completo\" \n                          value={anexoAltura.coordinadorTrabajosAltura?.nombre || ''} \n                          onChange={(e) => handleNestedFieldChange('coordinadorTrabajosAltura', 'nombre', e.target.value)} \n                        />\n                        <Input \n                          type=\"time\" \n                          placeholder=\"Hora\" \n                          value={anexoAltura.coordinadorTrabajosAltura?.hora || ''} \n                          onChange={(e) => handleNestedFieldChange('coordinadorTrabajosAltura', 'hora', e.target.value)} \n                        />\n                    </div>\n                    <Button \n                      variant=\"outline\" \n                      className=\"w-full mt-4\" \n                      onClick={() => openSignatureDialog('coordinadorTrabajosAltura', 'firma')}\n                    >\n                      <Signature className=\"mr-2\"/>Firmar\n                    </Button>\n                    {anexoAltura.coordinadorTrabajosAltura?.firma && (\n                      <img src={anexoAltura.coordinadorTrabajosAltura.firma} alt=\"Firma\" className=\"mt-2 border rounded-md max-h-20\" />\n                    )}\n                </div>\n            </div>\n        </SectionWrapper>\n        \n        <SectionWrapper title=\"Validaci√≥n Diaria\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <div className=\"p-4 border rounded-lg space-y-2\">\n                    <h4 className=\"font-semibold\">Autoridad del √Årea</h4>\n                    <Table>\n                        <TableHeader>\n                          <TableRow>\n                            <TableHead>D√≠a</TableHead>\n                            <TableHead>Nombre</TableHead>\n                            <TableHead>Firma</TableHead>\n                            <TableHead>Fecha</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                            {(anexoAltura.validacion?.autoridad || []).map((v, i) => (\n                                <TableRow key={i}>\n                                    <TableCell>{i + 1}</TableCell>\n                                    <TableCell>\n                                      <Input \n                                        value={v.nombre || ''} \n                                        onChange={(e) => handleListChange('validacion', 'autoridad', i, 'nombre', e.target.value)} \n                                        className=\"h-8\"\n                                      />\n                                    </TableCell>\n                                    <TableCell>\n                                      <Button \n                                        variant=\"ghost\" \n                                        size=\"icon\" \n                                        onClick={() => openSignatureDialog('validacion', 'autoridad', i)}\n                                      >\n                                        <Signature className=\"h-4 w-4\"/>\n                                      </Button>\n                                    </TableCell>\n                                    <TableCell>\n                                      <Input \n                                        type=\"date\" \n                                        value={v.fecha || ''} \n                                        onChange={(e) => handleListChange('validacion', 'autoridad', i, 'fecha', e.target.value)} \n                                        className=\"h-8\"\n                                      />\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </div>\n                <div className=\"p-4 border rounded-lg space-y-2\">\n                    <h4 className=\"font-semibold\">Responsable del Trabajo</h4>\n                    <Table>\n                        <TableHeader>\n                          <TableRow>\n                            <TableHead>D√≠a</TableHead>\n                            <TableHead>Nombre</TableHead>\n                            <TableHead>Firma</TableHead>\n                            <TableHead>Fecha</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                             {(anexoAltura.validacion?.responsable || []).map((v, i) => (\n                                <TableRow key={i}>\n                                    <TableCell>{i + 1}</TableCell>\n                                    <TableCell>\n                                      <Input \n                                        value={v.nombre || ''} \n                                        onChange={(e) => handleListChange('validacion', 'responsable', i, 'nombre', e.target.value)} \n                                        className=\"h-8\"\n                                      />\n                                    </TableCell>\n                                    <TableCell>\n                                      <Button \n                                        variant=\"ghost\" \n                                        size=\"icon\" \n                                        onClick={() => openSignatureDialog('validacion', 'responsable', i)}\n                                      >\n                                        <Signature className=\"h-4 w-4\"/>\n                                      </Button>\n                                    </TableCell>\n                                    <TableCell>\n                                      <Input \n                                        type=\"date\" \n                                        value={v.fecha || ''} \n                                        onChange={(e) => handleListChange('validacion', 'responsable', i, 'fecha', e.target.value)} \n                                        className=\"h-8\"\n                                      />\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </div>\n            </div>\n        </SectionWrapper>\n\n        <SectionWrapper title=\"Cancelaci√≥n y Cierre\">\n         <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"space-y-4 p-4 border rounded-lg\">\n                <h3 className=\"font-semibold\">Cancelaci√≥n del Trabajo</h3>\n                <RadioGroupField \n                  id=\"cancelacion-si-no\" \n                  label=\"¬øSe cancel√≥ el trabajo?\" \n                  value={anexoAltura.cancelacion?.seCancelo || 'no'} \n                  onChange={(value) => handleNestedFieldChange('cancelacion', 'seCancelo', value)} \n                />\n                {anexoAltura.cancelacion?.seCancelo === 'si' && (\n                    <div className=\"space-y-3\">\n                        <Textarea \n                          placeholder=\"Raz√≥n de la cancelaci√≥n\" \n                          value={anexoAltura.cancelacion.razon || ''} \n                          onChange={(e) => handleNestedFieldChange('cancelacion', 'razon', e.target.value)} \n                        />\n                        <Input \n                          placeholder=\"Nombre de quien cancela\" \n                          value={anexoAltura.cancelacion.nombre || ''} \n                          onChange={(e) => handleNestedFieldChange('cancelacion', 'nombre', e.target.value)} \n                        />\n                         <Input \n                          type=\"date\" \n                          value={anexoAltura.cancelacion.fecha || ''} \n                          onChange={(e) => handleNestedFieldChange('cancelacion', 'fecha', e.target.value)} \n                        />\n                        <Button \n                          variant=\"outline\" \n                          className=\"w-full\" \n                          onClick={() => openSignatureDialog('cancelacion', 'firma')}\n                        >\n                          <Signature className=\"mr-2\"/>Firmar Cancelaci√≥n\n                        </Button>\n                        {anexoAltura.cancelacion?.firma && (\n                          <img src={anexoAltura.cancelacion.firma} alt=\"Firma\" className=\"mt-2 border rounded-md max-h-20\" />\n                        )}\n                    </div>\n                )}\n            </div>\n             <div className=\"space-y-4 p-4 border rounded-lg\">\n                <h3 className=\"font-semibold\">Cierre del Permiso</h3>\n                <RadioGroupField \n                  id=\"cierre-si-no\" \n                  label=\"¬øSe termin√≥ el trabajo?\" \n                  value={anexoAltura.cierre?.seTermino || 'no'} \n                  onChange={(value) => handleNestedFieldChange('cierre', 'seTermino', value)} \n                />\n                {anexoAltura.cierre?.seTermino === 'si' && (\n                    <div className=\"space-y-3\">\n                         <Textarea \n                          placeholder=\"Observaciones de cierre\" \n                          value={anexoAltura.cierre.observaciones || ''} \n                          onChange={(e) => handleNestedFieldChange('cierre', 'observaciones', e.target.value)} \n                        />\n                        <div className=\"p-3 border rounded-md\">\n                            <p className=\"text-xs font-bold\">Autoridad del √Årea</p>\n                            <Input \n                              placeholder=\"Nombre\" \n                              value={anexoAltura.cierre.autoridad?.nombre || ''} \n                              onChange={(e) => handleDeepNestedChange('cierre', 'autoridad', 'nombre', e.target.value)} \n                            />\n                             <Input \n                              type=\"date\" \n                              className=\"mt-2\" \n                              value={anexoAltura.cierre.autoridad?.fecha || ''} \n                              onChange={(e) => handleDeepNestedChange('cierre', 'autoridad', 'fecha', e.target.value)} \n                            />\n                            <Button \n                              variant=\"outline\" \n                              size=\"sm\" \n                              className=\"w-full mt-2\" \n                              onClick={() => openSignatureDialog('cierre.autoridad', 'firma')}\n                            >\n                              <Signature className=\"mr-2\"/>Firmar Cierre\n                            </Button>\n                            {anexoAltura.cierre.autoridad?.firma && (\n                              <img src={anexoAltura.cierre.autoridad.firma} alt=\"Firma\" className=\"mt-2 border rounded-md max-h-20\" />\n                            )}\n                        </div>\n                        <div className=\"p-3 border rounded-md\">\n                            <p className=\"text-xs font-bold\">Responsable del Trabajo</p>\n                            <Input \n                              placeholder=\"Nombre\" \n                              value={anexoAltura.cierre.responsable?.nombre || ''} \n                              onChange={(e) => handleDeepNestedChange('cierre', 'responsable', 'nombre', e.target.value)} \n                            />\n                            <Input \n                              type=\"date\" \n                              className=\"mt-2\" \n                              value={anexoAltura.cierre.responsable?.fecha || ''} \n                              onChange={(e) => handleDeepNestedChange('cierre', 'responsable', 'fecha', e.target.value)} \n                            />\n                            <Button \n                              variant=\"outline\" \n                              size=\"sm\" \n                              className=\"w-full mt-2\" \n                              onClick={() => openSignatureDialog('cierre.responsable', 'firma')}\n                            >\n                              <Signature className=\"mr-2\"/>Firmar Cierre\n                            </Button>\n                            {anexoAltura.cierre.responsable?.firma && (\n                              <img src={anexoAltura.cierre.responsable.firma} alt=\"Firma\" className=\"mt-2 border rounded-md max-h-20\" />\n                            )}\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    </SectionWrapper>\n    </div>\n    \n    <Dialog open={isSignatureDialogOpen} onOpenChange={setIsSignatureDialogOpen}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>Registrar Firma</DialogTitle>\n        </DialogHeader>\n        <SignaturePad onSave={handleSaveSignature} />\n      </DialogContent>\n    </Dialog>\n  </>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4897, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/AnexoConfinadoStep.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { usePermitForm } from '../form-context';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Button } from '@/components/ui/button';\nimport { Signature, Trash2, Plus, ChevronDown } from 'lucide-react';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { SignaturePad } from '@/components/ui/signature-pad';\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from '@/components/ui/collapsible';\n\nconst identificacionPeligros = [\n  { id: 'fuentesEnergiaAisladas', label: 'A. ESTAN LAS FUENTES DE ENERGIA (ELECTRICA, MECANICA, HIDRAULICA, TERMICA NEUMATICA) AISLADAS' },\n  { id: 'ejecutantesConocenMedidas', label: 'B. TODOS LOS EJECUTANTES CONOCEN LAS MEDIDAS DE PRECAUCI√ìN ESTABLECIDAS EN LA EVALUACI√ìN DE RIESGOS?' },\n  { id: 'ejecutantesEntrenados', label: 'C. EST√ÅN LOS EJECUTANTES ENTRENADOS' },\n  { id: 'entradasSalidasFlujoBloqueadas', label: 'D. ESTAN BLOQUEADAS LAS ENTRADAS Y SALIDAS DE FLUJO - SE INSTALARON AISLAMIENTOS (COLOMBINAS, CIEGOS)' },\n  { id: 'areaDelimitada', label: 'E. ESTA DELIMITADA Y SE√ëALIZADA EL AREA DE TRABAJO PARA PREVENIR EL INGRESO AL ESPACIO CONFINADO DE PERSONAL NO AUTORIZADO O AJENO A LA ACTIVIDAD' },\n  { id: 'monitorAtmosferasCalibrado', label: 'F. SE TIENE EN SITIO UN MONITOR DE ATMOSFERAS PELIGROSAS, CALIBRADO' },\n  { id: 'equiposIluminacionExplosion', label: 'G. SON A PRUEBA DE EXPLOSION LOS EQUIPOS DE ILUMINACION, Y LAS CONEXIONES DE LOS EQUIPOS' },\n  { id: 'equiposVentilacionExplosion', label: 'H. SON A PRUEBA DE EXPLOSION LOS EQUIPOS DE VENTILACION O SUMINISTRO DE AIRE FORZADO Y SUS CONEXIONES' },\n  { id: 'medidasSeguridadEquiposNoExplosion', label: 'I. EN CASO DE QUE LOS EQUIPOS NO SEAN A PRUEBA DE EXPLOSION SE SE TOMARON LAS MEDIDAS DE SEGURUDAD NECESARIA PARA EVITAR RIESGOS' },\n  { id: 'equiposVentilacionSuficientes', label: 'J. LOS EQUIPOS DE VENTILACION ESTAN DISPONIBLES Y SON SUFICIENTES' },\n  { id: 'chequeoVentilacionMecanica', label: 'CHEQUEO DE VENTILACION MECANICA' },\n  { id: 'chequeoVentilacionNatural', label: 'CHEQUEO DE VENTILACION (SOLO NATURAL)' },\n  { id: 'equiposRespiracionAutonoma', label: 'K. ESTAN DISPONIBLES EN EL SITIO EQUIPOS DE RESPIRACION AUTONOMA (AUTOCONTENIDO) EN CASO DE EMERGENCIA' },\n  { id: 'elementosAtencionEmergencias', label: 'L. SE CUENTA CON ELEMENTOS PARA ATENCION DE EMERGENCIAS EN EL AREA' },\n  { id: 'planEmergenciaRescate', label: 'M. SE CUENTA CON PLAN DE EMERGENCIA PARA RESCATE' },\n  { id: 'hojasSeguridadDisponibles', label: 'N. ESTAN DISPONIBLES LAS HOJAS DE SEGURIDAD DE PRODUCTOS QUIMICOS EN CASO DE USARSE.' },\n  { id: 'verificadoConexionesPuestaTierra', label: '√ë.SE HA VERIFICADO EL ESTADO DE CONEXIONES Y PUESTA A TIERRA DE EQUIPOS Y ELEMENTOS A USAR.' },\n  { id: 'vigiaPermanente', label: 'O.SE VERIFICA QUE PARA EL INGRESO A ESPACIOS CONFIANDOS SE CUENTE CON UN VIGIA PERMANENTE EN EL AREA' },\n  { id: 'herramientasAdecuadas', label: 'P. SE VERIFICO QUE LAS HERRAMIENTAS MANUALES Y OTROS ELEMENTOS SEAN LOS ADECUADOS PARA LAS CONDICIONES Y ATMOSFERAS DEL LUGAR' },\n  { id: 'personalSaludable', label: 'Q.EL PERSONAL QUE REALIZA EL TRABAJO SE ENCUENTRA EN CONDICIONES ADECUADAS DE SALUD PARA LA ACTIVIDAD' },\n  { id: 'verificadoEpp', label: 'R.SE VERIFICO EL EQUIPO Y ELEMENTOS DE PROTECCION PERSONAL A UTILIZAR' },\n  { id: 'circunstanciaModificadora', label: 'S.EXISTE ALGUNA CIRCUSTANCIA O FACTOR QUE PUEDA MODIFICAR EL TRABAJO' },\n  { id: 'equiposIntrinsecamenteSeguros', label: 'SE HA VERIFICADO QUE LOS EQUIPOS A USARSE SON INTRINSICAMENTE SEGUROS' },\n  { id: 'procedimientoComunicacion', label: 'SE CUENTA CON PROCEDMIENTO DE COMUNICACI√ìN CUAL ?' }\n];\n\nconst peligroSections: { title: string, items: string[] }[] = [\n    { title: \"Aislamiento y Preparaci√≥n del √Årea\", items: ['fuentesEnergiaAisladas', 'entradasSalidasFlujoBloqueadas', 'areaDelimitada'] },\n    { title: \"Personal y Entrenamiento\", items: ['ejecutantesConocenMedidas', 'ejecutantesEntrenados', 'personalSaludable', 'vigiaPermanente'] },\n    { title: \"Equipos y Monitoreo\", items: ['monitorAtmosferasCalibrado', 'equiposIluminacionExplosion', 'equiposVentilacionExplosion', 'medidasSeguridadEquiposNoExplosion', 'equiposVentilacionSuficientes', 'chequeoVentilacionMecanica', 'chequeoVentilacionNatural', 'equiposIntrinsecamenteSeguros'] },\n    { title: \"Emergencias y Rescate\", items: ['equiposRespiracionAutonoma', 'elementosAtencionEmergencias', 'planEmergenciaRescate'] },\n    { title: \"Materiales y Herramientas\", items: ['hojasSeguridadDisponibles', 'verificadoConexionesPuestaTierra', 'herramientasAdecuadas', 'verificadoEpp'] },\n    { title: \"Condiciones Adicionales\", items: ['circunstanciaModificadora', 'procedimientoComunicacion'] }\n];\n\nconst precaucionesControles = [\n    { id: 'despresurizar', label: 'DESPRESURIZAR' },\n    { id: 'revisarEquipos', label: 'REVISAR EQUIPOS Y HERRAMIENTAS' },\n    { id: 'monitoreoAtmosferas', label: 'MONITOREO DE ATMOSFERAS' },\n    { id: 'drenarVentilar', label: 'DRENAR Y VENTILAR' },\n    { id: 'aislamientoEnergias', label: 'AISLAMIENTO DE ENERGIAS' },\n    { id: 'aterrizarEquipo', label: 'ATERRIZAR EQUIPO' },\n    { id: 'equipoContraIncendio', label: 'EQUIPO CONTRA INCENDIO' },\n    { id: 'instalarLineasVida', label: 'INSTALAR LINEAS DE VIDA ADICIONALES' },\n    { id: 'usoEppsEspeciales', label: 'USO DE EPPS ESPECIALES' },\n    { id: 'hojaSeguridadMsds', label: 'HOJA DE SEGURIDAD MSDS' },\n    { id: 'bloqueoEtiquetado', label: 'BLOQUEO Y ETIQUETADO' },\n    { id: 'requiereVigia', label: 'REQUIERE VIGIA' },\n    { id: 'etiquetadoProductosQuimicos', label: 'ETIQUETADO PRODUCTOS QUIMICOS' },\n    { id: 'clasificacionResiduos', label: 'CLASIFICACION DE RESIDUOS' },\n    { id: 'senalizacion', label: 'SE√ëALIZACION' },\n    { id: 'sistemaContencionDerrames', label: 'SISTEMA DE CONTENCION DE DERRAMES' }\n];\n\nconst requerimientosEquipos = [\n    { id: 'arnesLineasVida', label: 'ARNES DE SEGURIDAD, LINEAS DE VIDA PARA PERSONAS QUE INGRESAN Y SALEN' },\n    { id: 'equiposIzar', label: 'EQUIPOS PARA IZAR (CUERDAS, CABLES, ETC)' },\n    { id: 'equiposComunicaciones', label: 'EQUIPOS DE COMUNICACIONES' },\n    { id: 'equiposAutonomos', label: 'EQUIPOS AUTONOMOS PARA PERSONAS DE ENTRADA Y SALIDA' },\n    { id: 'extintores', label: 'EXTINTORES' },\n    { id: 'ropaDotacionEspecial', label: 'ROPA Y DOTACION ESPECIAL DE PROTECCION' },\n    { id: 'bloqueosAislamientos', label: 'BLOQUEOS / AISLAMIENTOS /SALIDA ' },\n    { id: 'lineasElectricasChequeadas', label: 'L√çNEAS EL√âCTRICAS: EXPUESTAS, OCULTAS EST√ÅN CHEQUEADAS' },\n    { id: 'areaSegura', label: 'AREA SEGURA' },\n    { id: 'personalSeguridadCierre', label: 'PRESONAL DE SEGURIDAD DE CIERRE?' },\n    { id: 'equipoRecuperacionEmergencia', label: 'EQUIPO DE RECUPERACION DE EMERGENCIA' },\n    { id: 'iluminacionEquiposExplosion', label: 'ILUMINACION Y EQUIPOS A PRUEBA DE EXPLOSION' }\n];\n\nconst RadioGroupField = ({ id, label, value, onChange }: { id: string; label: string; value: 'si' | 'no' | 'na'; onChange: (value: 'si' | 'no' | 'na') => void; }) => (\n    <div className=\"flex justify-between items-center p-3 border rounded-md bg-white\">\n        <Label htmlFor={id} className=\"text-sm font-medium flex-1\">{label}</Label>\n        <RadioGroup id={id} value={value || 'na'} onValueChange={onChange} className=\"flex gap-4\">\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"si\" id={`${id}-si`} /><Label htmlFor={`${id}-si`}>SI</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"no\" id={`${id}-no`} /><Label htmlFor={`${id}-no`}>NO</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"na\" id={`${id}-na`} /><Label htmlFor={`${id}-na`}>N/A</Label></div>\n        </RadioGroup>\n    </div>\n);\n\nexport function AnexoConfinadoStep() {\n  const { state, dispatch } = usePermitForm();\n  const { generalInfo, anexoConfinado } = state;\n  \n  // Estado controlado para TODAS las secciones principales\n  const [openSections, setOpenSections] = React.useState<Record<string, boolean>>({\n    informacionGeneral: true,    // Informaci√≥n General abierta por defecto\n    identificacionPeligros: false,\n    precaucionesControles: false,\n    resultadosPruebas: false,\n    requerimientosEquipos: false,\n    pruebasPeriodicas: false,\n    autorizaciones: false,\n    validacionCierre: false,\n    // Tambi√©n para las subcategor√≠as de peligros\n    ...Object.fromEntries(peligroSections.map(section => [section.title, false]))\n  });\n  \n  const [isSignatureDialogOpen, setIsSignatureDialogOpen] = React.useState(false);\n  const [signingTarget, setSigningTarget] = React.useState<{ section: string; field: string; index?: number } | null>(null);\n\n  const toggleSection = (sectionId: string) => {\n    setOpenSections(prev => ({\n      ...prev,\n      [sectionId]: !prev[sectionId]\n    }));\n  };\n\n  // Funci√≥n principal para actualizar campos del anexo\n  const handleFieldChange = (field: string, value: any) => {\n    dispatch({\n      type: 'UPDATE_ANEXO_CONFINADO',\n      payload: { [field]: value }\n    });\n  };\n\n  // Funci√≥n para campos anidados (ej: emergencia.contacto)\n  const handleNestedFieldChange = (section: string, field: string, value: any) => {\n    const currentSection = (anexoConfinado as any)[section] || {};\n    handleFieldChange(section, {\n      ...currentSection,\n      [field]: value\n    });\n  };\n\n  // Funci√≥n para campos anidados profundos (ej: cierre.autoridad.nombre)\n  const handleDeepNestedChange = (section: string, subSection: string, field: string, value: any) => {\n    const currentSection = (anexoConfinado as any)[section] || {};\n    const currentSubSection = currentSection[subSection] || {};\n    \n    handleFieldChange(section, {\n      ...currentSection,\n      [subSection]: {\n        ...currentSubSection,\n        [field]: value\n      }\n    });\n  };\n\n  // Funci√≥n para listas (ej: validacion.autoridad[index])\n  const handleListChange = (section: string, listName: string, index: number, field: string, value: any) => {\n    const currentSection = (anexoConfinado as any)[section] || {};\n    const currentList = [...(currentSection[listName] || [])];\n    \n    // Asegurar que el √≠ndice existe\n    while (currentList.length <= index) {\n      if (listName === 'pruebas') {\n        currentList.push({ \n          id: `prueba-${Date.now()}-${currentList.length}`, \n          hora: '', \n          lel: '', \n          o2: '', \n          h2s: '', \n          co: '', \n          firma: '' \n        });\n      } else {\n        currentList.push({ \n          dia: currentList.length + 1, \n          nombre: '', \n          firma: '', \n          fecha: '' \n        });\n      }\n    }\n    \n    currentList[index] = { ...currentList[index], [field]: value };\n    \n    handleFieldChange(section, {\n      ...currentSection,\n      [listName]: currentList\n    });\n  };\n\n  // Funci√≥n para agregar elementos a listas\n  const addToList = (section: string, listName: string, defaultItem: any) => {\n    const currentSection = (anexoConfinado as any)[section] || {};\n    const currentList = [...(currentSection[listName] || [])];\n    \n    if (listName === 'pruebas' && currentList.length >= 4) {\n      return; // L√≠mite de 4 pruebas\n    }\n    \n    currentList.push(defaultItem);\n    handleFieldChange(section, {\n      ...currentSection,\n      [listName]: currentList\n    });\n  };\n\n  // Funci√≥n para remover elementos de listas\n  const removeFromList = (section: string, listName: string, index: number) => {\n    const currentSection = (anexoConfinado as any)[section] || {};\n    const currentList = (currentSection[listName] || []).filter((_: any, i: number) => i !== index);\n    handleFieldChange(section, {\n      ...currentSection,\n      [listName]: currentList\n    });\n  };\n\n  // Inicializar validaci√≥n diaria\n  React.useEffect(() => {\n    if (!anexoConfinado?.validacion) {\n      const autoridad = Array(7).fill(0).map((_, i) => ({ \n        dia: i + 1, \n        nombre: '', \n        firma: '', \n        fecha: '' \n      }));\n      const responsable = Array(7).fill(0).map((_, i) => ({ \n        dia: i + 1, \n        nombre: '', \n        firma: '', \n        fecha: '' \n      }));\n      \n      handleFieldChange('validacion', { autoridad, responsable });\n    }\n  }, []); // Solo ejecutar una vez\n\n  const openSignatureDialog = (section: string, field: string, index?: number) => {\n    setSigningTarget({ section, field, index });\n    setIsSignatureDialogOpen(true);\n  };\n\n  const handleSaveSignature = (signature: string) => {\n    if (!signingTarget) return;\n    const { section, field, index } = signingTarget;\n\n    if (index !== undefined) {\n      // Para listas como validacion.autoridad[0].firma o pruebasGasesPeriodicas.pruebas[0].firma\n      handleListChange(section, field, index, 'firma', signature);\n    } else if (section.includes('.')) {\n      // Para campos anidados profundos como cierre.autoridad.firma\n      const [mainSection, subSection] = section.split('.');\n      handleDeepNestedChange(mainSection, subSection, 'firma', signature);\n    } else {\n      // Para campos directos como resultadosPruebasGases.firmaQuienRealiza\n      handleNestedFieldChange(section, 'firmaQuienRealiza', signature);\n    }\n\n    setIsSignatureDialogOpen(false);\n    setSigningTarget(null);\n  };\n\n  // SectionWrapper con estado controlado\n  const SectionWrapper: React.FC<{ title: string; children: React.ReactNode; sectionId: string }> = ({ title, children, sectionId }) => (\n    <Collapsible open={openSections[sectionId]} onOpenChange={() => toggleSection(sectionId)}>\n      <CollapsibleTrigger asChild>\n        <Button variant=\"ghost\" className=\"w-full justify-between p-3 bg-gray-100 rounded-lg cursor-pointer border\">\n          <h3 className=\"text-lg font-bold text-gray-700\">{title}</h3>\n          <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n        </Button>\n      </CollapsibleTrigger>\n      <CollapsibleContent className=\"p-4 border-l border-r border-b rounded-b-lg\">\n        {children}\n      </CollapsibleContent>\n    </Collapsible>\n  );\n\n  return (\n    <>\n    <div className=\"space-y-8\">\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">\n          Anexo de Espacios Confinados\n        </h2>\n        <p className=\"text-muted-foreground text-sm\">\n          Complete la informaci√≥n requerida para trabajos en espacios confinados.\n        </p>\n      </div>\n\n      <SectionWrapper title=\"Informaci√≥n General del Anexo\" sectionId=\"informacionGeneral\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div><Label>Emitido por:</Label><Input value={generalInfo.nombreSolicitante || ''} readOnly disabled /></div>\n          <div><Label>√Årea de Trabajo:</Label><Input value={generalInfo.areaEspecifica || ''} readOnly disabled /></div>\n          <div><Label>Equipo o √Årea Espec√≠fica:</Label><Input value={generalInfo.proceso || ''} readOnly disabled /></div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\n            <div><Label>Responsable (Nombre):</Label><Input value={generalInfo.responsable?.nombre || ''} readOnly disabled /></div>\n            <div><Label>Cargo:</Label><Input value={generalInfo.responsable?.cargo || ''} readOnly disabled /></div>\n            <div><Label>Compa√±√≠a:</Label><Input value={generalInfo.responsable?.compania || ''} readOnly disabled /></div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n          <div>\n            <Label>En caso de emergencia contactar a:</Label>\n            <Input \n              value={anexoConfinado?.emergencia?.contacto || ''} \n              onChange={(e) => handleNestedFieldChange('emergencia', 'contacto', e.target.value)} \n            />\n          </div>\n          <div>\n            <Label>Tel√©fono:</Label>\n            <Input \n              value={anexoConfinado?.emergencia?.telefono || ''} \n              onChange={(e) => handleNestedFieldChange('emergencia', 'telefono', e.target.value)} \n            />\n          </div>\n        </div>\n      </SectionWrapper>\n\n      <SectionWrapper title=\"Identificaci√≥n de Peligros y Aspectos\" sectionId=\"identificacionPeligros\">\n        <div className=\"space-y-2\">\n            {peligroSections.map((section) => (\n                <Collapsible key={section.title} open={openSections[section.title]} onOpenChange={() => toggleSection(section.title)}>\n                    <CollapsibleTrigger asChild>\n                        <Button variant=\"ghost\" className=\"w-full justify-between p-4 border rounded-lg\">\n                            <span className=\"font-semibold text-gray-700\">{section.title}</span>\n                            <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n                        </Button>\n                    </CollapsibleTrigger>\n                    <CollapsibleContent className=\"p-4 border border-t-0 rounded-b-lg space-y-3\">\n                        {section.items.map(itemId => {\n                            const item = identificacionPeligros.find(p => p.id === itemId);\n                            if (!item) return null;\n                            return (\n                                <div key={item.id} className=\"space-y-2\">\n                                    <RadioGroupField\n                                        id={`peligro-${item.id}`}\n                                        label={item.label}\n                                        value={anexoConfinado?.identificacionPeligros?.[item.id] || 'na'}\n                                        onChange={(value) => handleNestedFieldChange('identificacionPeligros', item.id, value)}\n                                    />\n                                    {item.id === 'procedimientoComunicacion' && anexoConfinado?.identificacionPeligros?.procedimientoComunicacion === 'si' && (\n                                        <Input\n                                            className=\"ml-8 w-[calc(100%-2rem)]\"\n                                            placeholder=\"Cu√°l procedimiento de comunicaci√≥n?\"\n                                            value={anexoConfinado?.procedimientoComunicacionCual || ''}\n                                            onChange={(e) => handleFieldChange('procedimientoComunicacionCual', e.target.value)}\n                                        />\n                                    )}\n                                </div>\n                            );\n                        })}\n                    </CollapsibleContent>\n                </Collapsible>\n            ))}\n        </div>\n      </SectionWrapper>\n      \n      <SectionWrapper title=\"Precauciones y Controles Espec√≠ficos\" sectionId=\"precaucionesControles\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {precaucionesControles.map(item => (\n                <RadioGroupField \n                  key={item.id} \n                  id={`precaucion-${item.id}`} \n                  label={item.label} \n                  value={anexoConfinado?.precauciones?.[item.id] || 'na'} \n                  onChange={(value) => handleNestedFieldChange('precauciones', item.id, value)} \n                />\n            ))}\n        </div>\n      </SectionWrapper>\n      \n      <SectionWrapper title=\"Resultados de Pruebas de Gases\" sectionId=\"resultadosPruebas\">\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 items-end\">\n            <div>\n              <Label>LEL (0%)</Label>\n              <Input \n                value={anexoConfinado?.resultadosPruebasGases?.lel || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'lel', e.target.value)} \n              />\n            </div>\n            <div>\n              <Label>O2 (19.5-22%)</Label>\n              <Input \n                value={anexoConfinado?.resultadosPruebasGases?.o2 || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'o2', e.target.value)} \n              />\n            </div>\n            <div>\n              <Label>H2S (0-10 PPM)</Label>\n              <Input \n                value={anexoConfinado?.resultadosPruebasGases?.h2s || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'h2s', e.target.value)} \n              />\n            </div>\n            <div>\n              <Label>CO (0-25 PPM)</Label>\n              <Input \n                value={anexoConfinado?.resultadosPruebasGases?.co || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'co', e.target.value)} \n              />\n            </div>\n            <div className=\"col-span-2\">\n              <Label>Otros</Label>\n              <Input \n                value={anexoConfinado?.resultadosPruebasGases?.otros || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'otros', e.target.value)} \n              />\n            </div>\n            <div>\n              <Label>Serial Monitor</Label>\n              <Input \n                value={anexoConfinado?.resultadosPruebasGases?.serialMonitor || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'serialMonitor', e.target.value)} \n              />\n            </div>\n            <div>\n              <Label>Hora Prueba</Label>\n              <Input \n                type=\"time\" \n                value={anexoConfinado?.resultadosPruebasGases?.horaPrueba || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'horaPrueba', e.target.value)} \n              />\n            </div>\n            <div className=\"col-span-full\">\n              <Label>Nombre de quien realiza</Label>\n              <Input \n                value={anexoConfinado?.resultadosPruebasGases?.nombreQuienRealiza || ''} \n                onChange={e => handleNestedFieldChange('resultadosPruebasGases', 'nombreQuienRealiza', e.target.value)} \n              />\n            </div>\n            <div className=\"col-span-full\">\n                <Button \n                  variant=\"outline\" \n                  className=\"w-full\" \n                  onClick={() => openSignatureDialog('resultadosPruebasGases', 'firmaQuienRealiza')}\n                >\n                  <Signature className=\"mr-2\"/>Firmar\n                </Button>\n                {anexoConfinado?.resultadosPruebasGases?.firmaQuienRealiza && (\n                  <img \n                    src={anexoConfinado.resultadosPruebasGases.firmaQuienRealiza} \n                    alt=\"Firma\" \n                    className=\"mt-2 border rounded-md max-h-20\" \n                  />\n                )}\n            </div>\n        </div>\n      </SectionWrapper>\n      \n       <SectionWrapper title=\"Requerimientos y Equipos Revisados\" sectionId=\"requerimientosEquipos\">\n         <div className=\"space-y-4\">\n           {requerimientosEquipos.map(item => (\n              <RadioGroupField \n                key={item.id} \n                id={`req-${item.id}`} \n                label={item.label} \n                value={anexoConfinado?.requerimientosEquipos?.[item.id] || 'na'} \n                onChange={(value) => handleNestedFieldChange('requerimientosEquipos', item.id, value)} \n              />\n           ))}\n         </div>\n         <div className='mt-4'>\n            <Label>Las pruebas de gases se deben realizar cada:</Label>\n            <Input \n              value={anexoConfinado?.pruebasGasesPeriodicas?.intervalo || ''} \n              onChange={e => handleNestedFieldChange('pruebasGasesPeriodicas', 'intervalo', e.target.value)} \n              placeholder=\"Ej: 30 minutos\"\n            />\n         </div>\n       </SectionWrapper>\n\n      <SectionWrapper title=\"Pruebas de Gases Peri√≥dicas Requeridas\" sectionId=\"pruebasPeriodicas\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n             <div>\n               <Label>Prueba realizada por:</Label>\n               <Input \n                 value={anexoConfinado?.pruebasGasesPeriodicas?.pruebaRealizadaPor || ''} \n                 onChange={e => handleNestedFieldChange('pruebasGasesPeriodicas', 'pruebaRealizadaPor', e.target.value)} \n               />\n             </div>\n             <div>\n               <Label>Serial Monitor:</Label>\n               <Input \n                 value={anexoConfinado?.pruebasGasesPeriodicas?.serialMonitor || ''} \n                 onChange={e => handleNestedFieldChange('pruebasGasesPeriodicas', 'serialMonitor', e.target.value)} \n               />\n             </div>\n             <div>\n               <Label>Marca:</Label>\n               <Input \n                 value={anexoConfinado?.pruebasGasesPeriodicas?.marca || ''} \n                 onChange={e => handleNestedFieldChange('pruebasGasesPeriodicas', 'marca', e.target.value)} \n               />\n             </div>\n             <div>\n               <Label>Fecha y Hora Calibraci√≥n:</Label>\n               <Input \n                 type=\"datetime-local\" \n                 value={anexoConfinado?.pruebasGasesPeriodicas?.fechaCalibracion || ''} \n                 onChange={e => handleNestedFieldChange('pruebasGasesPeriodicas', 'fechaCalibracion', e.target.value)} \n               />\n             </div>\n          </div>\n          \n          <Table className=\"mt-4\">\n            <TableHeader>\n              <TableRow>\n                <TableHead>Hora</TableHead>\n                <TableHead>LEL</TableHead>\n                <TableHead>O2</TableHead>\n                <TableHead>H2S</TableHead>\n                <TableHead>CO</TableHead>\n                <TableHead>Firma</TableHead>\n                <TableHead></TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {(anexoConfinado?.pruebasGasesPeriodicas?.pruebas || []).map((prueba, index) => (\n                <TableRow key={prueba.id}>\n                    <TableCell>\n                      <Input \n                        className=\"h-8\" \n                        type=\"time\" \n                        value={prueba.hora || ''} \n                        onChange={e => handleListChange('pruebasGasesPeriodicas', 'pruebas', index, 'hora', e.target.value)} \n                      />\n                    </TableCell>\n                    <TableCell>\n                      <Input \n                        className=\"h-8\" \n                        value={prueba.lel || ''} \n                        onChange={e => handleListChange('pruebasGasesPeriodicas', 'pruebas', index, 'lel', e.target.value)} \n                      />\n                    </TableCell>\n                    <TableCell>\n                      <Input \n                        className=\"h-8\" \n                        value={prueba.o2 || ''} \n                        onChange={e => handleListChange('pruebasGasesPeriodicas', 'pruebas', index, 'o2', e.target.value)} \n                      />\n                    </TableCell>\n                    <TableCell>\n                      <Input \n                        className=\"h-8\" \n                        value={prueba.h2s || ''} \n                        onChange={e => handleListChange('pruebasGasesPeriodicas', 'pruebas', index, 'h2s', e.target.value)} \n                      />\n                    </TableCell>\n                    <TableCell>\n                      <Input \n                        className=\"h-8\" \n                        value={prueba.co || ''} \n                        onChange={e => handleListChange('pruebasGasesPeriodicas', 'pruebas', index, 'co', e.target.value)} \n                      />\n                    </TableCell>\n                    <TableCell>\n                      <Button \n                        variant=\"ghost\" \n                        size=\"icon\" \n                        onClick={() => openSignatureDialog('pruebasGasesPeriodicas', 'pruebas', index)}\n                      >\n                        <Signature className=\"h-4 w-4\"/>\n                      </Button>\n                    </TableCell>\n                    <TableCell>\n                      <Button \n                        variant=\"ghost\" \n                        size=\"icon\" \n                        onClick={() => removeFromList('pruebasGasesPeriodicas', 'pruebas', index)}\n                      >\n                        <Trash2 className=\"h-4 w-4 text-destructive\"/>\n                      </Button>\n                    </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n          {(anexoConfinado?.pruebasGasesPeriodicas?.pruebas?.length || 0) < 4 && (\n            <Button \n              size=\"sm\" \n              onClick={() => addToList('pruebasGasesPeriodicas', 'pruebas', { \n                id: `prueba-${Date.now()}`, \n                hora: '', \n                lel: '', \n                o2: '', \n                h2s: '', \n                co: '', \n                firma: '' \n              })} \n              className=\"mt-2\"\n            >\n              <Plus className=\"mr-2 h-4 w-4\"/>Agregar Prueba\n            </Button>\n          )}\n      </SectionWrapper>\n\n       <SectionWrapper title=\"Autorizaciones\" sectionId=\"autorizaciones\">\n        <div className=\"space-y-6\">\n          <div className=\"p-4 border rounded-lg\">\n              <p className=\"text-sm font-semibold mb-2\">Autoridad del √Årea</p>\n              <p className=\"text-xs text-muted-foreground mb-4\">\"Al firmar como Autoridad del √Årea...\"</p>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <Input \n                  placeholder=\"Nombre\" \n                  value={anexoConfinado?.autoridadDelArea?.nombre || ''} \n                  onChange={e => handleNestedFieldChange('autoridadDelArea', 'nombre', e.target.value)} \n                />\n                <Input \n                  type=\"time\" \n                  placeholder=\"Hora\" \n                  value={anexoConfinado?.autoridadDelArea?.hora || ''} \n                  onChange={e => handleNestedFieldChange('autoridadDelArea', 'hora', e.target.value)} \n                />\n              </div>\n              <Button \n                variant=\"outline\" \n                className=\"w-full mt-4\" \n                onClick={() => openSignatureDialog('autoridadDelArea', 'firma')}\n              >\n                <Signature className=\"mr-2\"/>Firmar\n              </Button>\n              {anexoConfinado?.autoridadDelArea?.firma && (\n                <img \n                  src={anexoConfinado.autoridadDelArea.firma} \n                  alt=\"Firma\" \n                  className=\"mt-2 border rounded-md max-h-20\" \n                />\n              )}\n          </div>\n\n          <div className=\"p-4 border rounded-lg\">\n              <p className=\"text-sm font-semibold mb-2\">Responsable del Trabajo</p>\n              <p className=\"text-xs text-muted-foreground mb-4\">\"Al firmar como Responsable del Trabajo...\"</p>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <Input \n                  placeholder=\"Nombre\" \n                  value={anexoConfinado?.responsableDelTrabajo?.nombre || ''} \n                  onChange={e => handleNestedFieldChange('responsableDelTrabajo', 'nombre', e.target.value)} \n                />\n                <Input \n                  type=\"time\" \n                  placeholder=\"Hora\" \n                  value={anexoConfinado?.responsableDelTrabajo?.hora || ''} \n                  onChange={e => handleNestedFieldChange('responsableDelTrabajo', 'hora', e.target.value)} \n                />\n              </div>\n              <Button \n                variant=\"outline\" \n                className=\"w-full mt-4\" \n                onClick={() => openSignatureDialog('responsableDelTrabajo', 'firma')}\n              >\n                <Signature className=\"mr-2\"/>Firmar\n              </Button>\n              {anexoConfinado?.responsableDelTrabajo?.firma && (\n                <img \n                  src={anexoConfinado.responsableDelTrabajo.firma} \n                  alt=\"Firma\" \n                  className=\"mt-2 border rounded-md max-h-20\" \n                />\n              )}\n          </div>\n\n          <div className=\"p-4 border rounded-lg\">\n              <p className=\"text-sm font-semibold mb-2\">Supervisor de Trabajo en Espacios Confinados</p>\n              <p className=\"text-xs text-muted-foreground mb-4\">\"Al firmar como Supervisor...\"</p>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <Input \n                  placeholder=\"Nombre\" \n                  value={anexoConfinado?.supervisorTrabajo?.nombre || ''} \n                  onChange={e => handleNestedFieldChange('supervisorTrabajo', 'nombre', e.target.value)} \n                />\n                <Input \n                  type=\"time\" \n                  placeholder=\"Hora\" \n                  value={anexoConfinado?.supervisorTrabajo?.hora || ''} \n                  onChange={e => handleNestedFieldChange('supervisorTrabajo', 'hora', e.target.value)} \n                />\n              </div>\n              <Button \n                variant=\"outline\" \n                className=\"w-full mt-4\" \n                onClick={() => openSignatureDialog('supervisorTrabajo', 'firma')}\n              >\n                <Signature className=\"mr-2\"/>Firmar\n              </Button>\n              {anexoConfinado?.supervisorTrabajo?.firma && (\n                <img \n                  src={anexoConfinado.supervisorTrabajo.firma} \n                  alt=\"Firma\" \n                  className=\"mt-2 border rounded-md max-h-20\" \n                />\n              )}\n          </div>\n        </div>\n      </SectionWrapper>\n      \n      <SectionWrapper title=\"Validaci√≥n y Cierre\" sectionId=\"validacionCierre\">\n         <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <div className=\"p-4 border rounded-lg space-y-2\">\n                    <h4 className=\"font-semibold\">Autoridad del √Årea</h4>\n                    <p className='text-xs text-muted-foreground'>Entiendo todas las condiciones de este trabajo y la responsabilidad de implementar las medidas de control establecidas.</p>\n                    <Table>\n                        <TableHeader>\n                          <TableRow>\n                            <TableHead>D√≠a</TableHead>\n                            <TableHead>Nombre</TableHead>\n                            <TableHead>Firma</TableHead>\n                            <TableHead>Fecha</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                            {(anexoConfinado.validacion?.autoridad || []).map((v, i) => (\n                                <TableRow key={i}>\n                                    <TableCell>{i + 1}</TableCell>\n                                    <TableCell>\n                                      <Input \n                                        value={v.nombre || ''} \n                                        onChange={(e) => handleListChange('validacion', 'autoridad', i, 'nombre', e.target.value)} \n                                        className=\"h-8\"\n                                      />\n                                    </TableCell>\n                                    <TableCell>\n                                      <Button \n                                        variant=\"ghost\" \n                                        size=\"icon\" \n                                        onClick={() => openSignatureDialog('validacion', 'autoridad', i)}\n                                      >\n                                        <Signature className=\"h-4 w-4\"/>\n                                      </Button>\n                                    </TableCell>\n                                    <TableCell>\n                                      <Input \n                                        type=\"date\" \n                                        value={v.fecha || ''} \n                                        onChange={(e) => handleListChange('validacion', 'autoridad', i, 'fecha', e.target.value)} \n                                        className=\"h-8\"\n                                      />\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </div>\n                <div className=\"p-4 border rounded-lg space-y-2\">\n                    <h4 className=\"font-semibold\">Responsable del Trabajo/Ejecutor</h4>\n                     <p className='text-xs text-muted-foreground'>Entiendo todas las condiciones de este trabajo y la responsabilidad de implementar las medidas de control establecidas.</p>\n                    <Table>\n                        <TableHeader>\n                          <TableRow>\n                            <TableHead>D√≠a</TableHead>\n                            <TableHead>Nombre</TableHead>\n                            <TableHead>Firma</TableHead>\n                            <TableHead>Fecha</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                             {(anexoConfinado.validacion?.responsable || []).map((v, i) => (\n                                <TableRow key={i}>\n                                    <TableCell>{i + 1}</TableCell>\n                                    <TableCell>\n                                      <Input \n                                        value={v.nombre || ''} \n                                        onChange={(e) => handleListChange('validacion', 'responsable', i, 'nombre', e.target.value)} \n                                        className=\"h-8\"\n                                      />\n                                    </TableCell>\n                                    <TableCell>\n                                      <Button \n                                        variant=\"ghost\" \n                                        size=\"icon\" \n                                        onClick={() => openSignatureDialog('validacion', 'responsable', i)}\n                                      >\n                                        <Signature className=\"h-4 w-4\"/>\n                                      </Button>\n                                    </TableCell>\n                                    <TableCell>\n                                      <Input \n                                        type=\"date\" \n                                        value={v.fecha || ''} \n                                        onChange={(e) => handleListChange('validacion', 'responsable', i, 'fecha', e.target.value)} \n                                        className=\"h-8\"\n                                      />\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </div>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6\">\n              <div className=\"space-y-4 p-4 border rounded-lg\">\n                  <h3 className=\"font-semibold\">Cancelaci√≥n del Trabajo</h3>\n                  <RadioGroupField \n                    id=\"cancelacion-si-no\" \n                    label=\"¬øSe cancel√≥ el trabajo?\" \n                    value={anexoConfinado.cancelacion?.seCancelo || 'no'} \n                    onChange={(value) => handleNestedFieldChange('cancelacion', 'seCancelo', value)} \n                  />\n                  {anexoConfinado.cancelacion?.seCancelo === 'si' && (\n                      <div className=\"space-y-3\">\n                          <Textarea \n                            placeholder=\"Raz√≥n de la cancelaci√≥n\" \n                            value={anexoConfinado.cancelacion.razon || ''} \n                            onChange={(e) => handleNestedFieldChange('cancelacion', 'razon', e.target.value)} \n                          />\n                          <Input \n                            placeholder=\"Nombre de quien cancela\" \n                            value={anexoConfinado.cancelacion.nombre || ''} \n                            onChange={(e) => handleNestedFieldChange('cancelacion', 'nombre', e.target.value)} \n                          />\n                          <Input \n                            type=\"date\" \n                            value={anexoConfinado.cancelacion.fecha || ''} \n                            onChange={(e) => handleNestedFieldChange('cancelacion', 'fecha', e.target.value)} \n                          />\n                          <Button \n                            variant=\"outline\" \n                            className=\"w-full\" \n                            onClick={() => openSignatureDialog('cancelacion', 'firma')}\n                          >\n                            <Signature className=\"mr-2\"/>Firmar Cancelaci√≥n\n                          </Button>\n                          {anexoConfinado.cancelacion?.firma && (\n                            <img \n                              src={anexoConfinado.cancelacion.firma} \n                              alt=\"Firma\" \n                              className=\"mt-2 border rounded-md max-h-20\" \n                            />\n                          )}\n                      </div>\n                  )}\n              </div>\n              <div className=\"space-y-4 p-4 border rounded-lg\">\n                  <h3 className=\"font-semibold\">Cierre del Permiso</h3>\n                  <RadioGroupField \n                    id=\"cierre-si-no\" \n                    label=\"¬øSe termin√≥ el trabajo?\" \n                    value={anexoConfinado.cierre?.seTermino || 'no'} \n                    onChange={(value) => handleNestedFieldChange('cierre', 'seTermino', value)} \n                  />\n                  {anexoConfinado.cierre?.seTermino === 'si' && (\n                      <div className=\"space-y-3\">\n                          <Textarea \n                            placeholder=\"Observaciones de cierre\" \n                            value={anexoConfinado.cierre.observaciones || ''} \n                            onChange={(e) => handleNestedFieldChange('cierre', 'observaciones', e.target.value)} \n                          />\n                          <div className=\"p-3 border rounded-md\">\n                              <p className=\"text-xs font-bold\">Autoridad del √Årea</p>\n                              <Input \n                                placeholder=\"Nombre\" \n                                value={anexoConfinado.cierre.autoridad?.nombre || ''} \n                                onChange={(e) => handleDeepNestedChange('cierre', 'autoridad', 'nombre', e.target.value)} \n                              />\n                              <Input \n                                type=\"date\" \n                                className=\"mt-2\" \n                                value={anexoConfinado.cierre.autoridad?.fecha || ''} \n                                onChange={(e) => handleDeepNestedChange('cierre', 'autoridad', 'fecha', e.target.value)} \n                              />\n                              <Button \n                                variant=\"outline\" \n                                size=\"sm\" \n                                className=\"w-full mt-2\" \n                                onClick={() => openSignatureDialog('cierre.autoridad', 'firma')}\n                              >\n                                <Signature className=\"mr-2\"/>Firmar Cierre\n                              </Button>\n                              {anexoConfinado.cierre.autoridad?.firma && (\n                                <img \n                                  src={anexoConfinado.cierre.autoridad.firma} \n                                  alt=\"Firma\" \n                                  className=\"mt-2 border rounded-md max-h-20\" \n                                />\n                              )}\n                          </div>\n                          <div className=\"p-3 border rounded-md\">\n                              <p className=\"text-xs font-bold\">Responsable del Trabajo</p>\n                              <Input \n                                placeholder=\"Nombre\" \n                                value={anexoConfinado.cierre.responsable?.nombre || ''} \n                                onChange={(e) => handleDeepNestedChange('cierre', 'responsable', 'nombre', e.target.value)} \n                              />\n                              <Input \n                                type=\"date\" \n                                className=\"mt-2\" \n                                value={anexoConfinado.cierre.responsable?.fecha || ''} \n                                onChange={(e) => handleDeepNestedChange('cierre', 'responsable', 'fecha', e.target.value)} \n                              />\n                              <Button \n                                variant=\"outline\" \n                                size=\"sm\" \n                                className=\"w-full mt-2\" \n                                onClick={() => openSignatureDialog('cierre.responsable', 'firma')}\n                              >\n                                <Signature className=\"mr-2\"/>Firmar Cierre\n                              </Button>\n                              {anexoConfinado.cierre.responsable?.firma && (\n                                <img \n                                  src={anexoConfinado.cierre.responsable.firma} \n                                  alt=\"Firma\" \n                                  className=\"mt-2 border rounded-md max-h-20\" \n                                />\n                              )}\n                          </div>\n                      </div>\n                  )}\n              </div>\n          </div>\n      </SectionWrapper>\n\n    </div>\n    <Dialog open={isSignatureDialogOpen} onOpenChange={setIsSignatureDialogOpen}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>Registrar Firma</DialogTitle>\n        </DialogHeader>\n        <SignaturePad onSave={handleSaveSignature} />\n      </DialogContent>\n    </Dialog>\n    </>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7459, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/AnexoEnergiaStep.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport { usePermitForm } from '../form-context';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Button } from '@/components/ui/button';\nimport { ChevronDown } from 'lucide-react';\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\n\nconst SectionWrapper: React.FC<{ title: string; children: React.ReactNode; defaultOpen?: boolean }> = ({ title, children, defaultOpen = false }) => {\n  const [isOpen, setIsOpen] = React.useState(defaultOpen);\n  return (\n    <Collapsible open={isOpen} onOpenChange={setIsOpen}>\n      <CollapsibleTrigger asChild>\n        <Button variant=\"ghost\" className=\"w-full justify-between p-3 bg-gray-100 rounded-lg cursor-pointer border\">\n          <h3 className=\"text-lg font-bold text-gray-700\">{title}</h3>\n          <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n        </Button>\n      </CollapsibleTrigger>\n      <CollapsibleContent className=\"p-4 border-l border-r border-b rounded-b-lg\">\n        {children}\n      </CollapsibleContent>\n    </Collapsible>\n  );\n};\n\nconst RadioGroupField = ({ id, label, value, onChange }: { id: string; label: string; value: string; onChange: (value: string) => void; }) => (\n    <div className=\"flex justify-between items-center p-3 border rounded-md bg-white\">\n        <Label htmlFor={id} className=\"text-sm font-medium flex-1\">{label}</Label>\n        <RadioGroup id={id} value={value || 'na'} onValueChange={onChange} className=\"flex gap-4\">\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"si\" id={`${id}-si`} /><Label htmlFor={`${id}-si`}>SI</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"no\" id={`${id}-no`} /><Label htmlFor={`${id}-no`}>NO</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"na\" id={`${id}-na`} /><Label htmlFor={`${id}-na`}>N/A</Label></div>\n        </RadioGroup>\n    </div>\n);\n\n\nexport function AnexoEnergiaStep() {\n    const { state, dispatch } = usePermitForm();\n    const { generalInfo, anexoEnergias } = state;\n\n    const handleFieldChange = (section: string, field: string, value: any) => {\n        const currentSection = (anexoEnergias as any)[section] || {};\n        dispatch({\n            type: 'UPDATE_ANEXO_ENERGIA',\n            payload: {\n                [section]: { ...currentSection, [field]: value }\n            }\n        });\n    };\n\n    const handleCheckboxGroupChange = (section: string, field: string, checked: boolean) => {\n        const currentSection = (anexoEnergias as any)[section] || {};\n        handleFieldChange(section, field, checked);\n    };\n    \n    const handleInputChange = (field: string, value: string) => {\n         dispatch({\n            type: 'UPDATE_ANEXO_ENERGIA',\n            payload: { [field]: value }\n        });\n    }\n\n    return (\n        <div className=\"space-y-8\">\n            <div className=\"text-center\">\n                <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">\n                    Anexo de Trabajos con Energ√≠as\n                </h2>\n                <p className=\"text-muted-foreground text-sm\">\n                    Complete la informaci√≥n requerida para trabajos con energ√≠as peligrosas.\n                </p>\n            </div>\n\n            <SectionWrapper title=\"Informaci√≥n General\" defaultOpen>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div><Label>Emitido por:</Label><Input value={generalInfo.nombreSolicitante || ''} readOnly disabled /></div>\n                    <div><Label>√Årea de Trabajo:</Label><Input value={generalInfo.areaEspecifica || ''} readOnly disabled /></div>\n                    <div><Label>Equipo o √Årea Espec√≠fica:</Label><Input value={generalInfo.proceso || ''} readOnly disabled /></div>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\n                    <div><Label>Responsable (Nombre):</Label><Input value={generalInfo.responsable?.nombre || ''} readOnly disabled /></div>\n                    <div><Label>Cargo:</Label><Input value={generalInfo.responsable?.cargo || ''} readOnly disabled /></div>\n                    <div><Label>Compa√±√≠a:</Label><Input value={generalInfo.responsable?.compania || ''} readOnly disabled /></div>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n                    <div><Label>En caso de emergencia contactar a:</Label><Input value={anexoEnergias?.emergencia?.contacto || ''} onChange={(e) => handleFieldChange('emergencia', 'contacto', e.target.value)} /></div>\n                    <div><Label>Tel√©fono:</Label><Input value={anexoEnergias?.emergencia?.telefono || ''} onChange={(e) => handleFieldChange('emergencia', 'telefono', e.target.value)} /></div>\n                </div>\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Trabajos en Caliente\">\n                <div className=\"space-y-3\">\n                    <RadioGroupField id=\"distanciaSeguridad\" label=\"A.- Regla de distancia de seguridad de 11 m de materiales combustibles e inflamables\" value={anexoEnergias?.trabajosEnCaliente?.distanciaSeguridad as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'distanciaSeguridad', value)} />\n                    <RadioGroupField id=\"medicionAtmosfera\" label=\"B.- Medici√≥n de atm√≥sfera explosiva (uso de medidor de atm√≥sferas)\" value={anexoEnergias?.trabajosEnCaliente?.medicionAtmosfera as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'medicionAtmosfera', value)} />\n                    <RadioGroupField id=\"aislarArea\" label=\"C.- Aislar el √°rea de trabajo por medio de biombos, lonas, mamparas\" value={anexoEnergias?.trabajosEnCaliente?.aislarArea as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'aislarArea', value)} />\n                    <RadioGroupField id=\"taparAberturas\" label=\"D.- Tapar toda abertura existente a fin de impedir dispersi√≥n de chispas\" value={anexoEnergias?.trabajosEnCaliente?.taparAberturas as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'taparAberturas', value)} />\n                    <RadioGroupField id=\"extintores\" label=\"E.- Extintores port√°tiles en el √°rea de trabajo\" value={anexoEnergias?.trabajosEnCaliente?.extintores as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'extintores', value)} />\n                    <RadioGroupField id=\"vigiaFuego\" label=\"F - Vig√≠a o supervisor de fuego de incendio\" value={anexoEnergias?.trabajosEnCaliente?.vigiaFuego as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'vigiaFuego', value)} />\n                    <RadioGroupField id=\"personalCapacitado\" label=\"G - Personal capacitado, competente y entrenado\" value={anexoEnergias?.trabajosEnCaliente?.personalCapacitado as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'personalCapacitado', value)} />\n                    <RadioGroupField id=\"listasChequeo\" label=\"H - Listas de chequeo pre-operacional de equipos\" value={anexoEnergias?.trabajosEnCaliente?.listasChequeo as string} onChange={(value) => handleFieldChange('trabajosEnCaliente', 'listasChequeo', value)} />\n                    <div className=\"flex items-center gap-2 pt-2\"><Label htmlFor=\"calienteOtro\">Otro (Cual):</Label><Input id=\"calienteOtro\" value={anexoEnergias?.trabajosEnCaliente?.otro as string || ''} onChange={(e) => handleFieldChange('trabajosEnCaliente', 'otro', e.target.value)} /></div>\n                </div>\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Trabajos con Energ√≠as Peligrosas\">\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\n                    {['mecanica', 'neumatica', 'hidraulica', 'agua', 'vapor', 'termica', 'quimica'].map(id => (\n                        <div key={id} className=\"flex items-center space-x-2\">\n                            <Checkbox id={`energia_${id}`} checked={(anexoEnergias?.energiasPeligrosas?.[id] as boolean) || false} onCheckedChange={(checked) => handleCheckboxGroupChange('energiasPeligrosas', id, !!checked)} />\n                            <Label htmlFor={`energia_${id}`} className=\"capitalize\">{id}</Label>\n                        </div>\n                    ))}\n                </div>\n                <div className=\"flex items-center gap-2 mb-6\"><Label htmlFor=\"energiaOtra\">Otra:</Label><Input id=\"energiaOtra\" value={anexoEnergias?.energiasPeligrosas?.otra as string || ''} onChange={(e) => handleFieldChange('energiasPeligrosas', 'otra', e.target.value)} /></div>\n\n                <div className=\"space-y-3\">\n                    <RadioGroupField id=\"procedimientoLOTO\" label=\"A.- Se cuenta procedimiento LO/TO\" value={anexoEnergias?.procedimientoLOTO?.procedimientoLOTO as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'procedimientoLOTO', value)} />\n                    <RadioGroupField id=\"identificadoFuentes\" label=\"B.- Se han identificado las fuentes de energ√≠a\" value={anexoEnergias?.procedimientoLOTO?.identificadoFuentes as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'identificadoFuentes', value)} />\n                    <RadioGroupField id=\"purgadoLimpieza\" label=\"C.- Purgado o limpieza del sistema\" value={anexoEnergias?.procedimientoLOTO?.purgadoLimpieza as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'purgadoLimpieza', value)} />\n                    <RadioGroupField id=\"corteVisible\" label=\"1. Corte visible de fuentes de energ√≠a\" value={anexoEnergias?.procedimientoLOTO?.corteVisible as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'corteVisible', value)} />\n                    <RadioGroupField id=\"instalarBloqueo\" label=\"2. Instalar dispositivos de bloqueo y tarjeta de bloqueo.\" value={anexoEnergias?.procedimientoLOTO?.instalarBloqueo as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'instalarBloqueo', value)} />\n                    <RadioGroupField id=\"disiparEnergia\" label=\"4. Disipar cualquier tipo de energ√≠a (puesta a tierra y en cortocircuito).\" value={anexoEnergias?.procedimientoLOTO?.disiparEnergia as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'disiparEnergia', value)} />\n                    <RadioGroupField id=\"verificarAusencia\" label=\"3. Verificar ausencia de fuentes de energ√≠a\" value={anexoEnergias?.procedimientoLOTO?.verificarAusencia as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'verificarAusencia', value)} />\n                    <RadioGroupField id=\"senalizarZona\" label=\"5. Se√±alizar y delimitar zona de trabajo.\" value={anexoEnergias?.procedimientoLOTO?.senalizarZona as string} onChange={(value) => handleFieldChange('procedimientoLOTO', 'senalizarZona', value)} />\n                </div>\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Trabajos con Energ√≠a El√©ctrica\">\n                <Table>\n                    <TableHeader>\n                        <TableRow>\n                            <TableHead>Nivel de Tensi√≥n</TableHead>\n                            <TableHead>L√≠mite de aproximaci√≥n seguro</TableHead>\n                            <TableHead>L√≠mite de aproximaci√≥n restringido</TableHead>\n                            <TableHead>L√≠mite de aproximaci√≥n t√©cnico</TableHead>\n                        </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                        <TableRow><TableCell>0 V - 50 V</TableCell><TableCell>3,0 m</TableCell><TableCell>Evitar contacto</TableCell><TableCell>Evitar contacto</TableCell></TableRow>\n                        <TableRow><TableCell>51 V - 300 V</TableCell><TableCell>3,0 m</TableCell><TableCell>1,0 m</TableCell><TableCell>Evitar contacto</TableCell></TableRow>\n                        <TableRow><TableCell>301 V - 750 V</TableCell><TableCell>3,0 m</TableCell><TableCell>1,0 m</TableCell><TableCell>0,3 m</TableCell></TableRow>\n                        <TableRow><TableCell>751 V - 15 kV</TableCell><TableCell>3,0 m</TableCell><TableCell>1,5 m</TableCell><TableCell>0,6 m</TableCell></TableRow>\n                        <TableRow><TableCell>15,1 kV - 36 kV</TableCell><TableCell>3,0 m</TableCell><TableCell>1,8 m</TableCell><TableCell>0,7 m</TableCell></TableRow>\n                        <TableRow><TableCell>36,1 kV - 72,5 kV</TableCell><TableCell>3,0 m</TableCell><TableCell>2,5 m</TableCell><TableCell>0,8 m</TableCell></TableRow>\n                        <TableRow><TableCell>72,6 kV - 145 kV</TableCell><TableCell>3,0 m</TableCell><TableCell>3,0 m</TableCell><TableCell>1,0 m</TableCell></TableRow>\n                    </TableBody>\n                </Table>\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Tensi√≥n a la cual el personal estar√° expuesto\">\n                 <div className=\"space-y-3\">\n                    <RadioGroupField id=\"muyBajaTension\" label=\"Muy baja tensi√≥n (Tensiones menores de 25 V).\" value={anexoEnergias?.tensionExpuesta?.muyBaja as string} onChange={(value) => handleFieldChange('tensionExpuesta', 'muyBaja', value)} />\n                    <RadioGroupField id=\"bajaTension\" label=\"Baja tensi√≥n (Tensi√≥n nominal mayor o igual 25 V y menor o igual a 1000 V).\" value={anexoEnergias?.tensionExpuesta?.baja as string} onChange={(value) => handleFieldChange('tensionExpuesta', 'baja', value)} />\n                    <RadioGroupField id=\"mediaTension\" label=\"Media tensi√≥n (Tensi√≥n nominal superior a 1000 V e inferior a 57,5 kV).\" value={anexoEnergias?.tensionExpuesta?.media as string} onChange={(value) => handleFieldChange('tensionExpuesta', 'media', value)} />\n                    <RadioGroupField id=\"altaTension\" label=\"Alta tensi√≥n (Tensiones mayores o iguales a 57,5 kV y menores o iguales a 230 kV).\" value={anexoEnergias?.tensionExpuesta?.alta as string} onChange={(value) => handleFieldChange('tensionExpuesta', 'alta', value)} />\n                    <RadioGroupField id=\"extraAltaTension\" label=\"Extra alta tensi√≥n (Tensiones superiores a 230kV)\" value={anexoEnergias?.tensionExpuesta?.extraAlta as string} onChange={(value) => handleFieldChange('tensionExpuesta', 'extraAlta', value)} />\n                </div>\n            </SectionWrapper>\n\n            <SectionWrapper title=\"Planeaci√≥n\">\n                <div className=\"space-y-3\">\n                    <RadioGroupField id=\"personalHabilitado\" label=\"Personal habilitado, certificado de competencia laboral vigente (Conte, Conaltel, Matr√≠cula profesional)\" value={anexoEnergias?.planeacion?.personalHabilitado as string} onChange={(value) => handleFieldChange('planeacion', 'personalHabilitado', value)} />\n                    <RadioGroupField id=\"viabilidadTecnica\" label=\"El personal habilitado eval√∫a la viabilidad t√©cnica (visita previa) y el riesgo asociado para las personas y para el sistema, cumpliendo las etapas de diagn√≥stico, planeaci√≥n y ejecuci√≥n de trabajos.\" value={anexoEnergias?.planeacion?.viabilidadTecnica as string} onChange={(value) => handleFieldChange('planeacion', 'viabilidadTecnica', value)} />\n                    <RadioGroupField id=\"noSimultaneo\" label=\"No se realizan trabajos simult√°neos sin y con tensi√≥n por el mismo trabajador en la misma √°rea de trabajo.\" value={anexoEnergias?.planeacion?.noSimultaneo as string} onChange={(value) => handleFieldChange('planeacion', 'noSimultaneo', value)} />\n                    <RadioGroupField id=\"autorizacionMantenimiento\" label=\"Autorizaci√≥n del √°rea de mantenimiento\" value={anexoEnergias?.planeacion?.autorizacionMantenimiento as string} onChange={(value) => handleFieldChange('planeacion', 'autorizacionMantenimiento', value)} />\n                    <RadioGroupField id=\"revisionInfo\" label=\"Revisi√≥n de informaci√≥n t√©cnica del sistema (diagrama unifilar, planos)\" value={anexoEnergias?.planeacion?.revisionInfo as string} onChange={(value) => handleFieldChange('planeacion', 'revisionInfo', value)} />\n                    <RadioGroupField id=\"procedimientoNormalizado\" label=\"Se cuenta con un procedimiento normalizado para realizar la actividad y ATS\" value={anexoEnergias?.planeacion?.procedimientoNormalizado as string} onChange={(value) => handleFieldChange('planeacion', 'procedimientoNormalizado', value)} />\n                    <RadioGroupField id=\"supervisionControl\" label=\"Se realizar supervisi√≥n y control en el sitio de trabajo considerando en forma prioritaria la detecci√≥n y el control de los riesgos, vigilando el cumplimiento estricto de las normas y procedimientos de seguridad aplicables\" value={anexoEnergias?.planeacion?.supervisionControl as string} onChange={(value) => handleFieldChange('planeacion', 'supervisionControl', value)} />\n                </div>\n                <div className=\"mt-6\">\n                    <Label>M√©todo de trabajo</Label>\n                    <div className=\"flex gap-4 p-4 border rounded-md\">\n                        <div className=\"flex items-center space-x-2\"><Checkbox id=\"metodoSinTension\" checked={anexoEnergias?.metodoTrabajo?.sinTension || false} onCheckedChange={(checked) => handleFieldChange('metodoTrabajo', 'sinTension', !!checked)} /><Label htmlFor=\"metodoSinTension\">Sin tensi√≥n</Label></div>\n                        <div className=\"flex items-center space-x-2\"><Checkbox id=\"metodoConTension\" checked={anexoEnergias?.metodoTrabajo?.conTension || false} onCheckedChange={(checked) => handleFieldChange('metodoTrabajo', 'conTension', !!checked)} /><Label htmlFor=\"metodoConTension\">Con tensi√≥n</Label></div>\n                    </div>\n                </div>\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Trabajo con Tensi√≥n (TCT) - igual o superior a 25 voltios\">\n                <div className=\"flex items-center space-x-2 mb-4\">\n                    <Checkbox id=\"trabajoConTensionCheck\" checked={anexoEnergias?.trabajoConTension?.trabajoConTensionCheck as boolean} onCheckedChange={(checked) => handleFieldChange('trabajoConTension', 'trabajoConTensionCheck', !!checked)} />\n                    <Label htmlFor=\"trabajoConTensionCheck\">Trabajo con tensi√≥n - TCT, igual o superior a 25 voltios</Label>\n                </div>\n                 {(anexoEnergias?.trabajoConTension?.trabajoConTensionCheck) && <div className=\"space-y-3\">\n                    <Label>M√©todo de trabajo</Label>\n                    <div className=\"flex gap-4 p-4 border rounded-md\">\n                       <div className=\"flex items-center space-x-2\"><Checkbox id=\"metodoAPotencial\" checked={anexoEnergias?.trabajoConTension?.aPotencial as boolean} onCheckedChange={(checked) => handleFieldChange('trabajoConTension', 'aPotencial', !!checked)} /><Label htmlFor=\"metodoAPotencial\">A potencial</Label></div>\n                       <div className=\"flex items-center space-x-2\"><Checkbox id=\"metodoADistancia\" checked={anexoEnergias?.trabajoConTension?.aDistancia as boolean} onCheckedChange={(checked) => handleFieldChange('trabajoConTension', 'aDistancia', !!checked)} /><Label htmlFor=\"metodoADistancia\">A distancia</Label></div>\n                       <div className=\"flex items-center space-x-2\"><Checkbox id=\"metodoAContacto\" checked={anexoEnergias?.trabajoConTension?.aContacto as boolean} onCheckedChange={(checked) => handleFieldChange('trabajoConTension', 'aContacto', !!checked)} /><Label htmlFor=\"metodoAContacto\">A contacto</Label></div>\n                    </div>\n                    <RadioGroupField id=\"respetarDistancias\" label=\"Respetar distancias m√≠nimas de seguridad con base en lo establecido en RETIE tablas 13.7, 13.8 y 18.1 (L√≠mite de aproximaci√≥n seguro, restringido, t√©cnico).\" value={anexoEnergias?.trabajoConTension?.respetarDistancias as string} onChange={(value) => handleFieldChange('trabajoConTension', 'respetarDistancias', value)} />\n                    <RadioGroupField id=\"usoEppTCT\" label=\"Uso de EPP especifico para trabajos con circuitos energizados...\" value={anexoEnergias?.trabajoConTension?.usoEpp as string} onChange={(value) => handleFieldChange('trabajoConTension', 'usoEpp', value)} />\n                </div>}\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Trabajo sin Tensi√≥n\">\n                 <div className=\"space-y-3\">\n                    <RadioGroupField id=\"trabajoSinTensionCheck\" label=\"Trabajo sin tensi√≥n\" value={anexoEnergias?.trabajoSinTension?.trabajoSinTensionCheck as string} onChange={(value) => handleFieldChange('trabajoSinTension', 'trabajoSinTensionCheck', value)} />\n                    <RadioGroupField id=\"analizarFuentes\" label=\"Analizar fuentes de energ√≠a (fichas y diagrama de bloqueo).\" value={anexoEnergias?.trabajoSinTension?.analizarFuentes as string} onChange={(value) => handleFieldChange('trabajoSinTension', 'analizarFuentes', value)} />\n                    <RadioGroupField id=\"comprobarNadieExpuesto\" label=\"Comprobar que nadie este expuesto a peligros.\" value={anexoEnergias?.trabajoSinTension?.comprobarNadieExpuesto as string} onChange={(value) => handleFieldChange('trabajoSinTension', 'comprobarNadieExpuesto', value)} />\n                    <RadioGroupField id=\"aplicarLOTO\" label=\"Aplicar procedimiento de bloqueo y aislamiento de energ√≠as, (Anexo 3). Hasta tanto no se haya aplicado a cabalidad las 5 reglas de oro y durante la aplicaci√≥n de las mismas, se debe considerar el sistema energizado y cumplir los controles establecidos para sistemas energizados.\" value={anexoEnergias?.trabajoSinTension?.aplicarLOTO as string} onChange={(value) => handleFieldChange('trabajoSinTension', 'aplicarLOTO', value)} />\n                    <RadioGroupField id=\"usoEppSinTension\" label=\"Uso de EPP especifico para trabajos con circuitos energizados (aplica durante aplicaci√≥n de 5 reglas de oro)...\" value={anexoEnergias?.trabajoSinTension?.usoEpp as string} onChange={(value) => handleFieldChange('trabajoSinTension', 'usoEpp', value)} />\n                 </div>\n            </SectionWrapper>\n             <div className=\"mt-4\">\n                <Label>OBSERVACIONES / SUPERVISI√ìN DEL TRABAJO CON ALG√öN TIPO DE ENERG√çA</Label>\n                <Input value={anexoEnergias?.observaciones || ''} onChange={(e) => handleInputChange('observaciones', e.target.value)} />\n            </div>\n\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 9041, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/components/AnexoIzajeStep.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport { usePermitForm } from '../form-context';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Button } from '@/components/ui/button';\nimport { ChevronDown, Signature } from 'lucide-react';\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { SignaturePad } from '@/components/ui/signature-pad';\nimport type { AutorizacionPersona, ValidacionDiaria } from '@/types';\n\nconst SectionWrapper: React.FC<{ title: string; children: React.ReactNode; defaultOpen?: boolean }> = ({ title, children, defaultOpen = false }) => {\n  const [isOpen, setIsOpen] = React.useState(defaultOpen);\n  return (\n    <Collapsible open={isOpen} onOpenChange={setIsOpen}>\n      <CollapsibleTrigger asChild>\n        <Button variant=\"ghost\" className=\"w-full justify-between p-3 bg-gray-100 rounded-lg cursor-pointer border\">\n          <h3 className=\"text-lg font-bold text-gray-700\">{title}</h3>\n          <ChevronDown className=\"h-5 w-5 transition-transform data-[state=open]:rotate-180\" />\n        </Button>\n      </CollapsibleTrigger>\n      <CollapsibleContent className=\"p-4 border-l border-r border-b rounded-b-lg\">\n        {children}\n      </CollapsibleContent>\n    </Collapsible>\n  );\n};\n\nconst RadioGroupField: React.FC<{ id: string; label: string; value: string; onChange: (value: string) => void; }> = ({ id, label, value, onChange }) => (\n    <div className=\"flex justify-between items-center p-3 border rounded-md bg-white\">\n        <Label htmlFor={id} className=\"text-sm font-medium flex-1\">{label}</Label>\n        <RadioGroup id={id} value={value || 'na'} onValueChange={onChange} className=\"flex gap-4\">\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"si\" id={`${id}-si`} /><Label htmlFor={`${id}-si`}>SI</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"no\" id={`${id}-no`} /><Label htmlFor={`${id}-no`}>NO</Label></div>\n            <div className=\"flex items-center space-x-2\"><RadioGroupItem value=\"na\" id={`${id}-na`} /><Label htmlFor={`${id}-na`}>N/A</Label></div>\n        </RadioGroup>\n    </div>\n);\n\nconst accionRealizarOptions = [\n    { id: 'levantar', label: 'Levantar' },\n    { id: 'trasladar', label: 'Trasladar' },\n    { id: 'montar', label: 'Montar' },\n    { id: 'desmontar', label: 'Desmontar' },\n    { id: 'cargar', label: 'Cargar' },\n    { id: 'descargar', label: 'Descargar' },\n];\n\nconst pesoCargaOptions = [\n    { id: 'menor1000', label: 'Menor a 1000 kg' },\n    { id: 'entre1000y2000', label: 'Entre 1000 kg y 2000 kg' },\n    { id: 'entre2000y3000', label: 'Entre 2000 kg y 3000 kg' },\n    { id: 'entre3000y4000', label: 'Entre 3000 kg y 4000 kg' },\n    { id: 'entre4000y5000', label: 'Entre 4000 kg y 5000 kg' },\n    { id: 'mas5000', label: 'Mas de 5000' },\n];\n\nconst equipoUtilizarOptions = [\n    { id: 'montacargas', label: 'Montacargas' },\n    { id: 'camionGrua', label: 'Cami√≥n Gr√∫a' },\n    { id: 'gruaMovil', label: 'Gr√∫a M√≥vil' },\n    { id: 'torreGrua', label: 'Torre Gr√∫a' },\n    { id: 'retroexcavadora', label: 'Retroexcavadora' },\n    { id: 'telehandler', label: 'Telehandler' },\n];\n\nconst aspectosRequeridos = [\n    { id: 'terrenoEstabilizado', label: 'A. Est√° estabilizado el terreno donde se encuentra el equipo de izaje.' },\n    { id: 'operadorVisualiza', label: 'B. El operador visualiza bien la carga y la operaci√≥n que va a realizar.' },\n    { id: 'calculoTecnico', label: 'C. Se calculo tecnicamente la maniobra. (Se cuenta con plan de izaje de cargas).' },\n    { id: 'areaSenalizada', label: 'D. Se encuentra se√±alizada y demarcada el √°rea de trabajo.' },\n    { id: 'capacidadVerificada', label: 'E. Se verifico la capacidad de cargue del equipo de izaje.' },\n    { id: 'curiososRetirados', label: 'F. Se retiraron los curiosos del √°rea de izaje y del radio del equipo de izaje.' },\n    { id: 'comunicacionClara', label: 'G. Existe comunicaci√≥n clara entre el operador, el encargado de la actividad y quienes participan en ella.' },\n    { id: 'atsRealizado', label: 'H. Se realizo el ATS (Analisis de Trabajo Seguro) para la ejecuci√≥n de la actividad.' },\n    { id: 'elementosBuenEstado', label: 'I. Se encuentran en buen estado las eslingas, aparejos y dem√°s elementos de sujeci√≥n o accesorios de izaje.' },\n    { id: 'polinesBuenEstado', label: 'J. Los polines para nivelaci√≥n de las gr√∫as est√°n en buen estado.' },\n    { id: 'polinesEstables', label: 'K. Los polines quedan estables con respecto al terreno.' },\n    { id: 'areaDespejada', label: 'L. Est√° dispuesta y despejada el √°rea donde se colocar√°n los elementos a izar.' },\n    { id: 'noPersonasBajoCarga', label: 'M. No existen personas bajo la carga izada.' },\n    { id: 'areaMovimientoEvaluada', label: 'N. Se evalu√≥ el √°rea donde se va a llevar la carga izada y el √°rea de movimiento de la carga.' },\n    { id: 'distanciaRedesElectricas', label: 'O. La actividad esta realiz√°ndose con la distancia de redes √©lectricas recomendada?' },\n    { id: 'condicionesClimaticas', label: 'P. Las condiciones climiticas son buenas para la realizaci√≥n de la actividad?' },\n    { id: 'equipoTierra', label: 'Q. El equipo tiene conexi√≥n a tierra?' },\n    { id: 'sinMaterialCaida', label: 'R. Se verifico que no halla ningun material que pudiera caer arriba de la carga al ser izada?' },\n    { id: 'senalizadorCapacitado', label: 'S. Hay un se√±alizador capacitado y entrenado para la actividad?' },\n    { id: 'colaboradoresAfiliados', label: 'T. Se verifico que los colaboradores est√©n afiliados al Sistema de Seguridad Social (EPS, ARL, AFP).' },\n];\n\nconst precaucionesControles = [\n    { id: 'inspeccionGrua', label: 'INSPECCI√ìN GR√öA/APAREJOS' },\n    { id: 'vigiaLineasElectricas', label: 'VIG√çA PARA L√çNEAS EL√âCTRICAS' },\n    { id: 'capacidadVsCarga', label: 'CAPACIDAD VS CARGA & LMI' },\n    { id: 'apoyoTerreno', label: 'APOYO DEL TERRENO' },\n    { id: 'certificacionOperador', label: 'CERTIFICACI√ìN OPERADOR-RIGGER' },\n    { id: 'comunicacionRadialLuminica', label: 'COMUNICACI√ìN RADIAL/LUM√çNICA' },\n    { id: 'planIzaje', label: 'PLAN DE IZAJE' },\n    { id: 'planRescate', label: 'PLAN DE RESCATE' },\n    { id: 'senalizacionDemarcacion', label: 'SE√ëALIZACI√ìN Y DEMARCACION AREA' },\n    { id: 'eppObligatorio', label: 'EPP OBLIGATORIO' },\n    { id: 'estabilizadoresTerreno', label: 'ESTABILIZADORES & TERRENO' },\n    { id: 'climaSeguro', label: 'CLIMA SEGURO' },\n];\n\nexport function AnexoIzajeStep() {\n    const { state, dispatch } = usePermitForm();\n    const { generalInfo, anexoIzaje } = state;\n    const [isSignatureDialogOpen, setIsSignatureDialogOpen] = React.useState(false);\n    const [signingTarget, setSigningTarget] = React.useState<{ section: 'autoridadArea' | 'responsableTrabajo' | 'validacion.autoridad' | 'validacion.responsable' | 'cancelacion' | 'cierre.autoridad' | 'cierre.responsable'; field?: string; index?: number } | null>(null);\n\n    const handleUpdate = (payload: any) => {\n        dispatch({ type: 'UPDATE_ANEXO_IZAJE', payload });\n    };\n\n    const handleNestedChange = (section: keyof typeof anexoIzaje, field: string, value: any) => {\n        handleUpdate({ [section]: { ...(anexoIzaje as any)[section], [field]: value } });\n    };\n\n    const handleDeepNestedChange = (section: keyof typeof anexoIzaje.informacionGeneral, field: string, value: any) => {\n        handleNestedChange('informacionGeneral', section, { ...(anexoIzaje.informacionGeneral as any)[section], [field]: value });\n    };\n\n    const handleListChange = (section: 'validacion', list: 'autoridad' | 'responsable', index: number, field: keyof ValidacionDiaria, value: string) => {\n        const currentList = (anexoIzaje[section] as any)?.[list] || [];\n        const newList = [...currentList];\n        newList[index] = { ...newList[index], [field]: value };\n        handleNestedChange(section, list, newList);\n    };\n\n    React.useEffect(() => {\n        if (!anexoIzaje.validacion) {\n            const authorityValidation = Array(7).fill(0).map((_, i) => ({ dia: i + 1, nombre: '', firma: '', fecha: '' }));\n            const responsibleValidation = Array(7).fill(0).map((_, i) => ({ dia: i + 1, nombre: '', firma: '', fecha: '' }));\n            handleNestedChange('validacion', 'autoridad', authorityValidation);\n            handleNestedChange('validacion', 'responsable', responsibleValidation);\n        }\n    }, [anexoIzaje.validacion]);\n\n    const openSignatureDialog = (section: any, field?: string, index?: number) => {\n        setSigningTarget({ section, field, index });\n        setIsSignatureDialogOpen(true);\n    };\n\n    const handleSaveSignature = (signature: string) => {\n        if (!signingTarget) return;\n        const { section, field, index } = signingTarget;\n\n        if (section === 'validacion.autoridad' || section === 'validacion.responsable') {\n            const [valSection, list] = section.split('.');\n            handleListChange(valSection as 'validacion', list as 'autoridad' | 'responsable', index!, 'firma', signature);\n        } else {\n             const [main, sub] = section.split('.');\n             if(sub) {\n                 handleNestedChange(main as any, sub, { ...((anexoIzaje as any)[main] || {})[sub], firma: signature });\n             } else {\n                handleNestedChange(section as any, 'firma', signature);\n             }\n        }\n        \n        setIsSignatureDialogOpen(false);\n    };\n\n    return (\n        <div className=\"space-y-8\">\n            <div className=\"text-center\">\n                <h2 className=\"text-2xl md:text-3xl font-bold mb-2 text-primary\">Anexo de Izaje de Cargas</h2>\n                <p className=\"text-muted-foreground text-sm\">Complete la informaci√≥n requerida para el izaje de cargas.</p>\n            </div>\n\n            <SectionWrapper title=\"Informaci√≥n General del Anexo\" defaultOpen>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div><Label>Emitido por:</Label><Input value={generalInfo.nombreSolicitante || ''} readOnly disabled /></div>\n                    <div><Label>√Årea de Trabajo:</Label><Input value={generalInfo.areaEspecifica || ''} readOnly disabled /></div>\n                </div>\n                 <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n                    <div><Label>En caso de emergencia contactar a:</Label><Input value={anexoIzaje.emergencia?.contacto || ''} onChange={(e) => handleNestedChange('emergencia', 'contacto', e.target.value)} /></div>\n                    <div><Label>Tel√©fono:</Label><Input value={anexoIzaje.emergencia?.telefono || ''} onChange={(e) => handleNestedChange('emergencia', 'telefono', e.target.value)} /></div>\n                </div>\n            </SectionWrapper>\n\n            <SectionWrapper title=\"Informaci√≥n de la Carga y Equipo\">\n                 <div className=\"space-y-4\">\n                    <div>\n                        <Label className=\"font-semibold\">Acci√≥n a Realizar</Label>\n                        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 p-2 border rounded-md\">\n                            {accionRealizarOptions.map(o => (\n                                <div key={o.id} className=\"flex items-center gap-2\"><Checkbox id={`accion-${o.id}`} checked={anexoIzaje.informacionGeneral?.accion[o.id]} onCheckedChange={(c) => handleDeepNestedChange('accion', o.id, !!c)} /><Label htmlFor={`accion-${o.id}`}>{o.label}</Label></div>\n                            ))}\n                        </div>\n                    </div>\n                     <div>\n                        <Label className=\"font-semibold\">Peso de la Carga</Label>\n                        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 p-2 border rounded-md\">\n                             {pesoCargaOptions.map(o => (\n                                <div key={o.id} className=\"flex items-center gap-2\"><Checkbox id={`peso-${o.id}`} checked={anexoIzaje.informacionGeneral?.pesoCarga[o.id]} onCheckedChange={(c) => handleDeepNestedChange('pesoCarga', o.id, !!c)} /><Label htmlFor={`peso-${o.id}`}>{o.label}</Label></div>\n                            ))}\n                        </div>\n                    </div>\n                     <div>\n                        <Label className=\"font-semibold\">Equipo a Utilizar</Label>\n                        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 p-2 border rounded-md\">\n                             {equipoUtilizarOptions.map(o => (\n                                <div key={o.id} className=\"flex items-center gap-2\"><Checkbox id={`equipo-${o.id}`} checked={anexoIzaje.informacionGeneral?.equipoUtilizar[o.id]} onCheckedChange={(c) => handleDeepNestedChange('equipoUtilizar', o.id, !!c)} /><Label htmlFor={`equipo-${o.id}`}>{o.label}</Label></div>\n                            ))}\n                        </div>\n                    </div>\n                    <div>\n                        <Label htmlFor=\"capacidadEquipo\" className=\"font-semibold\">Capacidad del Equipo</Label>\n                        <Input id=\"capacidadEquipo\" value={anexoIzaje.informacionGeneral?.capacidadEquipo} onChange={(e) => handleNestedChange('informacionGeneral', 'capacidadEquipo', e.target.value)} />\n                    </div>\n                </div>\n            </SectionWrapper>\n\n            <SectionWrapper title=\"Aspectos Requeridos para Realizar Izaje\">\n                <div className=\"space-y-2\">\n                    {aspectosRequeridos.map(a => (\n                        <RadioGroupField key={a.id} id={`aspecto-${a.id}`} label={a.label} value={anexoIzaje.aspectosRequeridos?.[a.id]} onChange={(v) => handleNestedChange('aspectosRequeridos', a.id, v)} />\n                    ))}\n                </div>\n            </SectionWrapper>\n            \n            <SectionWrapper title=\"Precauciones y Controles Espec√≠ficos\">\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 p-2 border rounded-md\">\n                    {precaucionesControles.map(p => (\n                        <div key={p.id} className=\"flex items-center gap-2\"><Checkbox id={`preca-${p.id}`} checked={anexoIzaje.precauciones?.[p.id]} onCheckedChange={(c) => handleNestedChange('precauciones', p.id, !!c)} /><Label htmlFor={`preca-${p.id}`}>{p.label}</Label></div>\n                    ))}\n                </div>\n            </SectionWrapper>\n\n            <SectionWrapper title=\"Autorizaciones\">\n                 <div className=\"space-y-6\">\n                    <div className=\"p-4 border rounded-lg\">\n                        <p className=\"text-sm font-semibold mb-2\">Autoridad del √Årea</p>\n                        <p className=\"text-xs text-muted-foreground mb-4\">\"Al firmar como Autoridad del √Årea, estoy enterado del trabajo a realizar y apruebo su ejecucion bajo las medidas de seguridad contempladas en este permiso y sus documentos complementarios.\"</p>\n                        <div className=\"grid grid-cols-2 gap-4\">\n                            <Input placeholder=\"Nombre Completo\" value={anexoIzaje.autoridadArea?.nombre || ''} onChange={(e) => handleNestedChange('autoridadArea', 'nombre', e.target.value)} />\n                            <Input type=\"time\" placeholder=\"Hora\" value={anexoIzaje.autoridadArea?.hora || ''} onChange={(e) => handleNestedChange('autoridadArea', 'hora', e.target.value)} />\n                        </div>\n                        <Button variant=\"outline\" className=\"w-full mt-4\" onClick={() => openSignatureDialog('autoridadArea')}><Signature className=\"mr-2\"/>Firmar</Button>\n                        {anexoIzaje.autoridadArea?.firma && <img src={anexoIzaje.autoridadArea.firma} alt=\"Firma\" className=\"mt-2 border rounded-md max-h-20\" />}\n                    </div>\n                    <div className=\"p-4 border rounded-lg\">\n                        <p className=\"text-sm font-semibold mb-2\">Responsable del Trabajo</p>\n                        <p className=\"text-xs text-muted-foreground mb-4\">\"Al firmar como Responsable del Trabajo / Ejecutor, Manifiesto que entiendo el trabajo que voy a realizar y los riesgos asosciados a este, dispongo de los recursos necesarios y tomare las medidas de seguridad.\"</p>\n                        <div className=\"grid grid-cols-2 gap-4\">\n                             <Input placeholder=\"Nombre Completo\" value={anexoIzaje.responsableTrabajo?.nombre || ''} onChange={(e) => handleNestedChange('responsableTrabajo', 'nombre', e.target.value)} />\n                             <Input type=\"time\" placeholder=\"Hora\" value={anexoIzaje.responsableTrabajo?.hora || ''} onChange={(e) => handleNestedChange('responsableTrabajo', 'hora', e.target.value)} />\n                        </div>\n                        <Button variant=\"outline\" className=\"w-full mt-4\" onClick={() => openSignatureDialog('responsableTrabajo')}><Signature className=\"mr-2\"/>Firmar</Button>\n                        {anexoIzaje.responsableTrabajo?.firma && <img src={anexoIzaje.responsableTrabajo.firma} alt=\"Firma\" className=\"mt-2 border rounded-md max-h-20\" />}\n                    </div>\n                </div>\n            </SectionWrapper>\n             <SectionWrapper title=\"Validaci√≥n y Cierre\">\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                    <div className=\"p-4 border rounded-lg space-y-2\">\n                        <h4 className=\"font-semibold\">Autoridad del √Årea</h4>\n                        <p className='text-xs text-muted-foreground'>Entiendo todas las condiciones de este trabajo y la responsabilidad de implementar las medidas de control establecidas.</p>\n                         <Table>\n                            <TableHeader><TableRow><TableHead>D√≠a</TableHead><TableHead>Nombre</TableHead><TableHead>Firma</TableHead><TableHead>Fecha</TableHead></TableRow></TableHeader>\n                            <TableBody>\n                                {(anexoIzaje.validacion?.autoridad || []).map((v, i) => (\n                                    <TableRow key={i}>\n                                        <TableCell>{i + 1}</TableCell>\n                                        <TableCell><Input value={v.nombre} onChange={(e) => handleListChange('validacion', 'autoridad', i, 'nombre', e.target.value)} className=\"h-8\" /></TableCell>\n                                        <TableCell><Button variant=\"ghost\" size=\"icon\" onClick={() => openSignatureDialog('validacion.autoridad', undefined, i)}><Signature className=\"h-4 w-4\"/></Button></TableCell>\n                                        <TableCell><Input type=\"date\" value={v.fecha} onChange={(e) => handleListChange('validacion', 'autoridad', i, 'fecha', e.target.value)} className=\"h-8\" /></TableCell>\n                                    </TableRow>\n                                ))}\n                            </TableBody>\n                         </Table>\n                    </div>\n                    <div className=\"p-4 border rounded-lg space-y-2\">\n                        <h4 className=\"font-semibold\">Responsable del Trabajo/Ejecutor</h4>\n                        <p className='text-xs text-muted-foreground'>Entiendo todas las condiciones de este trabajo y la responsabilidad de implementar las medidas de control establecidas.</p>\n                         <Table>\n                            <TableHeader><TableRow><TableHead>D√≠a</TableHead><TableHead>Nombre</TableHead><TableHead>Firma</TableHead><TableHead>Fecha</TableHead></TableRow></TableHeader>\n                            <TableBody>\n                                {(anexoIzaje.validacion?.responsable || []).map((v, i) => (\n                                    <TableRow key={i}>\n                                        <TableCell>{i + 1}</TableCell>\n                                        <TableCell><Input value={v.nombre} onChange={(e) => handleListChange('validacion', 'responsable', i, 'nombre', e.target.value)} className=\"h-8\" /></TableCell>\n                                        <TableCell><Button variant=\"ghost\" size=\"icon\" onClick={() => openSignatureDialog('validacion.responsable', undefined, i)}><Signature className=\"h-4 w-4\"/></Button></TableCell>\n                                        <TableCell><Input type=\"date\" value={v.fecha} onChange={(e) => handleListChange('validacion', 'responsable', i, 'fecha', e.target.value)} className=\"h-8\" /></TableCell>\n                                    </TableRow>\n                                ))}\n                            </TableBody>\n                         </Table>\n                    </div>\n                </div>\n             </SectionWrapper>\n            \n            <Dialog open={isSignatureDialogOpen} onOpenChange={setIsSignatureDialogOpen}>\n                <DialogContent>\n                    <DialogHeader><DialogTitle>Registrar Firma</DialogTitle></DialogHeader>\n                    <SignaturePad onSave={handleSaveSignature} />\n                </DialogContent>\n            </Dialog>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 10492, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/permits/create/page.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useUser } from '@/hooks/use-user';\nimport { useToast } from '@/hooks/use-toast';\nimport { createPermit } from '../actions';\nimport { useRouter } from 'next/navigation';\nimport {\n  CheckCircle,\n  XCircle,\n  AlertTriangle,\n  FileText,\n  Users,\n  Shield,\n  Upload,\n  Camera,\n  Wand2,\n  Loader2,\n  X,\n  UserPlus,\n  Signature,\n  FileUp,\n  Edit,\n  Plus,\n  Trash2,\n  Clock,\n  Check,\n  ArrowRight,\n  ArrowLeft,\n  Copy,\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n} from '@/components/ui/dialog';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from \"@/components/ui/alert-dialog\";\nimport type { Permit, ExternalWorker, Tool, AnexoAltura, AnexoConfinado, AnexoIzaje, MedicionAtmosferica, AnexoEnergias, AnexoATS, PermitGeneralInfo, ValidacionDiaria, AutorizacionPersona, PruebaGasesPeriodica, AnexoCaliente, AnexoExcavaciones, JustificacionATS } from '@/types';\nimport { SignaturePad } from '@/components/ui/signature-pad';\nimport Image from 'next/image';\nimport { PermitFormProvider, usePermitForm } from './form-context';\nimport { GeneralInfoStep } from './components/GeneralInfoStep';\nimport { AtsStep } from './components/AtsStep';\nimport { AnexoAlturaStep } from './components/AnexoAlturaStep';\nimport { AnexoConfinadoStep } from './components/AnexoConfinadoStep';\nimport { AnexoEnergiaStep } from './components/AnexoEnergiaStep';\nimport { AnexoIzajeStep } from './components/AnexoIzajeStep';\n\n\nconst workerRoles = [\n  \"Trabajador autorizado\",\n  \"Ayudante de seguridad\",\n  \"Coordinador de TA\",\n  \"Supervisor de EC\",\n  \"Soldador\",\n  \"Operador de equipo para elevaci√≥n de personas\",\n  \"Vig√≠a\",\n  \"Otro\"\n];\n\nfunction CreatePermitWizard() {\n  const { user } = useUser();\n  const { toast } = useToast();\n  const router = useRouter();\n\n  const { state: formData, dispatch } = usePermitForm();\n\n  const [step, setStep] = useState(1);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isAssessing, setIsAssessing] = useState(false);\n  const [recommendations, setRecommendations] = useState('');\n  const [showSuccessDialog, setShowSuccessDialog] = useState(false);\n  const [newPermitInfo, setNewPermitInfo] = useState({ id: '', number: '' });\n\n  // Step 5 - Emergencia, Trabajadores\n  const [isWorkerDialogOpen, setIsWorkerDialogOpen] = useState(false);\n  const [currentWorker, setCurrentWorker] = useState<Partial<ExternalWorker> | null>(null);\n  const [editingWorkerIndex, setEditingWorkerIndex] = useState<number | null>(null);\n  const [isSignaturePadOpen, setIsSignaturePadOpen] = useState(false);\n  const [signatureTarget, setSignatureTarget] = useState<string | null>(null);\n  const [signatureContext, setSignatureContext] = useState<any>(null);\n\n  useEffect(() => {\n    if (user && !formData.generalInfo.nombreSolicitante) {\n      dispatch({ type: 'UPDATE_GENERAL_INFO', payload: { nombreSolicitante: user.displayName || '' } });\n    }\n  }, [user, formData.generalInfo.nombreSolicitante, dispatch]);\n\n  const openNewWorkerDialog = () => {\n    setEditingWorkerIndex(null);\n    setCurrentWorker({\n      nombre: '',\n      cedula: '',\n      rol: '',\n      eps: '',\n      arl: '',\n      pensiones: '',\n      tsaTec: 'na',\n      entrenamiento: 'otro',\n      firmaApertura: '',\n      firmaCierre: ''\n    });\n    setIsWorkerDialogOpen(true);\n  };\n  \n  const openEditWorkerDialog = (worker: ExternalWorker, index: number) => {\n    setEditingWorkerIndex(index);\n    setCurrentWorker(worker);\n    setIsWorkerDialogOpen(true);\n  };\n\n  const handleSaveWorker = () => {\n    if (!currentWorker || !currentWorker.nombre || !currentWorker.cedula || !currentWorker.rol) {\n      toast({\n        variant: 'destructive',\n        title: 'Campos Incompletos',\n        description: 'Nombre, c√©dula y rol son requeridos.',\n      });\n      return;\n    }\n\n    if (editingWorkerIndex !== null) {\n      const updatedWorkers = [...(formData.workers || [])];\n      updatedWorkers[editingWorkerIndex] = currentWorker as ExternalWorker;\n      dispatch({ type: 'SET_WORKERS', payload: updatedWorkers });\n      toast({ title: 'Trabajador Actualizado' });\n    } else {\n      dispatch({ type: 'ADD_WORKER', payload: currentWorker as ExternalWorker });\n      toast({ title: 'Trabajador Agregado' });\n    }\n\n    setIsWorkerDialogOpen(false);\n    setCurrentWorker(null);\n    setEditingWorkerIndex(null);\n  };\n  \n  const removeWorker = (index: number) => {\n    const updatedWorkers = (formData.workers || []).filter((_, i) => i !== index);\n    dispatch({ type: 'SET_WORKERS', payload: updatedWorkers });\n  };\n  \n  const handleWorkerInputChange = (field: keyof ExternalWorker, value: string) => {\n    setCurrentWorker(prev => prev ? { ...prev, [field]: value } : null);\n  };\n\n  const handleFileUpload = (field: keyof ExternalWorker) => {\n    // This is a simulation. In a real app, you'd handle file uploads.\n    handleWorkerInputChange(field, `archivo_cargado_${Date.now()}.pdf`);\n    toast({ title: 'Archivo Simulado', description: 'Se ha simulado la carga de un archivo.'})\n  }\n\n  const openSignaturePad = (target: string, context?: any) => {\n    setSignatureTarget(target);\n    setSignatureContext(context);\n    setIsSignaturePadOpen(true);\n  };\n\n  const handleSaveSignature = (signatureDataUrl: string) => {\n    if (!signatureTarget) return;\n\n    if (signatureTarget === 'worker.firmaApertura' || signatureTarget === 'worker.firmaCierre') {\n       setCurrentWorker(prev => prev ? { ...prev, [signatureTarget.split('.')[1]]: signatureDataUrl } : null);\n    } else {\n       dispatch({ type: 'UPDATE_SIGNATURE', payload: { target: signatureTarget, signature: signatureDataUrl, context: signatureContext }});\n    }\n\n    setIsSignaturePadOpen(false);\n    setSignatureTarget(null);\n    setSignatureContext(null);\n  };\n\n  const colors = {\n    primary: 'hsl(var(--primary))',\n    dark: 'hsl(var(--primary))', \n    success: 'hsl(var(--accent))',\n  };\n  \n  const canProceed = () => {\n    // Validate Step 1\n    if (step === 1) {\n        const { areaEspecifica, planta, nombreSolicitante, validFrom, validUntil, workDescription, numTrabajadores } = formData.generalInfo;\n        const missingFields = [];\n        if (!areaEspecifica) missingFields.push(\"√Årea espec√≠fica\");\n        if (!planta) missingFields.push(\"Planta\");\n        if (!nombreSolicitante) missingFields.push(\"Nombre solicitante\");\n        if (!validFrom) missingFields.push(\"Fecha de inicio\");\n        if (!validUntil) missingFields.push(\"Fecha de fin\");\n        if (!workDescription) missingFields.push(\"Descripci√≥n de la Tarea\");\n        if (!numTrabajadores) missingFields.push(\"No. Trabajadores\");\n\n        const workTypes = formData.selectedWorkTypes;\n        if (!Object.values(workTypes).some(v => v)) {\n            missingFields.push(\"Tipo de Trabajo (al menos uno)\");\n        }\n\n        if (missingFields.length > 0) {\n            toast({\n                variant: \"destructive\",\n                title: \"Campos Incompletos en Informaci√≥n General\",\n                description: `Por favor, complete los siguientes campos obligatorios: ${missingFields.join(', ')}.`,\n            });\n            return false;\n        }\n    }\n    \n    // Add validation for other steps if needed\n    return true;\n  };\n  \n  const handleAssessRisk = async () => {\n    // Implement AI risk assessment logic\n  };\n\n  const handleSavePermit = async () => {\n    if (!user) {\n      toast({ variant: 'destructive', title: 'Error de Autenticaci√≥n' });\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const result = await createPermit({\n          userId: user.uid, \n          userDisplayName: user.displayName || null, \n          userEmail: user.email || null,\n          userPhotoURL: user.photoURL || null,\n          ...formData\n        });\n      \n      if (result.success && result.permitId) {\n        setNewPermitInfo({\n            id: result.permitId,\n            number: result.permitNumber || '',\n        });\n        setShowSuccessDialog(true);\n      } else {\n        throw new Error(result.error || 'Hubo un error creando el permiso.');\n      }\n      \n    } catch (error: any) {\n      toast({\n        variant: 'destructive',\n        title: 'Fall√≥ el Env√≠o',\n        description: error.message,\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const baseSteps = [\n    { label: \"Info General\", condition: true },\n    { label: \"ATS y Peligros\", condition: true },\n    { label: \"Anexo Altura\", condition: formData.selectedWorkTypes.alturas},\n    { label: \"Anexo Confinado\", condition: formData.selectedWorkTypes.confinado},\n    { label: \"Anexo Energ√≠as\", condition: formData.selectedWorkTypes.energia},\n    { label: \"Anexo Caliente\", condition: formData.selectedWorkTypes.caliente},\n    { label: \"Anexo Izaje\", condition: formData.selectedWorkTypes.izaje},\n    { label: \"Anexo Excavaciones\", condition: formData.selectedWorkTypes.excavacion},\n    { label: \"Verificaci√≥n Peligros\", condition: true },\n    { label: \"EPP y Emergencias\", condition: true },\n    { label: \"Trabajadores\", condition: true },\n    { label: \"Revisi√≥n\", condition: true }\n  ];\n\n  const steps = baseSteps.filter(s => s.condition);\n  const currentStepInfo = steps[step - 1];\n  \n  const getInitials = (name?: string | null) => {\n    if (!name) return 'U';\n    return name.split(' ').map(n => n[0]).slice(0, 2).join('').toUpperCase();\n  };\n  \n  const handleUpdateATS = useCallback((updates: Partial<AnexoATS>) => {\n    dispatch({ type: 'UPDATE_ATS', payload: updates });\n  }, [dispatch]);\n\n  const renderStepContent = () => {\n    const currentStepLabel = steps[step - 1]?.label;\n    switch (currentStepLabel) {\n      case \"Info General\":\n        return <GeneralInfoStep />;\n      case \"ATS y Peligros\":\n        return <AtsStep anexoATS={formData.anexoATS} onUpdateATS={handleUpdateATS} />;\n      case \"Anexo Altura\":\n        return <AnexoAlturaStep />;\n      case \"Anexo Confinado\":\n        return <AnexoConfinadoStep />;\n      case \"Anexo Energ√≠as\":\n        return <AnexoEnergiaStep />;\n      case \"Anexo Izaje\":\n        return <AnexoIzajeStep />;\n      // Add other cases as you create the components\n      default:\n        return (\n          <div className=\"text-center p-8\">\n            <h3 className=\"text-xl font-bold\">Paso en Construcci√≥n</h3>\n            <p className=\"text-muted-foreground\">{currentStepLabel}</p>\n          </div>\n        );\n    }\n  };\n\n  return (\n    <>\n    <div className=\"flex flex-1 flex-col bg-gray-50 min-h-screen\">\n      <header className=\"text-white shadow-lg sticky top-0 z-20\" style={{ background: `linear-gradient(135deg, ${colors.primary} 0%, ${colors.dark} 100%)` }}>\n        <div className=\"max-w-7xl mx-auto px-4 py-3 md:py-4\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <div className=\"flex items-center gap-3\">\n                <Image \n                    src=\"https://i.postimg.cc/jShP2K6k/Whats-App-Image-2025-10-20-at-10-43-48-AM.jpg\"\n                    alt=\"Crear Permiso Icon\"\n                    width={48}\n                    height={48}\n                    className=\"rounded-full\"\n                />\n                <div className=\"hidden md:block border-l border-white border-opacity-30 pl-3\">\n                  <h1 className=\"text-xl font-bold\">Nuevo Permiso de Trabajo</h1>\n                  <p className=\"text-sm text-white text-opacity-80\">\n                    Paso {step} de {steps.length}: {currentStepInfo.label}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <Button\n              onClick={() => {\n                if (confirm('¬øEst√° seguro de cancelar? Los cambios no guardados se perder√°n.')) {\n                  router.push('/dashboard');\n                }\n              }}\n              variant=\"ghost\"\n              className=\"bg-white bg-opacity-20 hover:bg-opacity-30\"\n            >\n              <X size={18} className=\"mr-2\" />\n              <span className=\"hidden sm:inline\">Cancelar</span>\n            </Button>\n          </div>\n        </div>\n      </header>\n      \n      <div className=\"bg-white border-b shadow-sm sticky top-[68px] md:top-[80px] z-10\">\n        <div className=\"max-w-7xl mx-auto px-4 py-4 md:py-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            {steps.map((s_info, s_idx) => {\n              const s = s_idx + 1;\n              return(\n              <div key={s} className=\"flex items-center flex-1\">\n                <div className={`relative flex items-center justify-center w-8 h-8 md:w-10 md:h-10 rounded-full font-bold text-sm transition-all ${\n                  s === step ? 'ring-4 scale-110 shadow-lg text-white' :\n                  s < step ? 'text-white' :\n                  'bg-gray-200 text-gray-600'\n                }`}\n                style={s <= step ? { backgroundColor: s === step ? colors.primary : colors.success } : {}}>\n                  {s < step ? <CheckCircle size={20}/> : s_idx + 1}\n                </div>\n                {s < steps.length && (\n                  <div className=\"flex-1 h-1 mx-1 md:mx-2 rounded\" style={{ \n                    backgroundColor: s < step ? colors.success : '#E5E7EB' \n                  }} />\n                )}\n              </div>\n            )})}\n          </div>\n          <div className=\"grid\" style={{gridTemplateColumns: `repeat(${steps.length}, minmax(0, 1fr))`}}>\n            {steps.map((s_info, s_idx) => (\n              <span key={s_idx} className=\"text-[10px] md:text-xs text-center font-medium\" style={{ color: step === s_idx + 1 ? colors.primary : '#6B7280' }}>{s_info.label}</span>\n            ))}\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"max-w-5xl mx-auto p-4 pb-24 md:pb-24 w-full\">\n        <div key={step} className=\"bg-white rounded-xl shadow-xl p-6 md:p-8\">\n          {renderStepContent()}\n        </div>\n\n        {/* Navigation Buttons */}\n        <div className=\"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-sm border-t shadow-lg z-20\">\n          <div className=\"max-w-5xl mx-auto px-4 py-3 flex gap-4\">\n            <Button\n              onClick={() => setStep(step - 1)}\n              disabled={isSubmitting || step === 1}\n              variant=\"outline\"\n              className=\"px-6 py-3 h-auto md:px-8\"\n            >\n              <ArrowLeft className=\"mr-2\" />\n              Anterior\n            </Button>\n            \n            {step < steps.length ? (\n              <Button\n                onClick={() => {\n                  if (canProceed()) {\n                    setStep(step + 1);\n                  }\n                }}\n                disabled={isSubmitting}\n                className=\"flex-1 py-3 h-auto\"\n              >\n                Siguiente\n                <ArrowRight className=\"ml-2\" />\n              </Button>\n            ) : (\n                <AlertDialog>\n                    <AlertDialogTrigger asChild>\n                         <Button\n                            disabled={isSubmitting}\n                            className=\"flex-1 py-3 h-auto bg-green-600 hover:bg-green-700 text-lg\"\n                        >\n                            {isSubmitting ? (\n                            <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                            ) : (\n                            <CheckCircle size={22} className=\"mr-2\" />\n                            )}\n                            <span>Enviar para Aprobaci√≥n</span>\n                        </Button>\n                    </AlertDialogTrigger>\n                    <AlertDialogContent>\n                        <AlertDialogHeader>\n                            <AlertDialogTitle>¬øEst√° seguro de enviar el permiso?</AlertDialogTitle>\n                            <AlertDialogDescription>\n                                Una vez que env√≠e el permiso para su aprobaci√≥n, ya no podr√° realizar modificaciones. Aseg√∫rese de que toda la informaci√≥n es correcta.\n                            </AlertDialogDescription>\n                        </AlertDialogHeader>\n                        <AlertDialogFooter>\n                            <AlertDialogCancel>Cancelar</AlertDialogCancel>\n                            <AlertDialogAction onClick={handleSavePermit} disabled={isSubmitting}>\n                                 {isSubmitting ? 'Enviando...' : 'S√≠, enviar ahora'}\n                            </AlertDialogAction>\n                        </AlertDialogFooter>\n                    </AlertDialogContent>\n                </AlertDialog>\n            )}\n          </div>\n        </div>\n      </div>\n      \n      <Dialog open={showSuccessDialog} onOpenChange={setShowSuccessDialog}>\n          <DialogContent>\n              <DialogHeader>\n                  <DialogTitle className=\"flex items-center gap-2 text-green-600\">\n                      <CheckCircle />\n                      ¬°Permiso Creado Exitosamente!\n                  </DialogTitle>\n                  <DialogDescription>\n                      El permiso N¬∞ <strong>{newPermitInfo.number}</strong> ha sido creado y enviado para revisi√≥n.\n                  </DialogDescription>\n              </DialogHeader>\n              <DialogFooter className=\"sm:justify-between gap-2\">\n                  <Button variant=\"outline\" onClick={() => router.push('/dashboard')}>\n                      Ir al Dashboard\n                  </Button>\n                   <Button onClick={() => router.push(`/permits/${newPermitInfo.id}`)}>\n                      Ver Detalles del Permiso\n                   </Button>\n              </DialogFooter>\n          </DialogContent>\n      </Dialog>\n      \n       <Dialog open={isSignaturePadOpen} onOpenChange={setIsSignaturePadOpen}>\n        <DialogContent className=\"w-[90vw] max-w-lg\">\n          <DialogHeader>\n            <DialogTitle>Registrar Firma</DialogTitle>\n          </DialogHeader>\n          <SignaturePad onSave={handleSaveSignature} />\n        </DialogContent>\n      </Dialog>\n    </div>\n    </>\n  );\n}\n\nexport default function CreatePermitPage() {\n  return (\n    <PermitFormProvider>\n      <CreatePermitWizard />\n    </PermitFormProvider>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}